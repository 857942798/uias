{"version":3,"sources":["webpack://wangEditor/webpack/universalModuleDefinition","webpack://wangEditor/webpack/bootstrap","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js","webpack://wangEditor/./src/utils/dom-core.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/create.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/set-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/internals/export.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js","webpack://wangEditor/./src/utils/util.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/global.js","webpack://wangEditor/./node_modules/core-js-pure/internals/well-known-symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/define-well-known-symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/path.js","webpack://wangEditor/./node_modules/core-js-pure/internals/fails.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/descriptors.js","webpack://wangEditor/./node_modules/core-js-pure/internals/has.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-define-property.js","webpack://wangEditor/./node_modules/core-js-pure/internals/entry-virtual.js","webpack://wangEditor/./node_modules/core-js-pure/internals/create-non-enumerable-property.js","webpack://wangEditor/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://wangEditor/./node_modules/css-loader/dist/runtime/api.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js","webpack://wangEditor/./src/menus/menu-constructors/DropListMenu.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/an-object.js","webpack://wangEditor/./src/menus/menu-constructors/BtnMenu.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/to-indexed-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-method-uses-to-length.js","webpack://wangEditor/./src/menus/menu-constructors/Panel.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/classof-raw.js","webpack://wangEditor/./node_modules/core-js-pure/internals/set-to-string-tag.js","webpack://wangEditor/./src/utils/const.ts","webpack://wangEditor/./src/menus/menu-constructors/PanelMenu.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/a-function.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-length.js","webpack://wangEditor/./node_modules/core-js-pure/internals/get-built-in.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-pure.js","webpack://wangEditor/./node_modules/core-js-pure/internals/internal-state.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/iterators.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-iteration.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js","webpack://wangEditor/./src/menus/menu-constructors/Tooltip.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/create-property-descriptor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/require-object-coercible.js","webpack://wangEditor/./node_modules/core-js-pure/internals/function-bind-context.js","webpack://wangEditor/./node_modules/core-js-pure/internals/hidden-keys.js","webpack://wangEditor/./node_modules/core-js-pure/internals/redefine.js","webpack://wangEditor/./node_modules/core-js-pure/modules/web.dom-collections.iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-array.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-method-has-species-support.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-property-is-enumerable.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-primitive.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-create.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-keys.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-integer.js","webpack://wangEditor/./node_modules/core-js-pure/internals/shared-key.js","webpack://wangEditor/./node_modules/core-js-pure/internals/uid.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.to-string.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.string.iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/classof.js","webpack://wangEditor/./node_modules/core-js-pure/internals/iterate.js","webpack://wangEditor/./node_modules/core-js-pure/internals/whitespaces.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/indexed-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/document-create-element.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-includes.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-absolute-index.js","webpack://wangEditor/./node_modules/core-js-pure/internals/enum-bug-keys.js","webpack://wangEditor/./node_modules/core-js-pure/internals/shared.js","webpack://wangEditor/./node_modules/core-js-pure/internals/define-iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/native-symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-string-tag-support.js","webpack://wangEditor/./node_modules/core-js-pure/internals/add-to-unscopables.js","webpack://wangEditor/./node_modules/core-js-pure/internals/an-instance.js","webpack://wangEditor/./node_modules/core-js-pure/internals/engine-user-agent.js","webpack://wangEditor/./node_modules/core-js-pure/internals/new-promise-capability.js","webpack://wangEditor/./node_modules/core-js-pure/internals/engine-v8-version.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-species-create.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/splice.js","webpack://wangEditor/./node_modules/core-js-pure/internals/create-property.js","webpack://wangEditor/./node_modules/core-js-pure/internals/string-trim.js","webpack://wangEditor/./node_modules/core-js-pure/internals/well-known-symbol-wrapped.js","webpack://wangEditor/./src/menus/menu-constructors/Menu.ts","webpack://wangEditor/./src/menus/img/upload-img.ts","webpack://wangEditor/./src/utils/data-structure/cache.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/ie8-dom-define.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-forced.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-keys-internal.js","webpack://wangEditor/./node_modules/core-js-pure/internals/html.js","webpack://wangEditor/./node_modules/core-js-pure/internals/shared-store.js","webpack://wangEditor/./node_modules/core-js-pure/internals/inspect-source.js","webpack://wangEditor/./node_modules/core-js-pure/internals/iterators-core.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/internals/use-symbol-as-uid.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-set-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/internals/native-promise-constructor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/redefine-all.js","webpack://wangEditor/./node_modules/core-js-pure/internals/set-species.js","webpack://wangEditor/./node_modules/core-js-pure/internals/species-constructor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/task.js","webpack://wangEditor/./node_modules/core-js-pure/internals/engine-is-ios.js","webpack://wangEditor/./node_modules/core-js-pure/internals/promise-resolve.js","webpack://wangEditor/./node_modules/core-js-pure/internals/perform.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-method-is-strict.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/map.js","webpack://wangEditor/./node_modules/core-js-pure/internals/collection.js","webpack://wangEditor/./node_modules/core-js-pure/internals/internal-metadata.js","webpack://wangEditor/./node_modules/core-js-pure/internals/collection-strong.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/array/is-array.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/helpers/typeof.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-names.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-symbols.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/set-timeout.js","webpack://wangEditor/./src/config/style.ts","webpack://wangEditor/./src/text/paste/paste-event.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/set.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js","webpack://wangEditor/./src/menus/menu-constructors/DropList.ts","webpack://wangEditor/./src/menus/link/is-active.ts","webpack://wangEditor/./src/menus/code/is-active.ts","webpack://wangEditor/./src/wangEditor.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/object/define-property.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/define-property.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.define-property.js","webpack://wangEditor/(webpack)/buildin/global.js","webpack://wangEditor/./node_modules/core-js-pure/stable/object/create.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/create.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.create.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-define-properties.js","webpack://wangEditor/./node_modules/core-js-pure/internals/set-global.js","webpack://wangEditor/./src/assets/style/common.less?4672","webpack://wangEditor/./src/assets/style/common.less","webpack://wangEditor/./src/assets/style/icon.less?c1d5","webpack://wangEditor/./src/assets/style/icon.less","webpack://wangEditor/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://wangEditor/./src/assets/font/w-e-icon.woff","webpack://wangEditor/./src/assets/style/menus.less?3c63","webpack://wangEditor/./src/assets/style/menus.less","webpack://wangEditor/./src/assets/style/text.less?71cc","webpack://wangEditor/./src/assets/style/text.less","webpack://wangEditor/./src/assets/style/panel.less?63fd","webpack://wangEditor/./src/assets/style/panel.less","webpack://wangEditor/./src/assets/style/droplist.less?4262","webpack://wangEditor/./src/assets/style/droplist.less","webpack://wangEditor/./src/utils/polyfill.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/promise.js","webpack://wangEditor/./node_modules/core-js-pure/stable/promise/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/promise/index.js","webpack://wangEditor/./node_modules/core-js-pure/internals/string-multibyte.js","webpack://wangEditor/./node_modules/core-js-pure/internals/native-weak-map.js","webpack://wangEditor/./node_modules/core-js-pure/internals/create-iterator-constructor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/correct-prototype-getter.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-to-string.js","webpack://wangEditor/./node_modules/core-js-pure/internals/a-possible-prototype.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/dom-iterables.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.promise.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-array-iterator-method.js","webpack://wangEditor/./node_modules/core-js-pure/internals/get-iterator-method.js","webpack://wangEditor/./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js","webpack://wangEditor/./node_modules/core-js-pure/internals/check-correctness-of-iteration.js","webpack://wangEditor/./node_modules/core-js-pure/internals/microtask.js","webpack://wangEditor/./node_modules/core-js-pure/internals/host-report-errors.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.promise.all-settled.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.promise.finally.js","webpack://wangEditor/./src/editor/index.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/for-each.js","webpack://wangEditor/./node_modules/core-js-pure/stable/array/virtual/for-each.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/for-each.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.for-each.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-for-each.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/includes.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/includes.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/includes.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.includes.js","webpack://wangEditor/./node_modules/core-js-pure/es/string/virtual/includes.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.string.includes.js","webpack://wangEditor/./node_modules/core-js-pure/internals/not-a-regexp.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-regexp.js","webpack://wangEditor/./node_modules/core-js-pure/internals/correct-is-regexp-logic.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/filter.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/filter.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/filter.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.filter.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/splice.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/splice.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/splice.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.splice.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/index-of.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/index-of.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/index-of.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.index-of.js","webpack://wangEditor/./node_modules/core-js-pure/stable/map/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/map/index.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.map.js","webpack://wangEditor/./node_modules/core-js-pure/internals/freezing.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/trim.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/trim.js","webpack://wangEditor/./node_modules/core-js-pure/es/string/virtual/trim.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.string.trim.js","webpack://wangEditor/./node_modules/core-js-pure/internals/string-trim-forced.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/map.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/map.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/map.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.map.js","webpack://wangEditor/./node_modules/core-js-pure/stable/array/is-array.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/is-array.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.is-array.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js/symbol/iterator.js","webpack://wangEditor/./node_modules/core-js-pure/features/symbol/iterator.js","webpack://wangEditor/./node_modules/core-js-pure/es/symbol/iterator.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js/symbol.js","webpack://wangEditor/./node_modules/core-js-pure/features/symbol/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/symbol/index.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.concat.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-names-external.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.async-iterator.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.description.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.has-instance.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.is-concat-spreadable.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.match.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.match-all.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.replace.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.search.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.species.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.split.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.to-primitive.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.to-string-tag.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.unscopables.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.math.to-string-tag.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.json.to-string-tag.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.async-dispose.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.dispose.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.observable.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.pattern-match.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.replace-all.js","webpack://wangEditor/./node_modules/core-js-pure/stable/set-timeout.js","webpack://wangEditor/./node_modules/core-js-pure/modules/web.timers.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/slice.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/slice.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/slice.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.slice.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/stable/parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/es/parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/internals/number-parse-int.js","webpack://wangEditor/./src/config/index.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/assign.js","webpack://wangEditor/./node_modules/core-js-pure/stable/object/assign.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/assign.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.assign.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-assign.js","webpack://wangEditor/./src/config/menus.ts","webpack://wangEditor/./src/config/events.ts","webpack://wangEditor/./src/config/paste.ts","webpack://wangEditor/./src/config/cmd.ts","webpack://wangEditor/./src/config/image.ts","webpack://wangEditor/./src/config/text.ts","webpack://wangEditor/./src/config/lang.ts","webpack://wangEditor/./src/config/history.ts","webpack://wangEditor/./src/editor/selection.ts","webpack://wangEditor/./src/editor/selection-range-top-nodes/index.ts","webpack://wangEditor/./src/editor/command.ts","webpack://wangEditor/./src/text/index.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/find.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/find.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/find.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.find.js","webpack://wangEditor/./src/text/event-hooks/index.ts","webpack://wangEditor/./src/text/event-hooks/enter-to-create-p.ts","webpack://wangEditor/./src/text/event-hooks/del-to-keep-p.ts","webpack://wangEditor/./src/text/event-hooks/tab-to-space.ts","webpack://wangEditor/./src/text/event-hooks/paste-text-html.ts","webpack://wangEditor/./src/text/paste/parse-html.ts","webpack://wangEditor/./src/text/paste/tags.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/set/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/set/index.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.set.js","webpack://wangEditor/./src/lib/simplehtmlparser.js","webpack://wangEditor/./src/text/event-hooks/img-click-active.ts","webpack://wangEditor/./src/text/getChildrenJSON.ts","webpack://wangEditor/./src/menus/index.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/bind.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/bind.js","webpack://wangEditor/./node_modules/core-js-pure/es/function/virtual/bind.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.function.bind.js","webpack://wangEditor/./node_modules/core-js-pure/internals/function-bind.js","webpack://wangEditor/./src/menus/menu-list.ts","webpack://wangEditor/./src/menus/bold/index.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/object/set-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/set-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.set-prototype-of.js","webpack://wangEditor/./src/menus/head/index.ts","webpack://wangEditor/./src/menus/link/index.ts","webpack://wangEditor/./src/menus/link/create-panel-conf.ts","webpack://wangEditor/./src/menus/link/bind-event/index.ts","webpack://wangEditor/./src/menus/link/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/italic/index.ts","webpack://wangEditor/./src/menus/underline/index.ts","webpack://wangEditor/./src/menus/strike-through/index.ts","webpack://wangEditor/./src/menus/font-style/index.ts","webpack://wangEditor/./src/menus/font-style/FontStyleList.ts","webpack://wangEditor/./src/menus/font-size/index.ts","webpack://wangEditor/./src/menus/font-size/FontSizeList.ts","webpack://wangEditor/./src/menus/justify/index.ts","webpack://wangEditor/./src/menus/quote/index.ts","webpack://wangEditor/./src/menus/back-color/index.ts","webpack://wangEditor/./src/menus/font-color/index.ts","webpack://wangEditor/./src/menus/video/index.ts","webpack://wangEditor/./src/menus/video/create-panel-conf.ts","webpack://wangEditor/./src/menus/img/index.ts","webpack://wangEditor/./src/menus/img/create-panel-conf.ts","webpack://wangEditor/./src/editor/upload/upload-core.ts","webpack://wangEditor/./src/editor/upload/progress.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/date/now.js","webpack://wangEditor/./node_modules/core-js-pure/stable/date/now.js","webpack://wangEditor/./node_modules/core-js-pure/es/date/now.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.date.now.js","webpack://wangEditor/./src/menus/img/bind-event/index.ts","webpack://wangEditor/./src/menus/img/bind-event/paste-img.ts","webpack://wangEditor/./src/menus/img/bind-event/drop-img.ts","webpack://wangEditor/./src/menus/img/bind-event/drag-size.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/stable/parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/es/parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/internals/number-parse-float.js","webpack://wangEditor/./src/assets/style/drag-size.less?198e","webpack://wangEditor/./src/assets/style/drag-size.less","webpack://wangEditor/./src/menus/img/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/indent/index.ts","webpack://wangEditor/./src/menus/indent/operate-element.ts","webpack://wangEditor/./src/menus/indent/increase-indent-style.ts","webpack://wangEditor/./src/menus/indent/decrease-indent-style.ts","webpack://wangEditor/./src/menus/emoticon/index.ts","webpack://wangEditor/./src/menus/emoticon/create-panel-conf.ts","webpack://wangEditor/./src/menus/list/index.ts","webpack://wangEditor/./src/menus/lineHeight/index.ts","webpack://wangEditor/./src/menus/lineHeight/lineHeightList.ts","webpack://wangEditor/./src/menus/undo/index.ts","webpack://wangEditor/./src/menus/redo/index.ts","webpack://wangEditor/./src/menus/table/index.ts","webpack://wangEditor/./src/menus/table/create-panel-conf.ts","webpack://wangEditor/./src/assets/style/create-panel-conf.less?d818","webpack://wangEditor/./src/assets/style/create-panel-conf.less","webpack://wangEditor/./src/menus/table/create-table.ts","webpack://wangEditor/./src/menus/table/bind-event/index.ts","webpack://wangEditor/./src/menus/table/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/table/bind-event/event/operating-event.ts","webpack://wangEditor/./src/menus/table/bind-event/event/getNode.ts","webpack://wangEditor/./src/menus/code/index.ts","webpack://wangEditor/./src/menus/code/create-panel-conf.ts","webpack://wangEditor/./src/menus/code/bind-event/index.ts","webpack://wangEditor/./src/menus/code/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/split-line/index.ts","webpack://wangEditor/./src/menus/split-line/bind-event/index.ts","webpack://wangEditor/./src/menus/split-line/bind-event/tooltip-event.ts","webpack://wangEditor/./src/editor/init-fns/init-dom.ts","webpack://wangEditor/./src/editor/init-fns/init-selection.ts","webpack://wangEditor/./src/editor/init-fns/bind-event.ts","webpack://wangEditor/./src/editor/init-fns/i18next-init.ts","webpack://wangEditor/./src/editor/init-fns/set-full-screen.ts","webpack://wangEditor/./src/assets/style/full-screen.less?b9eb","webpack://wangEditor/./src/assets/style/full-screen.less","webpack://wangEditor/./src/editor/z-index/index.ts","webpack://wangEditor/./src/editor/change/index.ts","webpack://wangEditor/./src/utils/observer/mutation.ts","webpack://wangEditor/./src/editor/history/index.ts","webpack://wangEditor/./src/editor/history/data/content.ts","webpack://wangEditor/./src/editor/history/data/node/index.ts","webpack://wangEditor/./src/utils/data-structure/stack.ts","webpack://wangEditor/./src/editor/history/data/node/compile.ts","webpack://wangEditor/./src/editor/history/data/node/decompilation.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/entries.js","webpack://wangEditor/./node_modules/core-js-pure/stable/object/entries.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/entries.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.entries.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-to-array.js","webpack://wangEditor/./src/editor/history/data/html/index.ts","webpack://wangEditor/./src/utils/data-structure/chain.ts","webpack://wangEditor/./src/editor/history/data/scroll/index.ts","webpack://wangEditor/./src/editor/history/data/range/index.ts","webpack://wangEditor/./src/editor/disable/index.ts","webpack://wangEditor/./src/assets/style/disable.less?38a7","webpack://wangEditor/./src/assets/style/disable.less","webpack://wangEditor/./src/menus/menu-constructors/index.ts"],"names":["exports","value","DomElement","util_1","require","AGENT_EVENTS","_createElemByHTML","html","div","document","createElement","innerHTML","elems","children","toArray","_isDOMList","selector","HTMLCollection","NodeList","_querySelectorAll","querySelectorAll","_styleArrTrim","style","styleArr","resultArr","split","item","arr","i","length","push","dataSource","selectorResult","nodeType","Array","replace","prototype","get","id","enumerable","configurable","forEach","fn","elem","result","call","clone","deep","cloneList","cloneNode","$","index","first","last","on","type","addEventListener","agentFn","e","target","matches","off","idx","removeEventListener","attr","key","val","getAttribute","setAttribute","removeAttr","removeAttribute","addClass","className","join","removeClass","hasClass","css","currentStyle","getBoundingClientRect","show","hide","childNodes","append","$children","child","appendChild","remove","parent_1","parentElement","removeChild","isContain","$child","contains","getSizeData","getNodeName","nodeName","getNode","getClientHeight","clientHeight","find","text","focus","prev","previousElementSibling","next","nextElementSibling","parent","parentUntil","curElem","equal","$elem","HTMLElement","insertBefore","$referenceNode","referenceNode","parentNode","insertAfter","anchorNode","nextSibling","data","set","getNodeTop","editor","$parent","$textElem","getOffsetData","$node","top","offsetTop","left","offsetLeft","width","offsetWidth","height","offsetHeight","offsetParent","__spreadArrays","s","il","arguments","r","k","a","j","jl","deepClone","isFunction","debounce","throttle","arrForEach","replaceSpecialSymbol","replaceHtmlSymbol","getRandom","UA","NavUA","_ua","navigator","userAgent","math","match","isOldEdge","isFirefox","test","isIE","window","isWebkit","prefix","Math","random","toString","obj","Object","hasOwnProperty","fakeArr","interval","flag","args","_i","apply","delay","lastFn","clearTimeout","setTimeout","__extends","extendStatics","d","b","__proto__","p","__","constructor","__importDefault","mod","__esModule","dom_core_1","Menu_1","DropList_1","DropListMenu","_super","conf","_this","title","i18next","t","config","lang","list","dropList","selection","getRange","zIndex","txt","eventHooks","dropListMenuHoverEvents","showTimeoutId","hideTimeoutId","BtnMenu","const_1","Panel","menu","$container","clickEvents","hideCurAllPanels","toolbarClickEvents","create","createdMenus","has","rect","$toolbarElem","menuRect","$closeBtn","$tabTitleContainer","$tabContentContainer","tabs","tabTitleArr","tabContentArr","tab","tabIndex","tpl","$title","$content","stopPropagation","events","event","EMPTY_FN","needToHide","$inputs","setPanel","add","size","panel","urlRegex","imgRegex","PanelMenu","Tooltip","$targetElem","_show","_isInsertTextContainer","getPositionData","tooltipHeight","pageScrollTop","documentElement","scrollTop","targetElemRect","textElemRect","targetOffset","targetParentElem","$textContainerElem","targetParentElemHeight","absoluteTop","bottom","appendMenus","$wrapper","preventDefault","res","onClick","_a","Panel_1","Menu","_active","menuClickEvents","clickHandler","active","unActive","upload_core_1","progress_1","UploadImg","alert","alertInfo","debugInfo","customAlert","console","error","insertImg","src","_this_1","i18nPrefix","cmd","linkImgCallback","img","onload","onerror","onabort","uploadImg","files","uploadImgServer","uploadImgShowBase64","maxSize","uploadImgMaxSize","maxSizeM","maxLength","uploadImgMaxLength","uploadFileName","uploadImgParams","uploadImgParamsWithUrl","uploadImgHeaders","hooks","uploadImgHooks","timeout","uploadImgTimeout","withCredentials","customUploadImg","resultFiles","errInfos","file","name","formData","FormData","uploadImgServerArr","uploadImgServerHash","xhr","headers","beforeSend","before","onTimeout","onProgress","percent","progressBar","lengthComputable","loaded","total","onError","status","onFail","resultStr","fail","onSuccess","customInsert","errno","link","success","reader","FileReader","readAsDataURL","stack_1","Cache","isRe","CeilStack","revokeData","resetMaxSize","resetMax","save","clear","instack","revoke","outstack","restore","getPasteImgs","getPasteHtml","getPasteText","parse_html_1","clipboardData","pasteText","getData","filterStyle","ignoreImg","pasteHtml","items","getAsFile","DropList","$list","$li","rendered","$menuELem","menuHeight","isActive","$selectionELem","getSelectionContainerElem","__createBinding","o","m","k2","undefined","__exportStar","index_1","ex","Error","Element","ownerDocument","Promise","__setModuleDefault","v","__importStar","config_1","selection_1","command_1","index_2","init_dom_1","init_selection_1","bind_event_1","i18next_init_1","set_full_screen_1","z_index_1","index_3","index_4","disable_1","BtnMenu_1","DropListMenu_1","PanelMenu_1","Tooltip_1","EDITOR_ID","Editor","toolbarSelector","textSelector","beforeDestroyHooks","toolbarElemId","textElemId","isFocus","isComposing","isCompatibleMode","menus","change","history","initSelection","newLine","init","compatibleMode","onchangeTimeout","observe","beforeDestroy","destroy","fullScreen","setFullScreen","unFullScreen","setUnFullScreen","disable","enable","menus_1","events_1","style_1","paste_1","cmd_1","image_1","text_1","lang_1","history_1","defaultConfig","linkCheck","linkImgCheck","SINA_PATH1","SINA_PATH2","fontNames","fontSizes","small","normal","large","colors","languageType","languageTab","emotions","content","alt","lineHeights","undoLimit","indentation","onchange","onfocus","onblur","pasteFilterStyle","pasteIgnoreImg","pasteTextHandle","styleWithCSS","showLinkImg","placeholder","zIndexFullScreen","showFullScreen","languages","wangEditor","插入","默认","创建","修改","如","请输入正文","dropListMenu","设置标题","背景颜色","文字颜色","设置字号","设置字体","设置缩进","对齐方式","设置行高","序列","head","正文","indent","增加缩进","减少缩进","justify","靠左","居中","靠右","两端","无序列表","有序列表","panelMenus","emoticon","新浪","emoji","手势","image","图片链接","上传图片","网络图片","链接","链接文字","取消链接","查看链接","video","插入视频","table","行","列","的","表格","添加行","删除行","添加列","删除列","设置表头","取消表头","插入表格","删除表格","code","删除代码","修改代码","插入代码","validate","张图片","大于","不是图片","返回结果","上传图片超时","上传图片错误","上传图片失败","插入图片错误","一次最多上传","下载链接失败","图片验证未通过","服务器返回状态","上传图片返回结果错误","请替换为支持的图片类型","您插入的网络图片无法识别","您刚才插入的图片链接未通过编辑器校验","en","historyMaxSize","SelectionAndRange","_currentRange","saveRange","_range","getSelection","rangeCount","range","getRangeAt","$containerElem","collapseRange","toStart","collapse","getSelectionText","commonAncestorContainer","getSelectionStartElem","startContainer","getSelectionEndElem","endContainer","isSelectionEmpty","startOffset","endOffset","restoreSelection","removeAllRanges","addRange","createEmptyRange","setEnd","createRangeByElem","isContent","createRange","selectNodeContents","selectNode","getSelectionRangeTopNodes","getSelectionNodes","moveCursor","node","pos","setStart","SelectionRangeTopNodes","$nodeList","$startElem","$endElem","recordSelectionNodes","addNodeList","isEndElem","getNextSibling","Command","execCommand","insertHTML","insertElem","changeActive","queryCommandSupported","insertNode","deleteContents","queryCommandValue","queryCommandState","getChildrenJSON_1","Text","changeEvents","dropEvents","keyupEvents","tabUpEvents","tabDownEvents","enterUpEvents","enterDownEvents","deleteUpEvents","deleteDownEvents","pasteEvents","linkClickEvents","codeClickEvents","textScrollEvents","imgClickEvents","imgDragBarMouseDownEvents","tableClickEvents","splitLineEvents","_saveRange","_bindEventHooks","togglePlaceholder","$placeholder","getJSON","keyCode","ctrlKey","metaKey","shiftKey","$link","$target","$img","$code","$splitLine","splitLineClickEvents","$dom","enter_to_create_p_1","del_to_keep_p_1","tab_to_space_1","paste_text_html_1","img_click_active_1","initTextHooks","enterToCreateP","insertEmptyP","$selectionElem","$p","$parentElem","createPWhenEnterText","$selectElem","deleteToKeepP","upFn","txtHtml","toLowerCase","downFn","tabHandler","selectionNodeName","parentNodeName","paste_event_1","formatHtml","formatCode","pasteTextHtml","$topElem","topNodeName","tags_1","simplehtmlparser_js_1","filterEmptySpan","regForReplace","regForMatch","isIgnoreTag","tag","IGNORE_TAGS","genStartHtml","attrs","attrStrArr","isEmpty","EMPTY_TAGS","genEndHtml","parseHtml","CUR_TAG","markTagStart","markTagEnd","htmlParser","parse","startElement","necessaryAttrKeys","NECESSARY_ATTRS","attrsForTag","characters","str","endElement","comment","TOP_LEVEL_TAGS","imgClickActive","clickFn","getChildrenJSON","elemResult","textContent","attrData","attrList","attributes","attrListLength","menu_list_1","Menus","menuList","constructorList","extend","menuKey","MenuConstructor","_addToToolbar","menuFind","l","tryChangeActive","index_5","index_6","index_7","font_size_1","index_8","index_9","index_10","index_11","index_12","index_13","index_14","index_15","index_16","index_17","index_18","index_19","index_20","code_1","index_21","bold","italic","underline","strikeThrough","fontName","fontSize","quote","backColor","foreColor","lineHeight","undo","redo","splitLine","Bold","isSelectEmpty","Head","dropListConf","command","reg","cmdValue","create_panel_conf_1","is_active_1","Link","$linkElem","createPanel","default_1","inputLinkId","inputTextId","btnOkId","btnDelId","delBtnDisplay","$selectedLink","selectLinkElem","insertLink","delLink","selectionText","checkLink","check","$text","tooltip_event_1","bindEvent","createShowHideFn","tooltip","showLinkTooltip","open","hideLinkTooltip","bindTooltipEvent","Italic","Underline","StrikeThrough","FontStyleList_1","FontStyle","fontStyleList","fontListConf","getItemList","FontStyleList","itemList","fontValue","FontSizeList_1","FontSize","FontSizeList","Justify","justifyClass","justifyLeft","justifyCenter","justifyRight","justifyFull","$elems","justifyValue_1","el","Quote","$topNodeElem","getTopNodeName","nodeList","$targetELem","targetElem","element","BackColor","colorListConf","color","FontColor","Video","iframe","inputIFrameId","insertVideo","$video","Image","upload_img_1","upTriggerId","upFileId","linkUrlId","linkBtnId","checkLinkImg","log","fileMultipleAttr","tabsConf","$file","fileElem","click","fileList","$linkUrl","url","post","option","XMLHttpRequest","ontimeout","upload","onprogress","setRequestHeader","beforeResult","prevent","msg","onreadystatechange","readyState","responseText","JSON","send","Progress","$textContainer","$bar","isShow","time","timeoutId","progress","paste_img_1","drop_img_1","drag_size_1","_haveTextOrHtml","pasteImgHandler","pastedFiles","bindPasteImg","bindDropImg","dropImgHandler","dataTransfer","setDragStyle","$drag","createDragBox","showDargBox","boxRect","rectW","toFixed","rectH","$imgTarget","bindDragEvents","firstX","clientX","firstY","clientY","imgRect","ratio","setW","setH","$document","offEvents","mouseMoveHandler","mouseUpHandler","ev","newImgRect","showDrag","hideDrag","bindDragImgSize","showImgTooltip","hideImgTooltip","operate_element_1","Indent","$selectionStartElem","increase_indent_style_1","decrease_indent_style_1","lengthRegex","percentRegex","parseIndentation","unit","Number","operateElement","increaseIndentStyle","options","oldPL","oldVal","newVal","decreaseIndentStyle","Emoticon","GenerateExpressionStructure","ele","con","insertHtml","List","lineHeightList_1","LineHeight","lineHeightMenu","allowArray","st","$selectionAll","dom","styleList","styleStr","indexStore_1","arrayDom_a","arrayDom_b","StartElem_1","EndElem_1","childList","getDom","shift","setRange","styleProcessing","action","selectAllChildren","DOM","getParentNode","html_str","startDom","endDom","star","end","lineHeightList","Undo","Redo","Table","create_table_1","createTable","colId","rowId","insertBtnId","colValue","rowValue","createAction","CreateTable","$ul","$ol","tableDom","createTableHtml","rowStr","colStr","operating_event_1","getNode_1","showTableTooltip","getnode","isMore","isMoreRowAction","selectDom","$currentRow","getRowNode","getCurrentRowIndex","htmlStr","getTableHtml","newdom","ProcessingRow","trLength","DeleteRow","getCurrentColIndex","ProcessingCol","tdLength","DeleteCol","setTheHeader","hideTableTooltip","_index","generateDomAction","domArray","childNodesLenght","tr","td","removeAndInsertAction","_loop_1","cArray","_loop_2","_loop_3","th","$nodeChild","rowDom","colDom","formatCodeHtml","deleteHighlightCode","formatEnterCode","preArr","Code","insertLineCode","$codeElem","codeId","languageId","inputCodeId","insertCode","selectCodeElem","$selectedCode","language","codeDom","getElementById","$select","highlight","highlightAuto","showCodeTooltip","hideCodeTooltip","preEnterListener","$DomElement","$tableDOM","$imgDOM","collapsed","createSplitLine","splitLineDOM","showSplitLineTooltip","hideSplitLineTooltip","styleSettings","border","toolbarBgColor","toolbarBottomBorder","$toolbarSelector","textContainerCliheight","textElemClientHeight","$last","_bindChange","_bindFocusAndBlur","_bindInput","listener","isChild","isToolbar","isMenu","_blurHandler","_focusHandler","currentHtml","i18nextInit","ns","lng","defaultNS","resources","strArr","iconFullScreenText","iconExitFullScreenText","classfullScreenEditor","$editorParent","$iconElem","initFullScreen","$elemIcon","currentTarget","ZIndex","tier","toolbar","textContainer","baseZIndex","tierName","mutation_1","mutationsFilter","mutations","tar","attributeName","Change","observer","asyncSave","emit","Mutation","subtree","attributeOldValue","characterData","characterDataOldValue","callback","MutationObserver","Node","connect","disconnect","takeRecords","content_1","scroll_1","range_1","History","scroll","node_1","html_1","ContentCache","cache","compile","cache_1","compile_1","decompilation_1","NodeCache","max","reset","abs","isNaN","unshift","compileType","compileValue","complieNodes","temp","addedNodes","removedNodes","compliePosition","previousSibling","removeNode","removeCache","record","oldValue","nodes","position","replenishNode","replenishData","childs","count","reference","revokeNode","_b","relative","revokeAttr","revokeText","revokeFns","restoreNode","restoreText","restoreAttr","restoreFns","data_1","chain_1","HtmlCache","TailChain","insertLast","point","current","ScrollCache","rangeToObject","start","root","RangeCache","lastRange","updateLastRange","rangeHandle","self","selectionchange","handle","deletecallback","isCurtain","$contentDom","$menuDom","textContainerZindexValue","menuZindexValue"],"mappings":"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BAAqB,mBAAO,CAAC,EAA6B;AAC1D,eAAe,mBAAO,CAAC,EAAwB;AAC/C,kBAAkB,mBAAO,CAAC,EAA2B;;AAErD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;AACA;AACA;;;;;;;ACnBA,WAAW,mBAAO,CAAC,EAAmB;;AAEtC;AACA;AACA;;;;;;;ACJA,kBAAkB,mBAAO,CAAC,EAA0B;AACpD,2BAA2B,mBAAO,CAAC,EAAqC;AACxE,+BAA+B,mBAAO,CAAC,EAAyC;;AAEhF;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;AC5Qa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;AC7FA,iBAAiB,mBAAO,CAAC,GAAmC,E;;;;;;;ACA/C;AACb;AACA;AACA;AACA;;;;;;;;;;;;AACA,IAAIyK,SAAS,GAAI,UAAQ,SAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,cAAa,GAAG,uBAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,kBAAa,GAAG,8BACX;AAAEG,e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BAAO,CAAC,GAAmC;;AAEpE;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACvBD,aAAa,mBAAO,CAAC,CAAqB;;AAE1C;;;;;;;ACFA,eAAe,mBAAO,CAAC,EAAuB;;AAE9C;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACPa;AACb,iBAAiB,mBAAO,CAAC,EAA2B;AACpD,2BAA2B,mBAAO,CAAC,EAAqC;AACxE,sBAAsB,mBAAO,CAAC,CAAgC;AAC9D,kBAAkB,mBAAO,CAAC,EAA0B;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,aAAa;AACrC,KAAK;AACL;AACA;;;;;;;AClBA,eAAe,mBAAO,CAAC,EAAwB;AAC/C,gBAAgB,mBAAO,CAAC,EAAyB;AACjD,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA,aAAa,mBAAO,CAAC,CAAqB;AAC1C,YAAY,mBAAO,CAAC,EAAoB;AACxC,cAAc,mBAAO,CAAC,EAA0B;AAChD,WAAW,mBAAO,CAAC,EAAoC;AACvD,WAAW,mBAAO,CAAC,EAAmB;AACtC,oBAAoB,mBAAO,CAAC,EAAsC;AAClE,aAAa,mBAAO,CAAC,GAA4B;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC1GA,gBAAgB,mBAAO,CAAC,EAAgC;;AAExD;;;;;;;ACFA,eAAe,mBAAO,CAAC,EAAwB;AAC/C,eAAe,mBAAO,CAAC,EAAwB;AAC/C,2BAA2B,mBAAO,CAAC,EAAqC;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;;ACNa;AACb,YAAY,mBAAO,CAAC,EAAoB;;AAExC;AACA;AACA;AACA;AACA,+CAA+C,SAAS,EAAE;AAC1D,GAAG;AACH;;;;;;;ACTA,iBAAiB,mBAAO,CAAC,GAAuC,E;;;;;;ACAhE,iBAAiB,mBAAO,CAAC,GAAyB,E;;;;;;;ACArC;AACb,QAAQ,mBAAO,CAAC,CAAU;AAC1B,aAAa,mBAAO,CAAC,CAAqB;AAC1C,6BAA6B,mBAAO,CAAC,GAAgC;AACrE,YAAY,mBAAO,CAAC,EAAoB;AACxC,kCAAkC,mBAAO,CAAC,EAA6C;AACvF,cAAc,mBAAO,CAAC,EAAsB;AAC5C,iBAAiB,mBAAO,CAAC,EAA0B;AACnD,eAAe,mBAAO,CAAC,EAAwB;AAC/C,qBAAqB,mBAAO,CAAC,EAAgC;AAC7D,qBAAqB,mBAAO,CAAC,EAAqC;AAClE,cAAc,mBAAO,CAAC,EAA8B;AACpD,kBAAkB,mBAAO,CAAC,EAA0B;AACpD,0BAA0B,mBAAO,CAAC,EAA6B;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mEAAmE,0CAA0C,EAAE;AAC/G;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA,KAAK,6BAA6B;;AAElC;;AAEA;AACA;;;;;;;ACxEA,iBAAiB,mBAAO,CAAC,EAA0B;AACnD,eAAe,mBAAO,CAAC,EAAwB;AAC/C,UAAU,mBAAO,CAAC,EAAkB;AACpC,qBAAqB,mBAAO,CAAC,EAAqC;AAClE,UAAU,mBAAO,CAAC,EAAkB;AACpC,eAAe,mBAAO,CAAC,GAAuB;;AAE9C;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA,gBAAgB;AAChB,GAAG,EAAE;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5Da;AACb,qBAAqB,mBAAO,CAAC,EAAqC;AAClE,aAAa,mBAAO,CAAC,EAA4B;AACjD,kBAAkB,mBAAO,CAAC,GAA2B;AACrD,WAAW,mBAAO,CAAC,EAAoC;AACvD,iBAAiB,mBAAO,CAAC,EAA0B;AACnD,cAAc,mBAAO,CAAC,EAAsB;AAC5C,qBAAqB,mBAAO,CAAC,EAA8B;AAC3D,iBAAiB,mBAAO,CAAC,GAA0B;AACnD,kBAAkB,mBAAO,CAAC,EAA0B;AACpD,cAAc,mBAAO,CAAC,GAAgC;AACtD,0BAA0B,mBAAO,CAAC,EAA6B;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,kCAAkC;AAClC,oCAAoC;AACpC,cAAc;AACd,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;ACzLA,iBAAiB,mBAAO,CAAC,GAAoC,E;;;;;;ACA7D,uBAAuB,mBAAO,CAAC,GAAgD;;AAE/E,cAAc,mBAAO,CAAC,GAAuC;;AAE7D;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;ACpBA,4BAA4B,mBAAO,CAAC,EAAuC;;AAE3E;AACA;AACA;;;;;;;ACJA,yBAAyB,mBAAO,CAAC,EAAmC;AACpE,kBAAkB,mBAAO,CAAC,EAA4B;;AAEtD;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACTA;;;;;;;ACAA,iBAAiB,mBAAO,CAAC,GAAiC,E;;;;;;;ACA7C;AACb;AACA;AACA;AACA;;;;;;AACA,gCAAsBnW,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,OAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,WAAP,GAAkB;AACdkN,QAAM,EAAE;AADM,CAAlB,C;;;;;;;ACNa;AACb;AACA;AACA;AACA;;;;;;;;AACA,IAAInB,eAAe,GAAI,UAAQ,SAAKA,eAAd,IAAkC,UAAUC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A;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,eAAe;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,6BAA6B,cAAc;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK,GAAG,eAAe;;AAEvB;AACA,wCAAwC,+CAA+C;AACvF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,GAAG,2CAA2C;AAC9C;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA,GAAG,8CAA8C;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,GAAG,yDAAyD;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,GAAG,2DAA2D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;AC1XD,sBAAsB,mBAAO,CAAC,CAAgC;AAC9D,gBAAgB,mBAAO,CAAC,EAAwB;;AAEhD;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACTA,cAAc,mBAAO,CAAC,EAAsB;AAC5C,gBAAgB,mBAAO,CAAC,EAAwB;AAChD,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACVA,eAAe,mBAAO,CAAC,EAAwB;;AAE/C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACZA,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS,EAAE;AACzD,CAAC,gBAAgB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;;;;;;;ACrCA,aAAa,mBAAO,CAAC,CAAqB;AAC1C,+BAA+B,mBAAO,CAAC,EAAiD;AACxF,cAAc,mBAAO,CAAC,EAA0B;AAChD,gBAAgB,mBAAO,CAAC,GAAmB;AAC3C,aAAa,mBAAO,CAAC,GAA4B;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AAC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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAmD;AACnD,sBAAsB,yCAAyC,WAAW,IAAI;AAC9E,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF;AACzF;AACA,KAAK;AACL;AACA,mDAAmD,iDAAiD;AACpG,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,kCAAkC;AAChH;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gFAAgF,eAAe;AAC/F;AACA;AACA;;AAEA,GAAG,yEAAyE;AAC5E;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED,GAAG,qDAAqD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,mBAAmB,EAAE;AAC/C,0BAA0B,oBAAoB;AAC9C,CAAC;;AAED,GAAG,2EAA2E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,GAAG,uDA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AAO,CAAC,EAAsB;;AAEzC;;;;;;;;ACNa;AACb,iBAAiB,mBAAO,CAAC,GAAyB;AAClD,uBAAuB,mBAAO,CAAC,GAAgC;;AAE/D;AACA;AACA;AACA,yBAAyB,gEAAgE;AACzF,CAAC;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,gDAAgD;AAChD;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA,+CAA+C;AAC/C,uCAAuC;AACvC,gCAAgC;AAChC;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB,KAAK;AACL;;AAEA;AACA;;;;;;;;ACvKa;AACb;AACA;AACA;AACA;;;;;;AACA,gCAAsBxsB,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,OAAK,EAAE;AAAT,CAA7C;AACA;AACA;AACA;AACA;AACA;;AACA,S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","file":"wangEditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wangEditor\"] = factory();\n\telse\n\t\troot[\"wangEditor\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 126);\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","module.exports = require(\"core-js-pure/stable/object/define-property\");","\"use strict\";\n/**\n * @description 封装 DOM 操作\n * @wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomElement = void 0;\nvar util_1 = require(\"./util\");\nvar AGENT_EVENTS = [];\n/**\n * 根据 html 字符串创建 elem\n * @param {String} html html\n */\nfunction _createElemByHTML(html) {\n    var div = document.createElement('div');\n    div.innerHTML = html;\n    var elems = div.children;\n    return util_1.toArray(elems);\n}\n/**\n * 判断是否是 DOM List\n * @param selector DOM 元素或列表\n */\nfunction _isDOMList(selector) {\n    if (!selector) {\n        return false;\n    }\n    if (selector instanceof HTMLCollection || selector instanceof NodeList) {\n        return true;\n    }\n    return false;\n}\n/**\n * 封装 querySelectorAll\n * @param selector css 选择器\n */\nfunction _querySelectorAll(selector) {\n    var elems = document.querySelectorAll(selector);\n    return util_1.toArray(elems);\n}\n/**\n * 封装 _styleArrTrim\n * @param styleArr css\n */\nfunction _styleArrTrim(style) {\n    var styleArr = [];\n    var resultArr = [];\n    if (!Array.isArray(style)) {\n        // 有 style，将 style 按照 `;` 拆分为数组\n        styleArr = style.split(';');\n    }\n    else {\n        styleArr = style;\n    }\n    styleArr.forEach(function (item) {\n        // 对每项样式，按照 : 拆分为 key 和 value\n        var arr = item.split(':').map(function (i) {\n            return i.trim();\n        });\n        if (arr.length === 2) {\n            resultArr.push(arr[0] + ':' + arr[1]);\n        }\n    });\n    return resultArr;\n}\n// 构造函数\nvar DomElement = /** @class */ (function () {\n    function DomElement(selector) {\n        // 初始化属性\n        this.selector = '';\n        this.elems = [];\n        this.length = this.elems.length;\n        this.dataSource = new Map();\n        if (!selector) {\n            return;\n        }\n        // 原本就是 DomElement 实例，则直接返回\n        if (selector instanceof DomElement) {\n            return selector;\n        }\n        var selectorResult = []; // 存储查询结果\n        this.selector = selector;\n        var nodeType = selector.nodeType;\n        if (nodeType === 9) {\n            // document 节点\n            selectorResult = [selector];\n        }\n        else if (nodeType === 1) {\n            // 单个 DOM 节点\n            selectorResult = [selector];\n        }\n        else if (_isDOMList(selector)) {\n            // DOM List\n            selectorResult = util_1.toArray(selector);\n        }\n        else if (selector instanceof Array) {\n            // Element 数组（其他数据类型，暂时忽略）\n            selectorResult = selector;\n        }\n        else if (typeof selector === 'string') {\n            // 字符串\n            selector = selector.replace('/\\n/mg', '').trim();\n            if (selector.indexOf('<') === 0) {\n                // 如 <div>\n                selectorResult = _createElemByHTML(selector);\n            }\n            else {\n                // 如 #id .class\n                selectorResult = _querySelectorAll(selector);\n            }\n        }\n        var length = selectorResult.length;\n        if (!length) {\n            // 空数组\n            return this;\n        }\n        // 加入 DOM 节点\n        var i = 0;\n        for (; i < length; i++) {\n            this.elems.push(selectorResult[i]);\n        }\n        this.length = length;\n    }\n    Object.defineProperty(DomElement.prototype, \"id\", {\n        /**\n         * 获取元素 id\n         */\n        get: function () {\n            return this.elems[0].id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * 遍历所有元素，执行回调函数\n     * @param fn 回调函数\n     */\n    DomElement.prototype.forEach = function (fn) {\n        for (var i = 0; i < this.length; i++) {\n            var elem = this.elems[i];\n            var result = fn.call(elem, elem, i);\n            if (result === false) {\n                break;\n            }\n        }\n        return this;\n    };\n    /**\n     * 克隆元素\n     * @param deep 是否深度克隆\n     */\n    DomElement.prototype.clone = function (deep) {\n        if (deep === void 0) { deep = false; }\n        var cloneList = [];\n        this.elems.forEach(function (elem) {\n            cloneList.push(elem.cloneNode(!!deep));\n        });\n        return $(cloneList);\n    };\n    /**\n     * 获取第几个元素\n     * @param index index\n     */\n    DomElement.prototype.get = function (index) {\n        if (index === void 0) { index = 0; }\n        var length = this.length;\n        if (index >= length) {\n            index = index % length;\n        }\n        return $(this.elems[index]);\n    };\n    /**\n     * 获取第一个元素\n     */\n    DomElement.prototype.first = function () {\n        return this.get(0);\n    };\n    /**\n     * 获取最后一个元素\n     */\n    DomElement.prototype.last = function () {\n        var length = this.length;\n        return this.get(length - 1);\n    };\n    DomElement.prototype.on = function (type, selector, fn) {\n        if (!type)\n            return this;\n        // 没有 selector ，只有 type 和 fn\n        if (typeof selector === 'function') {\n            fn = selector;\n            selector = '';\n        }\n        return this.forEach(function (elem) {\n            // 没有事件代理\n            if (!selector) {\n                // 无代理\n                elem.addEventListener(type, fn);\n                return;\n            }\n            // 有事件代理\n            var agentFn = function (e) {\n                var target = e.target;\n                if (target.matches(selector)) {\n                    ;\n                    fn.call(target, e);\n                }\n            };\n            elem.addEventListener(type, agentFn);\n            // 缓存代理事件\n            AGENT_EVENTS.push({\n                elem: elem,\n                selector: selector,\n                fn: fn,\n                agentFn: agentFn,\n            });\n        });\n    };\n    DomElement.prototype.off = function (type, selector, fn) {\n        if (!type)\n            return this;\n        // 没有 selector ，只有 type 和 fn\n        if (typeof selector === 'function') {\n            fn = selector;\n            selector = '';\n        }\n        return this.forEach(function (elem) {\n            // 解绑事件代理\n            if (selector) {\n                var idx = -1;\n                for (var i = 0; i < AGENT_EVENTS.length; i++) {\n                    var item = AGENT_EVENTS[i];\n                    if (item.selector === selector && item.fn === fn && item.elem === elem) {\n                        idx = i;\n                        break;\n                    }\n                }\n                if (idx !== -1) {\n                    var agentFn = AGENT_EVENTS.splice(idx, 1)[0].agentFn;\n                    elem.removeEventListener(type, agentFn);\n                }\n            }\n            else {\n                elem.removeEventListener(type, fn);\n            }\n        });\n    };\n    DomElement.prototype.attr = function (key, val) {\n        if (val == null) {\n            // 获取数据\n            return this.elems[0].getAttribute(key) || '';\n        }\n        // 否则，设置属性\n        return this.forEach(function (elem) {\n            elem.setAttribute(key, val);\n        });\n    };\n    /**\n     * 删除 属性\n     * @param key key\n     */\n    DomElement.prototype.removeAttr = function (key) {\n        this.forEach(function (elem) {\n            elem.removeAttribute(key);\n        });\n    };\n    /**\n     * 添加 css class\n     * @param className css class\n     */\n    DomElement.prototype.addClass = function (className) {\n        if (!className) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            if (elem.className) {\n                // 当前有 class\n                var arr = elem.className.split(/\\s/);\n                arr = arr.filter(function (item) {\n                    return !!item.trim();\n                });\n                // 添加 class\n                if (arr.indexOf(className) < 0) {\n                    arr.push(className);\n                }\n                // 修改 elem.class\n                elem.className = arr.join(' ');\n            }\n            else {\n                // 当前没有 class\n                elem.className = className;\n            }\n        });\n    };\n    /**\n     * 添加 css class\n     * @param className css class\n     */\n    DomElement.prototype.removeClass = function (className) {\n        if (!className) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            if (!elem.className) {\n                // 当前无 class\n                return;\n            }\n            var arr = elem.className.split(/\\s/);\n            arr = arr.filter(function (item) {\n                item = item.trim();\n                // 删除 class\n                if (!item || item === className) {\n                    return false;\n                }\n                return true;\n            });\n            // 修改 elem.class\n            elem.className = arr.join(' ');\n        });\n    };\n    /**\n     * 是否有传入的 css class\n     * @param className css class\n     */\n    DomElement.prototype.hasClass = function (className) {\n        if (className === void 0) { className = ''; }\n        if (!className) {\n            return false;\n        }\n        var elem = this.elems[0];\n        if (!elem.className) {\n            // 当前无 class\n            return false;\n        }\n        var arr = elem.className.split(/\\s/);\n        return arr.includes(className); // 是否包含\n    };\n    DomElement.prototype.css = function (key, val) {\n        var currentStyle;\n        if (val == '') {\n            currentStyle = '';\n        }\n        else {\n            currentStyle = key + \":\" + val + \";\";\n        }\n        return this.forEach(function (elem) {\n            var style = (elem.getAttribute('style') || '').trim();\n            if (style) {\n                // 有 style，将 style 按照 `;` 拆分为数组\n                var resultArr = _styleArrTrim(style);\n                // 替换现有的 style\n                resultArr = resultArr.map(function (item) {\n                    if (item.indexOf(key) === 0) {\n                        return currentStyle;\n                    }\n                    else {\n                        return item;\n                    }\n                });\n                // 新增 style\n                if (currentStyle != '' && resultArr.indexOf(currentStyle) < 0) {\n                    resultArr.push(currentStyle);\n                }\n                // 去掉 空白\n                if (currentStyle == '') {\n                    resultArr = _styleArrTrim(resultArr);\n                }\n                // 重新设置 style\n                elem.setAttribute('style', resultArr.join('; '));\n            }\n            else {\n                // 当前没有 style\n                elem.setAttribute('style', currentStyle);\n            }\n        });\n    };\n    /**\n     * 封装 getBoundingClientRect\n     */\n    DomElement.prototype.getBoundingClientRect = function () {\n        var elem = this.elems[0];\n        return elem.getBoundingClientRect();\n    };\n    /**\n     * 显示\n     */\n    DomElement.prototype.show = function () {\n        return this.css('display', 'block');\n    };\n    /**\n     * 隐藏\n     */\n    DomElement.prototype.hide = function () {\n        return this.css('display', 'none');\n    };\n    /**\n     * 获取子节点（只有 DOM 元素）\n     */\n    DomElement.prototype.children = function () {\n        var elem = this.elems[0];\n        if (!elem) {\n            return null;\n        }\n        return $(elem.children);\n    };\n    /**\n     * 获取子节点（包括文本节点）\n     */\n    DomElement.prototype.childNodes = function () {\n        var elem = this.elems[0];\n        if (!elem) {\n            return null;\n        }\n        return $(elem.childNodes);\n    };\n    /**\n     * 增加子节点\n     * @param $children 子节点\n     */\n    DomElement.prototype.append = function ($children) {\n        return this.forEach(function (elem) {\n            $children.forEach(function (child) {\n                elem.appendChild(child);\n            });\n        });\n    };\n    /**\n     * 移除当前节点\n     */\n    DomElement.prototype.remove = function () {\n        return this.forEach(function (elem) {\n            if (elem.remove) {\n                elem.remove();\n            }\n            else {\n                var parent_1 = elem.parentElement;\n                parent_1 && parent_1.removeChild(elem);\n            }\n        });\n    };\n    /**\n     * 当前元素，是否包含某个子元素\n     * @param $child 子元素\n     */\n    DomElement.prototype.isContain = function ($child) {\n        var elem = this.elems[0];\n        var child = $child.elems[0];\n        return elem.contains(child);\n    };\n    /**\n     * 获取当前元素的尺寸和位置信息\n     */\n    DomElement.prototype.getSizeData = function () {\n        var elem = this.elems[0];\n        // 可得到 bottom height left right top width 的数据\n        return elem.getBoundingClientRect();\n    };\n    /**\n     * 获取当前元素 nodeName\n     */\n    DomElement.prototype.getNodeName = function () {\n        var elem = this.elems[0];\n        return elem.nodeName;\n    };\n    /**\n     * 获取当前元素节点\n     */\n    DomElement.prototype.getNode = function () {\n        var elem = this.elems[0];\n        return elem;\n    };\n    /**\n     * 获取当前元素可视高度\n     */\n    DomElement.prototype.getClientHeight = function () {\n        var elem = this.elems[0];\n        return elem.clientHeight;\n    };\n    /**\n     * 获取当前元素可视宽度\n     */\n    // getClientWidth(): number {\n    //     const elem = this.elems[0]\n    //     return elem.clientWidth\n    // }\n    /**\n     * 查询\n     * @param selector css 选择器\n     */\n    DomElement.prototype.find = function (selector) {\n        var elem = this.elems[0];\n        return $(elem.querySelectorAll(selector));\n    };\n    DomElement.prototype.text = function (val) {\n        if (!val) {\n            // 获取 text\n            var elem = this.elems[0];\n            return elem.innerHTML.replace(/<[^>]+>/g, function () { return ''; });\n        }\n        else {\n            // 设置 text\n            return this.forEach(function (elem) {\n                elem.innerHTML = val;\n            });\n        }\n    };\n    DomElement.prototype.html = function (val) {\n        var elem = this.elems[0];\n        if (!val) {\n            // 获取 html\n            return elem.innerHTML;\n        }\n        else {\n            // 设置 html\n            elem.innerHTML = val;\n            return this;\n        }\n    };\n    /**\n     * 获取元素 value\n     */\n    DomElement.prototype.val = function () {\n        var elem = this.elems[0];\n        return elem.value.trim(); // 暂用 any\n    };\n    /**\n     * focus 到当前元素\n     */\n    DomElement.prototype.focus = function () {\n        return this.forEach(function (elem) {\n            elem.focus();\n        });\n    };\n    /**\n     * 当前元素前一个兄弟节点\n     */\n    DomElement.prototype.prev = function () {\n        var elem = this.elems[0];\n        return $(elem.previousElementSibling);\n    };\n    /**\n     * 当前元素后一个兄弟节点\n     */\n    DomElement.prototype.next = function () {\n        var elem = this.elems[0];\n        return $(elem.nextElementSibling);\n    };\n    /**\n     * 获取父元素\n     */\n    DomElement.prototype.parent = function () {\n        var elem = this.elems[0];\n        return $(elem.parentElement);\n    };\n    DomElement.prototype.parentUntil = function (selector, curElem) {\n        var elem = curElem || this.elems[0];\n        if (elem.nodeName === 'BODY') {\n            return null;\n        }\n        var parent = elem.parentElement;\n        if (parent == null) {\n            return null;\n        }\n        if (parent.matches(selector)) {\n            // 找到，并返回\n            return $(parent);\n        }\n        // 继续查找，递归\n        return this.parentUntil(selector, parent);\n    };\n    /**\n     * 判读是否相等\n     * @param $elem 元素\n     */\n    DomElement.prototype.equal = function ($elem) {\n        if ($elem instanceof DomElement) {\n            return this.elems[0] === $elem.elems[0];\n        }\n        else if ($elem instanceof HTMLElement) {\n            return this.elems[0] === $elem;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * 将该元素插入到某个元素前面\n     * @param selector css 选择器\n     */\n    DomElement.prototype.insertBefore = function (selector) {\n        var $referenceNode = $(selector);\n        var referenceNode = $referenceNode.elems[0];\n        if (!referenceNode) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            var parent = referenceNode.parentNode;\n            parent.insertBefore(elem, referenceNode);\n        });\n    };\n    /**\n     * 将该元素插入到某个元素后面\n     * @param selector css 选择器\n     */\n    DomElement.prototype.insertAfter = function (selector) {\n        var $referenceNode = $(selector);\n        var referenceNode = $referenceNode.elems[0];\n        var anchorNode = referenceNode && referenceNode.nextSibling;\n        if (!referenceNode) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            var parent = referenceNode.parentNode;\n            if (anchorNode) {\n                parent.insertBefore(elem, anchorNode);\n            }\n            else {\n                parent.appendChild(elem);\n            }\n        });\n    };\n    /**\n     * 设置/获取 数据\n     * @param key key\n     * @param value value\n     */\n    DomElement.prototype.data = function (key, value) {\n        if (value != null) {\n            // 设置数据\n            this.dataSource.set(key, value);\n        }\n        else {\n            // 获取数据\n            return this.dataSource.get(key);\n        }\n    };\n    /**\n     * 获取当前节点的顶级(段落)\n     * @param editor 富文本实例\n     */\n    DomElement.prototype.getNodeTop = function (editor) {\n        if (this.length < 1) {\n            return this;\n        }\n        var $parent = this.parent();\n        if (editor.$textElem.equal($parent)) {\n            return this;\n        }\n        return $parent.getNodeTop(editor);\n    };\n    /**\n     * 获取当前 节点 基与上一个拥有相对或者解决定位的父容器的位置\n     * @param editor 富文本实例\n     */\n    DomElement.prototype.getOffsetData = function () {\n        var $node = this.elems[0];\n        return {\n            top: $node.offsetTop,\n            left: $node.offsetLeft,\n            width: $node.offsetWidth,\n            height: $node.offsetHeight,\n            parent: $node.offsetParent,\n        };\n    };\n    return DomElement;\n}());\nexports.DomElement = DomElement;\n// new 一个对象\nfunction $(selector) {\n    return new DomElement(selector);\n}\nexports.default = $;\n","module.exports = require(\"core-js-pure/stable/object/create\");","module.exports = require(\"core-js-pure/stable/object/set-prototype-of\");","'use strict';\nvar global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar isForced = require('../internals/is-forced');\nvar path = require('../internals/path');\nvar bind = require('../internals/function-bind-context');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof NativeConstructor) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return NativeConstructor.apply(this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue;\n\n    // bind timers to global for call from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changs in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    target[key] = resultProperty;\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!has(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      path[VIRTUAL_PROTOTYPE][key] = sourceProperty;\n      // export real prototype methods\n      if (options.real && targetPrototype && !targetPrototype[key]) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n","module.exports = require(\"core-js-pure/stable/instance/for-each\");","\"use strict\";\n/**\n * @description 工具函数集合\n * @author wangfupeng\n */\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toArray = exports.deepClone = exports.isFunction = exports.debounce = exports.throttle = exports.arrForEach = exports.forEach = exports.replaceSpecialSymbol = exports.replaceHtmlSymbol = exports.getRandom = exports.UA = void 0;\nvar NavUA = /** @class */ (function () {\n    function NavUA() {\n        this._ua = navigator.userAgent;\n        var math = this._ua.match(/(Edge?)\\/(\\d+)/);\n        this.isOldEdge = math && math[1] == 'Edge' && parseInt(math[2]) < 19 ? true : false;\n        this.isFirefox =\n            /Firefox\\/\\d+/.test(this._ua) && !/Seamonkey\\/\\d+/.test(this._ua) ? true : false;\n    }\n    // 是否为 IE\n    NavUA.prototype.isIE = function () {\n        return 'ActiveXObject' in window;\n    };\n    // 是否为 webkit\n    NavUA.prototype.isWebkit = function () {\n        return /webkit/i.test(this._ua);\n    };\n    return NavUA;\n}());\n// 和 UA 相关的属性\nexports.UA = new NavUA();\n/**\n * 获取随机石\n * @param prefix 前缀\n */\nfunction getRandom(prefix) {\n    if (prefix === void 0) { prefix = ''; }\n    return prefix + Math.random().toString().slice(2);\n}\nexports.getRandom = getRandom;\n/**\n * 替换 html 特殊字符\n * @param html html 字符串\n */\nfunction replaceHtmlSymbol(html) {\n    return html\n        .replace(/</gm, '&lt;')\n        .replace(/>/gm, '&gt;')\n        .replace(/\"/gm, '&quot;')\n        .replace(/(\\r\\n|\\r|\\n)/g, '<br/>');\n}\nexports.replaceHtmlSymbol = replaceHtmlSymbol;\nfunction replaceSpecialSymbol(value) {\n    return value\n        .replace(/&lt;/gm, '<')\n        .replace(/&gt;/gm, '>')\n        .replace(/&quot;/gm, '\"');\n}\nexports.replaceSpecialSymbol = replaceSpecialSymbol;\n/**\n * 遍历对象或数组，执行回调函数\n * @param obj 对象或数组\n * @param fn 回调函数 (key, val) => {...}\n */\nfunction forEach(obj, fn) {\n    for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            var result = fn(key, obj[key]);\n            if (result === false) {\n                // 提前终止循环\n                break;\n            }\n        }\n    }\n}\nexports.forEach = forEach;\n/**\n * 遍历类数组\n * @param fakeArr 类数组\n * @param fn 回调函数\n */\nfunction arrForEach(fakeArr, fn) {\n    var i, item, result;\n    var length = fakeArr.length || 0;\n    for (i = 0; i < length; i++) {\n        item = fakeArr[i];\n        result = fn.call(fakeArr, item, i);\n        if (result === false) {\n            break;\n        }\n    }\n}\nexports.arrForEach = arrForEach;\n/**\n * 节流\n * @param fn 函数\n * @param interval 间隔时间，毫秒\n */\nfunction throttle(fn, interval) {\n    if (interval === void 0) { interval = 200; }\n    var flag = false;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!flag) {\n            flag = true;\n            setTimeout(function () {\n                flag = false;\n                fn.call.apply(fn, __spreadArrays([null], args)); // this 报语法错误，先用 null\n            }, interval);\n        }\n    };\n}\nexports.throttle = throttle;\n/**\n * 防抖\n * @param fn 函数\n * @param delay 间隔时间，毫秒\n */\nfunction debounce(fn, delay) {\n    if (delay === void 0) { delay = 200; }\n    var lastFn = 0;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (lastFn) {\n            window.clearTimeout(lastFn);\n        }\n        lastFn = window.setTimeout(function () {\n            lastFn = 0;\n            fn.call.apply(fn, __spreadArrays([null], args)); // this 报语法错误，先用 null\n        }, delay);\n    };\n}\nexports.debounce = debounce;\n/**\n * isFunction 是否是函数\n * @param fn 函数\n */\nfunction isFunction(fn) {\n    return typeof fn === 'function';\n}\nexports.isFunction = isFunction;\n/**\n * 引用与非引用值 深拷贝方法\n * @param data\n */\nfunction deepClone(data) {\n    if (typeof data !== 'object' || typeof data == 'function' || data === null) {\n        return data;\n    }\n    var item;\n    if (Array.isArray(data)) {\n        item = [];\n    }\n    if (!Array.isArray(data)) {\n        item = {};\n    }\n    for (var i in data) {\n        if (Object.prototype.hasOwnProperty.call(data, i)) {\n            item[i] = deepClone(data[i]);\n        }\n    }\n    return item;\n}\nexports.deepClone = deepClone;\n/**\n * 将可遍历的对象转换为数组\n * @param data 可遍历的对象\n */\nfunction toArray(data) {\n    return Array.prototype.slice.call(data);\n}\nexports.toArray = toArray;\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var path = require('../internals/path');\n\nmodule.exports = function (CONSTRUCTOR) {\n  return path[CONSTRUCTOR + 'Prototype'];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","module.exports = require(\"core-js-pure/stable/instance/trim\");","\"use strict\";\n/**\n * @description 下拉菜单 Class\n * @author wangfupeng\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Menu_1 = __importDefault(require(\"./Menu\"));\nvar DropList_1 = __importDefault(require(\"./DropList\"));\nvar DropListMenu = /** @class */ (function (_super) {\n    __extends(DropListMenu, _super);\n    function DropListMenu($elem, editor, conf) {\n        var _this = _super.call(this, $elem, editor) || this;\n        // 国际化\n        conf.title = editor.i18next.t(\"menus.dropListMenu.\" + conf.title);\n        // 非中文模式下 带 icon 的下拉列表居左\n        var className = editor.config.lang === 'zh-CN' ? '' : 'w-e-drop-list-tl';\n        if (className !== '' && conf.type === 'list') {\n            conf.list.forEach(function (item) {\n                var $elem = item.$elem;\n                var $children = dom_core_1.default($elem.children());\n                if ($children.length > 0) {\n                    var nodeName = $children === null || $children === void 0 ? void 0 : $children.getNodeName();\n                    if (nodeName && nodeName === 'I') {\n                        $elem.addClass(className);\n                    }\n                }\n            });\n        }\n        // 初始化 dropList\n        var dropList = new DropList_1.default(_this, conf);\n        _this.dropList = dropList;\n        // 绑定事件\n        $elem\n            .on('mouseenter', function () {\n            if (editor.selection.getRange() == null) {\n                return;\n            }\n            $elem.css('z-index', editor.zIndex.get('menu'));\n            // 触发 droplist 悬浮事件\n            editor.txt.eventHooks.dropListMenuHoverEvents.forEach(function (fn) { return fn(); });\n            // 显示\n            dropList.showTimeoutId = window.setTimeout(function () {\n                dropList.show();\n            }, 200);\n        })\n            .on('mouseleave', function () {\n            $elem.css('z-index', 'auto');\n            // 隐藏\n            dropList.hideTimeoutId = window.setTimeout(function () {\n                dropList.hide();\n            });\n        });\n        return _this;\n    }\n    return DropListMenu;\n}(Menu_1.default));\nexports.default = DropListMenu;\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","\"use strict\";\n/**\n * @description 按钮菜单 Class\n * @author wangfupeng\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Menu_1 = __importDefault(require(\"./Menu\"));\nvar BtnMenu = /** @class */ (function (_super) {\n    __extends(BtnMenu, _super);\n    function BtnMenu($elem, editor) {\n        return _super.call(this, $elem, editor) || this;\n    }\n    return BtnMenu;\n}(Menu_1.default));\nexports.default = BtnMenu;\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","\"use strict\";\n/**\n * @description panel class\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar const_1 = require(\"../../utils/const\");\nvar Panel = /** @class */ (function () {\n    function Panel(menu, conf) {\n        this.menu = menu;\n        this.conf = conf;\n        this.$container = dom_core_1.default('<div class=\"w-e-panel-container\"></div>');\n        // 隐藏 panel\n        var editor = menu.editor;\n        editor.txt.eventHooks.clickEvents.push(Panel.hideCurAllPanels);\n        editor.txt.eventHooks.toolbarClickEvents.push(Panel.hideCurAllPanels);\n        editor.txt.eventHooks.dropListMenuHoverEvents.push(Panel.hideCurAllPanels);\n    }\n    /**\n     * 创建并展示 panel\n     */\n    Panel.prototype.create = function () {\n        var _this = this;\n        var menu = this.menu;\n        if (Panel.createdMenus.has(menu)) {\n            // 创建过了\n            return;\n        }\n        var conf = this.conf;\n        // panel 的容器\n        var $container = this.$container;\n        var width = conf.width || 300; // 默认 300px\n        var rect = menu.editor.$toolbarElem.getBoundingClientRect();\n        var menuRect = menu.$elem.getBoundingClientRect();\n        var top = rect.height + rect.top - menuRect.top;\n        var left = (rect.width - width) / 2 + rect.left - menuRect.left;\n        $container\n            .css('width', width + 'px')\n            .css('margin-top', top + \"px\")\n            .css('margin-left', left + \"px\")\n            .css('z-index', menu.editor.zIndex.get('panel'));\n        // 添加关闭按钮\n        var $closeBtn = dom_core_1.default('<i class=\"w-e-icon-close w-e-panel-close\"></i>');\n        $container.append($closeBtn);\n        $closeBtn.on('click', function () {\n            _this.remove();\n        });\n        // 准备 tabs 容器\n        var $tabTitleContainer = dom_core_1.default('<ul class=\"w-e-panel-tab-title\"></ul>');\n        var $tabContentContainer = dom_core_1.default('<div class=\"w-e-panel-tab-content\"></div>');\n        $container.append($tabTitleContainer).append($tabContentContainer);\n        // 设置高度\n        var height = conf.height; // height: 0 即不用设置\n        if (height) {\n            $tabContentContainer.css('height', height + 'px').css('overflow-y', 'auto');\n        }\n        // tabs\n        var tabs = conf.tabs || [];\n        var tabTitleArr = [];\n        var tabContentArr = [];\n        tabs.forEach(function (tab, tabIndex) {\n            if (!tab) {\n                return;\n            }\n            var title = tab.title || '';\n            var tpl = tab.tpl || '';\n            // 添加到 DOM\n            var $title = dom_core_1.default(\"<li class=\\\"w-e-item\\\">\" + title + \"</li>\");\n            $tabTitleContainer.append($title);\n            var $content = dom_core_1.default(tpl);\n            $tabContentContainer.append($content);\n            // 记录到内存\n            tabTitleArr.push($title);\n            tabContentArr.push($content);\n            // 设置 active 项\n            if (tabIndex === 0) {\n                $title.data('active', true);\n                $title.addClass('w-e-active');\n            }\n            else {\n                $content.hide();\n            }\n            // 绑定 tab 的事件\n            $title.on('click', function () {\n                if ($title.data('active')) {\n                    return;\n                }\n                // 隐藏所有的 tab\n                tabTitleArr.forEach(function ($title) {\n                    $title.data('active', false);\n                    $title.removeClass('w-e-active');\n                });\n                tabContentArr.forEach(function ($content) {\n                    $content.hide();\n                });\n                // 显示当前的 tab\n                $title.data('active', true);\n                $title.addClass('w-e-active');\n                $content.show();\n            });\n        });\n        // 绑定关闭事件\n        $container.on('click', function (e) {\n            // 点击时阻止冒泡\n            e.stopPropagation();\n        });\n        // 添加到 DOM\n        menu.$elem.append($container);\n        // 绑定 conf events 的事件，只有添加到 DOM 之后才能绑定成功\n        tabs.forEach(function (tab, index) {\n            if (!tab) {\n                return;\n            }\n            var events = tab.events || [];\n            events.forEach(function (event) {\n                var selector = event.selector;\n                var type = event.type;\n                var fn = event.fn || const_1.EMPTY_FN;\n                var $content = tabContentArr[index];\n                $content.find(selector).on(type, function (e) {\n                    e.stopPropagation();\n                    var needToHide = fn(e);\n                    // 执行完事件之后，是否要关闭 panel\n                    if (needToHide) {\n                        _this.remove();\n                    }\n                });\n            });\n        });\n        // focus 第一个 elem\n        var $inputs = $container.find('input[type=text],textarea');\n        if ($inputs.length) {\n            $inputs.get(0).focus();\n        }\n        // 隐藏其他 panel\n        Panel.hideCurAllPanels();\n        // 记录该 menu 已经创建了 panel\n        menu.setPanel(this);\n        Panel.createdMenus.add(menu);\n    };\n    /**\n     * 移除 penal\n     */\n    Panel.prototype.remove = function () {\n        var menu = this.menu;\n        var $container = this.$container;\n        if ($container) {\n            $container.remove();\n        }\n        // 将该 menu 记录中移除\n        Panel.createdMenus.delete(menu);\n    };\n    /**\n     * 隐藏当前所有的 panel\n     */\n    Panel.hideCurAllPanels = function () {\n        if (Panel.createdMenus.size === 0) {\n            return;\n        }\n        Panel.createdMenus.forEach(function (menu) {\n            var panel = menu.panel;\n            panel && panel.remove();\n        });\n    };\n    // 记录已经创建过的 panelMenu\n    Panel.createdMenus = new Set();\n    return Panel;\n}());\nexports.default = Panel;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineProperty = require('../internals/object-define-property').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar toString = require('../internals/object-to-string');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!has(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n","\"use strict\";\n/**\n * @description 常亮\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.urlRegex = exports.imgRegex = exports.EMPTY_FN = void 0;\nfunction EMPTY_FN() { }\nexports.EMPTY_FN = EMPTY_FN;\n//用于校验图片链接是否符合规范\nexports.imgRegex = /\\.(gif|jpg|jpeg|png)$/i;\n//用于校验是否为url格式字符串\nexports.urlRegex = /^(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-.,@?^=%&amp;:/~+#]*[\\w\\-@?^=%&amp;/~+#])?/;\n","\"use strict\";\n/**\n * @description Modal 菜单 Class\n * @author wangfupeng\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Menu_1 = __importDefault(require(\"./Menu\"));\nvar PanelMenu = /** @class */ (function (_super) {\n    __extends(PanelMenu, _super);\n    function PanelMenu($elem, editor) {\n        return _super.call(this, $elem, editor) || this;\n    }\n    /**\n     * 给 menu 设置 panel\n     * @param panel panel 实例\n     */\n    PanelMenu.prototype.setPanel = function (panel) {\n        this.panel = panel;\n    };\n    return PanelMenu;\n}(Menu_1.default));\nexports.default = PanelMenu;\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","module.exports = true;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","module.exports = {};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","module.exports = require(\"core-js-pure/stable/instance/map\");","\"use strict\";\n/**\n * @description Tooltip class\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(editor, $elem, conf) {\n        this.editor = editor;\n        this.$targetElem = $elem;\n        this.conf = conf;\n        this._show = false;\n        this._isInsertTextContainer = false;\n        // 定义 container\n        var $container = dom_core_1.default('<div></div>');\n        $container.addClass('w-e-tooltip');\n        this.$container = $container;\n    }\n    /**\n     * 获取 tooltip 定位\n     */\n    Tooltip.prototype.getPositionData = function () {\n        var $container = this.$container;\n        var top = 0;\n        var left = 0;\n        // tooltip 的高度\n        var tooltipHeight = 20;\n        // 网页的 scrollTop\n        var pageScrollTop = document.documentElement.scrollTop;\n        // 目标元素的 rect\n        var targetElemRect = this.$targetElem.getBoundingClientRect();\n        // 编辑区域的 rect\n        var textElemRect = this.editor.$textElem.getBoundingClientRect();\n        // 获取基于 textContainerElem 的 位置信息\n        var targetOffset = this.$targetElem.getOffsetData();\n        var targetParentElem = dom_core_1.default(targetOffset.parent);\n        // 获取 编辑区域的滚动条信息\n        var scrollTop = this.editor.$textElem.elems[0].scrollTop;\n        // 是否插入 textContainer 中\n        this._isInsertTextContainer = targetParentElem.equal(this.editor.$textContainerElem);\n        if (this._isInsertTextContainer) {\n            // 父容器的高度\n            var targetParentElemHeight = targetParentElem.getClientHeight();\n            // 相对于父容器的位置信息\n            var offsetTop = targetOffset.top, offsetLeft = targetOffset.left, offsetHeight = targetOffset.height;\n            // 元素基于父容器的 绝对top信息\n            var absoluteTop = offsetTop - scrollTop;\n            if (absoluteTop > tooltipHeight + 5) {\n                // 说明模板元素的顶部空间足够\n                top = absoluteTop - tooltipHeight - 15;\n                $container.addClass('w-e-tooltip-up');\n            }\n            else if (absoluteTop + offsetHeight + tooltipHeight < targetParentElemHeight) {\n                // 说明模板元素的底部空间足够\n                top = absoluteTop + offsetHeight + 10;\n                $container.addClass('w-e-tooltip-down');\n            }\n            else {\n                // 其他情况，tooltip 放在目标元素左上角\n                top = (absoluteTop > 0 ? absoluteTop : 0) + tooltipHeight + 10;\n                $container.addClass('w-e-tooltip-down');\n            }\n            // 计算 left\n            if (offsetLeft < 0) {\n                left = 0;\n            }\n            else {\n                left = offsetLeft;\n            }\n        }\n        else {\n            if (targetElemRect.top < tooltipHeight) {\n                // 说明目标元素的顶部，因滑动隐藏在浏览器上方。tooltip 要放在目标元素下面\n                top = targetElemRect.bottom + pageScrollTop + 5; // 5px 间距\n                $container.addClass('w-e-tooltip-down');\n            }\n            else if (targetElemRect.top - textElemRect.top < tooltipHeight) {\n                // 说明目标元素的顶部，因滑动隐藏在编辑区域上方。tooltip 要放在目标元素下面\n                top = targetElemRect.bottom + pageScrollTop + 5; // 5px 间距\n                $container.addClass('w-e-tooltip-down');\n            }\n            else {\n                // 其他情况，tooltip 放在目标元素上方\n                top = targetElemRect.top + pageScrollTop - tooltipHeight - 15; // 减去 toolbar 的高度，还有 15px 间距\n                $container.addClass('w-e-tooltip-up');\n            }\n            // 计算 left\n            if (targetElemRect.left < 0) {\n                left = 0;\n            }\n            else {\n                left = targetElemRect.left;\n            }\n        }\n        // 返回结果\n        return { top: top, left: left };\n    };\n    /**\n     * 添加 tooltip 菜单\n     */\n    Tooltip.prototype.appendMenus = function () {\n        var _this = this;\n        var conf = this.conf;\n        var editor = this.editor;\n        var $targetElem = this.$targetElem;\n        var $container = this.$container;\n        var length = conf.length;\n        conf.forEach(function (item, index) {\n            // 添加元素\n            var $elem = item.$elem;\n            var $wrapper = dom_core_1.default('<div></div>');\n            $wrapper.addClass('w-e-tooltip-item-wrapper ');\n            $wrapper.append($elem);\n            $container.append($wrapper);\n            // 绑定点击事件\n            $elem.on('click', function (e) {\n                e.preventDefault();\n                var res = item.onClick(editor, $targetElem);\n                if (res)\n                    _this.remove();\n            });\n        });\n    };\n    /**\n     * 创建 tooltip\n     */\n    Tooltip.prototype.create = function () {\n        var editor = this.editor;\n        var $container = this.$container;\n        // 生成 container 的内容\n        this.appendMenus();\n        // 设置定位\n        var _a = this.getPositionData(), top = _a.top, left = _a.left;\n        $container.css('top', top + \"px\");\n        $container.css('left', left + \"px\");\n        // 设置 z-index\n        $container.css('z-index', editor.zIndex.get('tooltip'));\n        // 添加到 DOM\n        if (this._isInsertTextContainer) {\n            this.editor.$textContainerElem.append($container);\n        }\n        else {\n            dom_core_1.default('body').append($container);\n        }\n        this._show = true;\n    };\n    /**\n     * 移除该 tooltip\n     */\n    Tooltip.prototype.remove = function () {\n        this.$container.remove();\n        this._show = false;\n    };\n    Object.defineProperty(Tooltip.prototype, \"isShow\", {\n        /**\n         * 是否显示\n         */\n        get: function () {\n            return this._show;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Tooltip;\n}());\nexports.default = Tooltip;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = {};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n};\n","require('./es.array.iterator');\nvar DOMIterables = require('../internals/dom-iterables');\nvar global = require('../internals/global');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype && classof(CollectionPrototype) !== TO_STRING_TAG) {\n    createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n  }\n  Iterators[COLLECTION_NAME] = Iterators.Array;\n}\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","module.exports = require(\"core-js-pure/stable/instance/index-of\");","module.exports = require(\"core-js-pure/stable/instance/slice\");","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","// empty\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","module.exports = require(\"core-js-pure/stable/instance/find\");","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","module.exports = function () { /* empty */ };\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","module.exports = require(\"core-js-pure/stable/instance/filter\");","module.exports = require(\"core-js-pure/stable/instance/splice\");","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","\"use strict\";\n/**\n * @description Menu class 父类\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Panel_1 = __importDefault(require(\"./Panel\"));\nvar Menu = /** @class */ (function () {\n    function Menu($elem, editor) {\n        var _this = this;\n        this.$elem = $elem;\n        this.editor = editor;\n        this._active = false;\n        // 绑定菜单点击事件\n        $elem.on('click', function (e) {\n            Panel_1.default.hideCurAllPanels(); // 隐藏当前的所有 Panel\n            // 触发菜单点击的钩子\n            editor.txt.eventHooks.menuClickEvents.forEach(function (fn) { return fn(); });\n            e.stopPropagation();\n            if (editor.selection.getRange() == null) {\n                return;\n            }\n            _this.clickHandler(e);\n        });\n    }\n    /**\n     * 菜单点击事件，子类可重写\n     * @param e event\n     */\n    Menu.prototype.clickHandler = function (e) { };\n    /**\n     * 激活菜单，高亮显示\n     */\n    Menu.prototype.active = function () {\n        this._active = true;\n        this.$elem.addClass('w-e-active');\n    };\n    /**\n     * 取消激活，不再高亮显示\n     */\n    Menu.prototype.unActive = function () {\n        this._active = false;\n        this.$elem.removeClass('w-e-active');\n    };\n    Object.defineProperty(Menu.prototype, \"isActive\", {\n        /**\n         * 是否处于激活状态\n         */\n        get: function () {\n            return this._active;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Menu;\n}());\nexports.default = Menu;\n","\"use strict\";\n/**\n * @description 上传图片\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../utils/util\");\nvar upload_core_1 = __importDefault(require(\"../../editor/upload/upload-core\"));\nvar progress_1 = __importDefault(require(\"../../editor/upload/progress\"));\nvar UploadImg = /** @class */ (function () {\n    function UploadImg(editor) {\n        this.editor = editor;\n    }\n    /**\n     * 提示信息\n     * @param alertInfo alert info\n     * @param debugInfo debug info\n     */\n    UploadImg.prototype.alert = function (alertInfo, debugInfo) {\n        var customAlert = this.editor.config.customAlert;\n        if (customAlert) {\n            customAlert(alertInfo);\n        }\n        else {\n            window.alert(alertInfo);\n        }\n        if (debugInfo) {\n            console.error('wangEditor: ' + debugInfo);\n        }\n    };\n    /**\n     * 往编辑区域插入图片\n     * @param src 图片地址\n     */\n    UploadImg.prototype.insertImg = function (src) {\n        var _this_1 = this;\n        var editor = this.editor;\n        var config = editor.config;\n        var i18nPrefix = 'validate.';\n        var t = function (text, prefix) {\n            if (prefix === void 0) { prefix = i18nPrefix; }\n            return editor.i18next.t(prefix + text);\n        };\n        // 先插入图片，无论是否能成功\n        editor.cmd.do('insertHTML', \"<img src=\\\"\" + src + \"\\\" style=\\\"max-width:100%;\\\"/>\");\n        // 执行回调函数\n        config.linkImgCallback(src);\n        // 加载图片\n        var img = document.createElement('img');\n        img.onload = function () {\n            img = null;\n        };\n        img.onerror = function () {\n            _this_1.alert(t('插入图片错误'), \"wangEditor: \" + t('插入图片错误') + \"\\uFF0C\" + t('图片链接') + \" \\\"\" + src + \"\\\"\\uFF0C\" + t('下载链接失败'));\n            img = null;\n        };\n        img.onabort = function () { return (img = null); };\n        img.src = src;\n    };\n    /**\n     * 上传图片\n     * @param files 文件列表\n     */\n    UploadImg.prototype.uploadImg = function (files) {\n        var _this_1 = this;\n        if (!files.length) {\n            return;\n        }\n        var editor = this.editor;\n        var config = editor.config;\n        // ------------------------------ i18next ------------------------------\n        var i18nPrefix = 'validate.';\n        var t = function (text) {\n            return editor.i18next.t(i18nPrefix + text);\n        };\n        // ------------------------------ 获取配置信息 ------------------------------\n        // 服务端地址\n        var uploadImgServer = config.uploadImgServer;\n        // base64 格式\n        var uploadImgShowBase64 = config.uploadImgShowBase64;\n        // 图片最大体积\n        var maxSize = config.uploadImgMaxSize;\n        var maxSizeM = maxSize / 1024 / 1024;\n        // 一次最多上传图片数量\n        var maxLength = config.uploadImgMaxLength;\n        // 自定义 fileName\n        var uploadFileName = config.uploadFileName;\n        // 自定义参数\n        var uploadImgParams = config.uploadImgParams;\n        // 参数拼接到 url 中\n        var uploadImgParamsWithUrl = config.uploadImgParamsWithUrl;\n        // 自定义 header\n        var uploadImgHeaders = config.uploadImgHeaders;\n        // 钩子函数\n        var hooks = config.uploadImgHooks;\n        // 上传图片超时时间\n        var timeout = config.uploadImgTimeout;\n        // 跨域带 cookie\n        var withCredentials = config.withCredentials;\n        // 自定义上传图片\n        var customUploadImg = config.customUploadImg;\n        if (!customUploadImg) {\n            // 没有 customUploadImg 的情况下，需要如下两个配置才能继续进行图片上传\n            if (!uploadImgServer && !uploadImgShowBase64) {\n                return;\n            }\n        }\n        // ------------------------------ 验证文件信息 ------------------------------\n        var resultFiles = [];\n        var errInfos = [];\n        util_1.arrForEach(files, function (file) {\n            var name = file.name;\n            var size = file.size;\n            // chrome 低版本 name === undefined\n            if (!name || !size) {\n                return;\n            }\n            if (/\\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(name) === false) {\n                // 后缀名不合法，不是图片\n                errInfos.push(\"\\u3010\" + name + \"\\u3011\" + t('不是图片'));\n                return;\n            }\n            if (maxSize < size) {\n                // 上传图片过大\n                errInfos.push(\"\\u3010\" + name + \"\\u3011\" + t('大于') + \" \" + maxSizeM + \"M\");\n                return;\n            }\n            // 验证通过的加入结果列表\n            resultFiles.push(file);\n        });\n        // 抛出验证信息\n        if (errInfos.length) {\n            this.alert(t('图片验证未通过') + \": \\n\" + errInfos.join('\\n'));\n            return;\n        }\n        if (resultFiles.length > maxLength) {\n            this.alert(t('一次最多上传') + maxLength + t('张图片'));\n            return;\n        }\n        // ------------------------------ 自定义上传 ------------------------------\n        if (customUploadImg && typeof customUploadImg === 'function') {\n            customUploadImg(resultFiles, this.insertImg.bind(this));\n            // 阻止以下代码执行，重要！！！\n            return;\n        }\n        // ------------------------------ 上传图片 ------------------------------\n        // 添加图片数据\n        var formData = new FormData();\n        resultFiles.forEach(function (file, index) {\n            var name = uploadFileName || file.name;\n            if (resultFiles.length > 1) {\n                // 多个文件时，filename 不能重复\n                name = name + (index + 1);\n            }\n            formData.append(name, file);\n        });\n        if (uploadImgServer) {\n            // 添加自定义参数\n            var uploadImgServerArr = uploadImgServer.split('#');\n            uploadImgServer = uploadImgServerArr[0];\n            var uploadImgServerHash = uploadImgServerArr[1] || '';\n            util_1.forEach(uploadImgParams, function (key, val) {\n                // 因使用者反应，自定义参数不能默认 encode ，由 v3.1.1 版本开始注释掉\n                // val = encodeURIComponent(val)\n                // 第一，将参数拼接到 url 中\n                if (uploadImgParamsWithUrl) {\n                    if (uploadImgServer.indexOf('?') > 0) {\n                        uploadImgServer += '&';\n                    }\n                    else {\n                        uploadImgServer += '?';\n                    }\n                    uploadImgServer = uploadImgServer + key + '=' + val;\n                }\n                // 第二，将参数添加到 formData 中\n                formData.append(key, val);\n            });\n            if (uploadImgServerHash) {\n                uploadImgServer += '#' + uploadImgServerHash;\n            }\n            // 开始上传\n            var xhr = upload_core_1.default(uploadImgServer, {\n                timeout: timeout,\n                formData: formData,\n                headers: uploadImgHeaders,\n                withCredentials: !!withCredentials,\n                beforeSend: function (xhr) {\n                    if (hooks.before)\n                        return hooks.before(xhr, editor, resultFiles);\n                },\n                onTimeout: function (xhr) {\n                    _this_1.alert(t('上传图片超时'));\n                    if (hooks.timeout)\n                        hooks.timeout(xhr, editor);\n                },\n                onProgress: function (percent, e) {\n                    var progressBar = new progress_1.default(editor);\n                    if (e.lengthComputable) {\n                        percent = e.loaded / e.total;\n                        progressBar.show(percent);\n                    }\n                },\n                onError: function (xhr) {\n                    _this_1.alert(t('上传图片错误'), t('上传图片错误') + \"\\uFF0C\" + t('服务器返回状态') + \": \" + xhr.status);\n                    if (hooks.error)\n                        hooks.error(xhr, editor);\n                },\n                onFail: function (xhr, resultStr) {\n                    _this_1.alert(t('上传图片失败'), t('上传图片返回结果错误') + (\"\\uFF0C\" + t('返回结果') + \": \") + resultStr);\n                    if (hooks.fail)\n                        hooks.fail(xhr, editor, resultStr);\n                },\n                onSuccess: function (xhr, result) {\n                    if (hooks.customInsert) {\n                        // 自定义插入图片\n                        hooks.customInsert(_this_1.insertImg.bind(_this_1), result, editor);\n                        return;\n                    }\n                    if (result.errno != '0') {\n                        // 返回格式不对，应该为 { errno: 0, data: [...] }\n                        _this_1.alert(t('上传图片失败'), t('上传图片返回结果错误') + \"\\uFF0C\" + t('返回结果') + \" errno=\" + result.errno);\n                        if (hooks.fail)\n                            hooks.fail(xhr, editor, result);\n                        return;\n                    }\n                    // 成功，插入图片\n                    var data = result.data;\n                    data.forEach(function (link) {\n                        _this_1.insertImg(link);\n                    });\n                    // 钩子函数\n                    if (hooks.success)\n                        hooks.success(xhr, editor, result);\n                },\n            });\n            if (typeof xhr === 'string') {\n                // 上传被阻止\n                this.alert(xhr);\n            }\n            // 阻止以下代码执行，重要！！！\n            return;\n        }\n        // ------------------------------ 显示 base64 格式 ------------------------------\n        if (uploadImgShowBase64) {\n            util_1.arrForEach(files, function (file) {\n                var _this = _this_1;\n                var reader = new FileReader();\n                reader.readAsDataURL(file);\n                reader.onload = function () {\n                    if (!this.result)\n                        return;\n                    _this.insertImg(this.result.toString());\n                };\n            });\n        }\n    };\n    return UploadImg;\n}());\nexports.default = UploadImg;\n","\"use strict\";\n/**\n * @description 双栈实现撤销恢复\n * @author fangzhicong\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"./stack\");\nvar Cache = /** @class */ (function () {\n    function Cache(maxSize) {\n        this.maxSize = maxSize;\n        /**\n         * 上一步操作是否为 撤销/恢复\n         */\n        this.isRe = false;\n        this.data = new stack_1.CeilStack(maxSize);\n        this.revokeData = new stack_1.CeilStack(maxSize);\n    }\n    Object.defineProperty(Cache.prototype, \"size\", {\n        /**\n         * 返回当前栈中的数据长度。格式为：[正常的数据的条数，被撤销的数据的条数]\n         */\n        get: function () {\n            return [this.data.size, this.revokeData.size];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * 重设数据缓存器的缓存长度（第一次有效）\n     */\n    Cache.prototype.resetMaxSize = function (maxSize) {\n        this.data.resetMax(maxSize);\n        this.revokeData.resetMax(maxSize);\n    };\n    /**\n     * 保存数据\n     */\n    Cache.prototype.save = function (data) {\n        if (this.isRe) {\n            this.revokeData.clear();\n            this.isRe = false;\n        }\n        this.data.instack(data);\n        return this;\n    };\n    /**\n     * 撤销\n     * @param fn 撤销时，如果有数据，执行的回调函数\n     */\n    Cache.prototype.revoke = function (fn) {\n        !this.isRe && (this.isRe = true);\n        var data = this.data.outstack();\n        if (data) {\n            this.revokeData.instack(data);\n            fn(data);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * 恢复\n     * @param fn 恢复时，如果有数据，执行的回调函数\n     */\n    Cache.prototype.restore = function (fn) {\n        !this.isRe && (this.isRe = true);\n        var data = this.revokeData.outstack();\n        if (data) {\n            this.data.instack(data);\n            fn(data);\n            return true;\n        }\n        return false;\n    };\n    return Cache;\n}());\nexports.default = Cache;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) {\n    if (options && options.unsafe && target[key]) target[key] = src[key];\n    else redefine(target, key, src[key], options);\n  } return target;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","module.exports = require(\"core-js-pure/stable/instance/includes\");","module.exports = require(\"core-js-pure/stable/map\");","'use strict';\nvar $ = require('./export');\nvar global = require('../internals/global');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar fails = require('../internals/fails');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar defineProperty = require('../internals/object-define-property').f;\nvar forEach = require('../internals/array-iteration').forEach;\nvar DESCRIPTORS = require('../internals/descriptors');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var exported = {};\n  var Constructor;\n\n  if (!DESCRIPTORS || typeof NativeConstructor != 'function'\n    || !(IS_WEAK || NativePrototype.forEach && !fails(function () { new NativeConstructor().entries().next(); }))\n  ) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else {\n    Constructor = wrapper(function (target, iterable) {\n      setInternalState(anInstance(target, Constructor, CONSTRUCTOR_NAME), {\n        type: CONSTRUCTOR_NAME,\n        collection: new NativeConstructor()\n      });\n      if (iterable != undefined) iterate(iterable, target[ADDER], target, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    forEach(['add', 'clear', 'delete', 'forEach', 'get', 'has', 'set', 'keys', 'values', 'entries'], function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in NativePrototype && !(IS_WEAK && KEY == 'clear')) {\n        createNonEnumerableProperty(Constructor.prototype, KEY, function (a, b) {\n          var collection = getInternalState(this).collection;\n          if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n          var result = collection[KEY](a === 0 ? 0 : a, b);\n          return IS_ADDER ? this : result;\n        });\n      }\n    });\n\n    IS_WEAK || defineProperty(Constructor.prototype, 'size', {\n      configurable: true,\n      get: function () {\n        return getInternalState(this).collection.size;\n      }\n    });\n  }\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME, false, true);\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: true }, exported);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","module.exports = require(\"core-js-pure/stable/array/is-array\");","var _Symbol$iterator = require(\"@babel/runtime-corejs3/core-js/symbol/iterator\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js/symbol\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","module.exports = require(\"core-js-pure/stable/set-timeout\");","\"use strict\";\n/**\n * @description 样式配置\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    zIndex: 10000,\n};\n","\"use strict\";\n/**\n * @description 处理粘贴逻辑\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getPasteImgs = exports.getPasteHtml = exports.getPasteText = void 0;\nvar util_1 = require(\"../../utils/util\");\nvar parse_html_1 = __importDefault(require(\"./parse-html\"));\n/**\n * 获取粘贴的纯文本\n * @param e Event 参数\n */\nfunction getPasteText(e) {\n    // const clipboardData = e.clipboardData || (e.originalEvent && e.originalEvent.clipboardData)\n    var clipboardData = e.clipboardData; // 暂不考虑 originalEvent 的情况\n    var pasteText = '';\n    if (clipboardData == null) {\n        pasteText = window.clipboardData && window.clipboardData.getData('text');\n    }\n    else {\n        pasteText = clipboardData.getData('text/plain');\n    }\n    return util_1.replaceHtmlSymbol(pasteText);\n}\nexports.getPasteText = getPasteText;\n/**\n * 获取粘贴的 html 字符串\n * @param e Event 参数\n * @param filterStyle 是否过滤 style 样式\n * @param ignoreImg 是否忽略 img 标签\n */\nfunction getPasteHtml(e, filterStyle, ignoreImg) {\n    if (filterStyle === void 0) { filterStyle = true; }\n    if (ignoreImg === void 0) { ignoreImg = false; }\n    var clipboardData = e.clipboardData; // 暂不考虑 originalEvent 的情况\n    var pasteHtml = '';\n    if (clipboardData) {\n        pasteHtml = clipboardData.getData('text/html');\n    }\n    // 无法通过 'text/html' 格式获取 html，则尝试获取 text\n    if (!pasteHtml) {\n        var text = getPasteText(e);\n        if (!text) {\n            return ''; // 没有找到任何文字，则返回\n        }\n        pasteHtml = \"<p>\" + text + \"</p>\";\n    }\n    // 剔除多余的标签、属性\n    pasteHtml = parse_html_1.default(pasteHtml, filterStyle, ignoreImg);\n    return pasteHtml;\n}\nexports.getPasteHtml = getPasteHtml;\n/**\n * 获取粘贴的图片文件\n * @param e Event 参数\n */\nfunction getPasteImgs(e) {\n    var result = [];\n    var txt = getPasteText(e);\n    if (txt) {\n        // 有文字，就忽略图片\n        return result;\n    }\n    var clipboardData = e.clipboardData;\n    var items = clipboardData.items;\n    if (!items) {\n        return result;\n    }\n    util_1.forEach(items, function (key, value) {\n        var type = value.type;\n        if (/image/i.test(type)) {\n            result.push(value.getAsFile());\n        }\n    });\n    return result;\n}\nexports.getPasteImgs = getPasteImgs;\n","module.exports = require(\"core-js-pure/stable/set\");","module.exports = require(\"core-js-pure/stable/instance/bind\");","\"use strict\";\n/**\n * @description 下拉列表 class\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar const_1 = require(\"../../utils/const\");\nvar DropList = /** @class */ (function () {\n    function DropList(menu, conf) {\n        var _this = this;\n        this.hideTimeoutId = 0;\n        this.showTimeoutId = 0;\n        this.menu = menu;\n        this.conf = conf;\n        // 容器\n        var $container = dom_core_1.default('<div class=\"w-e-droplist\"></div>');\n        // 标题\n        var $title = dom_core_1.default(\"<p>\" + conf.title + \"</p>\");\n        $title.addClass('w-e-dp-title');\n        $container.append($title);\n        // 列表和类型\n        var list = conf.list || [];\n        var type = conf.type || 'list';\n        // item 的点击事件\n        var clickHandler = conf.clickHandler || const_1.EMPTY_FN;\n        // 加入 DOM 并绑定事件\n        var $list = dom_core_1.default('<ul class=\"' + (type === 'list' ? 'w-e-list' : 'w-e-block') + '\"></ul>');\n        list.forEach(function (item) {\n            var $elem = item.$elem;\n            var value = item.value;\n            var $li = dom_core_1.default('<li class=\"w-e-item\"></li>');\n            if ($elem) {\n                $li.append($elem);\n                $list.append($li);\n                $li.on('click', function () {\n                    clickHandler(value);\n                    // item 点击之后，隐藏 list\n                    _this.hideTimeoutId = window.setTimeout(function () {\n                        _this.hide();\n                    });\n                });\n            }\n        });\n        $container.append($list);\n        // 绑定隐藏事件\n        $container.on('mouseleave', function () {\n            _this.hideTimeoutId = window.setTimeout(function () {\n                _this.hide();\n            });\n        });\n        // 记录属性\n        this.$container = $container;\n        this.rendered = false;\n        this._show = false;\n    }\n    /**\n     * 显示 DropList\n     */\n    DropList.prototype.show = function () {\n        if (this.hideTimeoutId) {\n            // 清除之前的定时隐藏\n            clearTimeout(this.hideTimeoutId);\n        }\n        var menu = this.menu;\n        var $menuELem = menu.$elem;\n        var $container = this.$container;\n        if (this._show) {\n            return;\n        }\n        if (this.rendered) {\n            // 显示\n            $container.show();\n        }\n        else {\n            // 加入 DOM 之前先定位位置\n            var menuHeight = $menuELem.getSizeData().height || 0;\n            var width = this.conf.width || 100; // 默认为 100\n            $container.css('margin-top', menuHeight + 'px').css('width', width + 'px');\n            // 加入到 DOM\n            $menuELem.append($container);\n            this.rendered = true;\n        }\n        // 修改属性\n        this._show = true;\n    };\n    /**\n     * 隐藏 DropList\n     */\n    DropList.prototype.hide = function () {\n        if (this.showTimeoutId) {\n            // 清除之前的定时显示\n            clearTimeout(this.showTimeoutId);\n        }\n        var $container = this.$container;\n        if (!this._show) {\n            return;\n        }\n        // 隐藏并需改属性\n        $container.hide();\n        this._show = false;\n    };\n    Object.defineProperty(DropList.prototype, \"isShow\", {\n        get: function () {\n            return this._show;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DropList;\n}());\nexports.default = DropList;\n","\"use strict\";\n/**\n * @description 检查选区是否在链接中，即菜单是否应该 active\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isActive(editor) {\n    var $selectionELem = editor.selection.getSelectionContainerElem();\n    if (!$selectionELem) {\n        return false;\n    }\n    if ($selectionELem.getNodeName() === 'A') {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexports.default = isActive;\n","\"use strict\";\n/**\n * @description 检查选区是否在代码中，即菜单是否应该 active\n * @author lkw\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isActive(editor) {\n    var $selectionELem = editor.selection.getSelectionContainerElem();\n    if (!$selectionELem) {\n        return false;\n    }\n    if ($selectionELem.getNodeName() == 'CODE' ||\n        $selectionELem.getNodeName() == 'PRE' ||\n        $selectionELem.parent().getNodeName() == 'CODE' ||\n        $selectionELem.parent().getNodeName() == 'PRE' ||\n        /hljs/.test($selectionELem.parent().attr('class'))) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexports.default = isActive;\n","\"use strict\";\n/**\n * @description 入口文件\n * @author wangfupeng\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./assets/style/common.less\");\nrequire(\"./assets/style/icon.less\");\nrequire(\"./assets/style/menus.less\");\nrequire(\"./assets/style/text.less\");\nrequire(\"./assets/style/panel.less\");\nrequire(\"./assets/style/droplist.less\");\nrequire(\"./utils/polyfill\");\nvar index_1 = __importDefault(require(\"./editor/index\"));\n__exportStar(require(\"./menus/menu-constructors/index\"), exports);\n// 检验是否浏览器环境\ntry {\n    document;\n}\ncatch (ex) {\n    throw new Error('请在浏览器环境下运行');\n}\nexports.default = index_1.default;\n","var parent = require('../../es/object/define-property');\n\nmodule.exports = parent;\n","require('../../modules/es.object.define-property');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nvar defineProperty = module.exports = function defineProperty(it, key, desc) {\n  return Object.defineProperty(it, key, desc);\n};\n\nif (Object.defineProperty.sham) defineProperty.sham = true;\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var parent = require('../../es/object/create');\n\nmodule.exports = parent;\n","require('../../modules/es.object.create');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nmodule.exports = function create(P, D) {\n  return Object.create(P, D);\n};\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./common.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-toolbar,\\n.w-e-text-container,\\n.w-e-menu-panel {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n  background-color: #fff;\\n  /*表情菜单样式*/\\n  /*分割线样式*/\\n}\\n.w-e-toolbar .eleImg,\\n.w-e-text-container .eleImg,\\n.w-e-menu-panel .eleImg {\\n  cursor: pointer;\\n  display: inline-block;\\n  font-size: 18px;\\n  padding: 0 3px;\\n}\\n.w-e-toolbar *,\\n.w-e-text-container *,\\n.w-e-menu-panel * {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n}\\n.w-e-toolbar hr,\\n.w-e-text-container hr,\\n.w-e-menu-panel hr {\\n  cursor: pointer;\\n  display: block;\\n  height: 0px;\\n  border: 0;\\n  border-top: 3px solid #ccc;\\n  margin: 20px 0;\\n}\\n.w-e-clear-fix:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-drop-list-item {\\n  position: relative;\\n  top: 1px;\\n  padding-right: 7px;\\n  color: #333 !important;\\n}\\n.w-e-drop-list-tl {\\n  padding-left: 10px;\\n  text-align: left;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./icon.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../font/w-e-icon.woff?ddq1c7\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"@font-face {\\n  font-family: 'w-e-icon';\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n[class^=\\\"w-e-icon-\\\"],\\n[class*=\\\" w-e-icon-\\\"] {\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'w-e-icon' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.w-e-icon-close:before {\\n  content: \\\"\\\\f00d\\\";\\n}\\n.w-e-icon-upload2:before {\\n  content: \\\"\\\\e9c6\\\";\\n}\\n.w-e-icon-trash-o:before {\\n  content: \\\"\\\\f014\\\";\\n}\\n.w-e-icon-header:before {\\n  content: \\\"\\\\f1dc\\\";\\n}\\n.w-e-icon-pencil2:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n.w-e-icon-paint-brush:before {\\n  content: \\\"\\\\f1fc\\\";\\n}\\n.w-e-icon-image:before {\\n  content: \\\"\\\\e90d\\\";\\n}\\n.w-e-icon-play:before {\\n  content: \\\"\\\\e912\\\";\\n}\\n.w-e-icon-location:before {\\n  content: \\\"\\\\e947\\\";\\n}\\n.w-e-icon-undo:before {\\n  content: \\\"\\\\e965\\\";\\n}\\n.w-e-icon-redo:before {\\n  content: \\\"\\\\e966\\\";\\n}\\n.w-e-icon-quotes-left:before {\\n  content: \\\"\\\\e977\\\";\\n}\\n.w-e-icon-list-numbered:before {\\n  content: \\\"\\\\e9b9\\\";\\n}\\n.w-e-icon-list2:before {\\n  content: \\\"\\\\e9bb\\\";\\n}\\n.w-e-icon-link:before {\\n  content: \\\"\\\\e9cb\\\";\\n}\\n.w-e-icon-happy:before {\\n  content: \\\"\\\\e9df\\\";\\n}\\n.w-e-icon-bold:before {\\n  content: \\\"\\\\ea62\\\";\\n}\\n.w-e-icon-underline:before {\\n  content: \\\"\\\\ea63\\\";\\n}\\n.w-e-icon-italic:before {\\n  content: \\\"\\\\ea64\\\";\\n}\\n.w-e-icon-strikethrough:before {\\n  content: \\\"\\\\ea65\\\";\\n}\\n.w-e-icon-table2:before {\\n  content: \\\"\\\\ea71\\\";\\n}\\n.w-e-icon-paragraph-left:before {\\n  content: \\\"\\\\ea77\\\";\\n}\\n.w-e-icon-paragraph-center:before {\\n  content: \\\"\\\\ea78\\\";\\n}\\n.w-e-icon-paragraph-right:before {\\n  content: \\\"\\\\ea79\\\";\\n}\\n.w-e-icon-paragraph-justify:before {\\n  content: \\\"\\\\ea7a\\\";\\n}\\n.w-e-icon-terminal:before {\\n  content: \\\"\\\\f120\\\";\\n}\\n.w-e-icon-page-break:before {\\n  content: \\\"\\\\ea68\\\";\\n}\\n.w-e-icon-cancel-circle:before {\\n  content: \\\"\\\\ea0d\\\";\\n}\\n.w-e-icon-font:before {\\n  content: \\\"\\\\ea5c\\\";\\n}\\n.w-e-icon-text-heigh:before {\\n  content: \\\"\\\\ea5f\\\";\\n}\\n.w-e-icon-paint-format:before {\\n  content: \\\"\\\\e90c\\\";\\n}\\n.w-e-icon-indent-increase:before {\\n  content: \\\"\\\\ea7b\\\";\\n}\\n.w-e-icon-indent-decrease:before {\\n  content: \\\"\\\\ea7c\\\";\\n}\\n.w-e-icon-row-height:before {\\n  content: \\\"\\\\e9be\\\";\\n}\\n.w-e-icon-fullscreen_exit:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n.w-e-icon-fullscreen:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n.w-e-icon-split-line:before {\\n  content: \\\"\\\\ea0b\\\";\\n}\\n.w-e-icon-checkbox-checked:before {\\n  content: \\\"\\\\ea52\\\";\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","export default \"data:font/woff;base64,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\"","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./menus.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-toolbar {\\n  display: flex;\\n  padding: 0 6px;\\n  flex-wrap: wrap;\\n  position: relative;\\n  /* 单个菜单 */\\n}\\n.w-e-toolbar .w-e-menu {\\n  position: relative;\\n  display: flex;\\n  width: 40px;\\n  height: 40px;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n  cursor: pointer;\\n}\\n.w-e-toolbar .w-e-menu i {\\n  color: #999;\\n}\\n.w-e-toolbar .w-e-menu:hover {\\n  background-color: #F6F6F6;\\n}\\n.w-e-toolbar .w-e-menu:hover i {\\n  color: #333;\\n}\\n.w-e-toolbar .w-e-active i {\\n  color: #1e88e5;\\n}\\n.w-e-toolbar .w-e-active:hover i {\\n  color: #1e88e5;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./text.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-text-container {\\n  position: relative;\\n}\\n.w-e-text-container .w-e-progress {\\n  position: absolute;\\n  background-color: #1e88e5;\\n  top: 0;\\n  left: 0;\\n  height: 1px;\\n}\\n.w-e-text-container .placeholder {\\n  color: #D4D4D4;\\n  position: absolute;\\n  font-size: 11pt;\\n  line-height: 22px;\\n  left: 10px;\\n  top: 10px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  z-index: -1;\\n}\\n.w-e-text {\\n  padding: 0 10px;\\n  overflow-y: auto;\\n}\\n.w-e-text p,\\n.w-e-text h1,\\n.w-e-text h2,\\n.w-e-text h3,\\n.w-e-text h4,\\n.w-e-text h5,\\n.w-e-text table,\\n.w-e-text pre {\\n  margin: 10px 0;\\n  line-height: 1.5;\\n}\\n.w-e-text ul,\\n.w-e-text ol {\\n  margin: 10px 0 10px 20px;\\n}\\n.w-e-text blockquote {\\n  display: block;\\n  border-left: 8px solid #d0e5f2;\\n  padding: 5px 10px;\\n  margin: 10px 0;\\n  line-height: 1.4;\\n  font-size: 100%;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text code {\\n  display: inline-block;\\n  background-color: #f1f1f1;\\n  border-radius: 3px;\\n  padding: 3px 5px;\\n  margin: 0 3px;\\n}\\n.w-e-text pre code {\\n  display: block;\\n}\\n.w-e-text table {\\n  border-top: 1px solid #ccc;\\n  border-left: 1px solid #ccc;\\n}\\n.w-e-text table td,\\n.w-e-text table th {\\n  border-bottom: 1px solid #ccc;\\n  border-right: 1px solid #ccc;\\n  padding: 3px 5px;\\n  min-height: 30px;\\n}\\n.w-e-text table th {\\n  border-bottom: 2px solid #ccc;\\n  text-align: center;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text:focus {\\n  outline: none;\\n}\\n.w-e-text img {\\n  cursor: pointer;\\n}\\n.w-e-text img:hover {\\n  box-shadow: 0 0 5px #333;\\n}\\n.w-e-tooltip {\\n  display: flex;\\n  color: #f1f1f1;\\n  background-color: rgba(0, 0, 0, 0.75);\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\\n  border-radius: 4px;\\n  padding: 4px 5px 6px;\\n  position: absolute;\\n}\\n.w-e-tooltip-up::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-top-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-down::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-item-wrapper {\\n  cursor: pointer;\\n  font-size: 14px;\\n  margin: 0 5px;\\n}\\n.w-e-tooltip-item-wrapper:hover {\\n  color: #ccc;\\n  text-decoration: underline;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./panel.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-menu .w-e-panel-container {\\n  position: absolute;\\n  top: 0;\\n  left: 50%;\\n  border: 1px solid #ccc;\\n  border-top: 0;\\n  box-shadow: 1px 1px 2px #ccc;\\n  color: #333;\\n  background-color: #fff;\\n  text-align: left;\\n  /* 为 emotion panel 定制的样式 */\\n  /* 上传图片的 panel 定制样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  padding: 5px;\\n  margin: 2px 5px 0 0;\\n  cursor: pointer;\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close:hover {\\n  color: #333;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title {\\n  list-style: none;\\n  display: flex;\\n  font-size: 14px;\\n  margin: 2px 10px 0 10px;\\n  border-bottom: 1px solid #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {\\n  padding: 3px 5px;\\n  color: #999;\\n  cursor: pointer;\\n  margin: 0 3px;\\n  position: relative;\\n  top: 1px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {\\n  color: #333;\\n  border-bottom: 1px solid #333;\\n  cursor: default;\\n  font-weight: 700;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content {\\n  padding: 10px 15px 10px 15px;\\n  font-size: 16px;\\n  /* 输入框的样式 */\\n  /* 按钮的样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {\\n  outline: none;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  padding: 5px;\\n  margin-top: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {\\n  border-color: #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {\\n  border: none;\\n  border-bottom: 1px solid #ccc;\\n  font-size: 14px;\\n  height: 20px;\\n  color: #333;\\n  text-align: left;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {\\n  width: 30px;\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {\\n  display: block;\\n  width: 100%;\\n  margin: 10px 0;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {\\n  border-bottom: 2px solid #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {\\n  font-size: 14px;\\n  color: #1e88e5;\\n  border: none;\\n  padding: 5px 10px;\\n  background-color: #fff;\\n  cursor: pointer;\\n  border-radius: 3px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {\\n  float: left;\\n  margin-right: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {\\n  float: right;\\n  margin-left: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {\\n  color: #c24f4a;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {\\n  cursor: pointer;\\n  font-size: 18px;\\n  padding: 0 3px;\\n  display: inline-block;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container {\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn {\\n  display: inline-block;\\n  color: #999;\\n  cursor: pointer;\\n  font-size: 60px;\\n  line-height: 1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {\\n  color: #333;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./droplist.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-toolbar .w-e-droplist {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #fff;\\n  border: 1px solid #f1f1f1;\\n  border-right-color: #ccc;\\n  border-bottom-color: #ccc;\\n}\\n.w-e-toolbar .w-e-droplist .w-e-dp-title {\\n  text-align: center;\\n  color: #999;\\n  line-height: 2;\\n  border-bottom: 1px solid #f1f1f1;\\n  font-size: 13px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list {\\n  list-style: none;\\n  line-height: 1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {\\n  color: #333;\\n  padding: 5px 0;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block {\\n  list-style: none;\\n  text-align: left;\\n  padding: 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {\\n  display: inline-block;\\n  padding: 3px 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n/**\n * @description polyfill 【注意，js 语法的兼容，都通过 babel transform runtime 支持】\n * @author wangfupeng\n */\nif (!Element.prototype.matches) {\n    Element.prototype.matches = function (s) {\n        var matches = this.ownerDocument.querySelectorAll(s);\n        var i = matches.length;\n        for (i; i >= 0; i--) {\n            if (matches.item(i) === this)\n                break;\n        }\n        return i > -1;\n    };\n}\n// 有的第三方库需要原生 Promise ，而 IE11 又没有原生 Promise ，就报错\nwindow.Promise = Promise;\n","module.exports = require(\"core-js-pure/stable/promise\");","var parent = require('../../es/promise');\n\nmodule.exports = parent;\n","require('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nrequire('../../modules/es.promise');\nrequire('../../modules/es.promise.all-settled');\nrequire('../../modules/es.promise.finally');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Promise;\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://github.com/tc39/proposal-promise-allSettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (e) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: e };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","\"use strict\";\n/**\n * @description 编辑器 class\n * @author wangfupeng\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../utils/dom-core\"));\nvar util_1 = require(\"../utils/util\");\nvar config_1 = __importDefault(require(\"../config\"));\nvar selection_1 = __importDefault(require(\"./selection\"));\nvar command_1 = __importDefault(require(\"./command\"));\nvar index_1 = __importDefault(require(\"../text/index\"));\nvar index_2 = __importDefault(require(\"../menus/index\"));\nvar init_dom_1 = __importDefault(require(\"./init-fns/init-dom\"));\nvar init_selection_1 = __importDefault(require(\"./init-fns/init-selection\"));\nvar bind_event_1 = __importDefault(require(\"./init-fns/bind-event\"));\nvar i18next_init_1 = __importDefault(require(\"./init-fns/i18next-init\"));\nvar set_full_screen_1 = __importStar(require(\"./init-fns/set-full-screen\"));\nvar z_index_1 = __importDefault(require(\"./z-index\"));\nvar index_3 = __importDefault(require(\"./change/index\"));\nvar index_4 = __importDefault(require(\"./history/index\"));\nvar disable_1 = __importDefault(require(\"./disable\"));\n// 创建菜单的 class\nvar BtnMenu_1 = __importDefault(require(\"../menus/menu-constructors/BtnMenu\"));\nvar DropList_1 = __importDefault(require(\"../menus/menu-constructors/DropList\"));\nvar DropListMenu_1 = __importDefault(require(\"../menus/menu-constructors/DropListMenu\"));\nvar Panel_1 = __importDefault(require(\"../menus/menu-constructors/Panel\"));\nvar PanelMenu_1 = __importDefault(require(\"../menus/menu-constructors/PanelMenu\"));\nvar Tooltip_1 = __importDefault(require(\"../menus/menu-constructors/Tooltip\"));\nvar EDITOR_ID = 1;\nvar Editor = /** @class */ (function () {\n    /**\n     * 构造函数\n     * @param toolbarSelector 工具栏 DOM selector\n     * @param textSelector 文本区域 DOM selector\n     */\n    function Editor(toolbarSelector, textSelector) {\n        // 实例销毁前需要执行的钩子集合\n        this.beforeDestroyHooks = [];\n        // id，用以区分单个页面不同的编辑器对象\n        this.id = \"wangEditor-\" + EDITOR_ID++;\n        this.toolbarSelector = toolbarSelector;\n        this.textSelector = textSelector;\n        if (toolbarSelector == null) {\n            throw new Error('错误：初始化编辑器时候未传入任何参数，请查阅文档');\n        }\n        // 属性的默认值，后面可能会再修改\n        // 默认配置 - 当一个页面有多个编辑器的时候，因为 JS 的特性(引用类型)会导致多个编辑器的 config 引用是同一个，所以需要 深度克隆 断掉引用\n        this.config = util_1.deepClone(config_1.default);\n        this.$toolbarElem = dom_core_1.default('<div></div>');\n        this.$textContainerElem = dom_core_1.default('<div></div>');\n        this.$textElem = dom_core_1.default('<div></div>');\n        this.toolbarElemId = '';\n        this.textElemId = '';\n        this.isFocus = false;\n        this.isComposing = false;\n        this.isCompatibleMode = false;\n        this.selection = new selection_1.default(this);\n        this.cmd = new command_1.default(this);\n        this.txt = new index_1.default(this);\n        this.menus = new index_2.default(this);\n        this.zIndex = new z_index_1.default();\n        this.change = new index_3.default(this);\n        this.history = new index_4.default(this);\n    }\n    /**\n     * 初始化选区\n     * @param newLine 新建一行\n     */\n    Editor.prototype.initSelection = function (newLine) {\n        init_selection_1.default(this, newLine);\n    };\n    /**\n     * 创建编辑器实例\n     */\n    Editor.prototype.create = function () {\n        // 初始化 ZIndex\n        this.zIndex.init(this);\n        // 确定当前的历史记录模式\n        this.isCompatibleMode = this.config.compatibleMode();\n        // 标准模式下，重置延迟时间\n        if (!this.isCompatibleMode) {\n            this.config.onchangeTimeout = 30;\n        }\n        // 国际化 因为要在创建菜单前使用 所以要最先 初始化\n        i18next_init_1.default(this);\n        // 初始化 DOM\n        init_dom_1.default(this);\n        // 初始化 text\n        this.txt.init();\n        // 初始化菜单\n        this.menus.init();\n        // 初始化全屏功能\n        set_full_screen_1.default(this);\n        // 初始化选区，将光标定位到内容尾部\n        this.initSelection(true);\n        // 绑定事件\n        bind_event_1.default(this);\n        // 绑定监听的目标节点\n        this.change.observe();\n        this.history.observe();\n    };\n    /**\n     * 提供给用户添加销毁前的钩子函数\n     * @param fn 钩子函数\n     */\n    Editor.prototype.beforeDestroy = function (fn) {\n        this.beforeDestroyHooks.push(fn);\n        return this;\n    };\n    /**\n     * 销毁当前编辑器实例\n     */\n    Editor.prototype.destroy = function () {\n        var _this = this;\n        // 调用钩子函数\n        this.beforeDestroyHooks.forEach(function (fn) { return fn.call(_this); });\n        // 销毁 DOM 节点\n        this.$toolbarElem.remove();\n        this.$textContainerElem.remove();\n    };\n    /**\n     * 将编辑器设置为全屏\n     */\n    Editor.prototype.fullScreen = function () {\n        set_full_screen_1.setFullScreen(this);\n    };\n    /**\n     * 将编辑器退出全屏\n     */\n    Editor.prototype.unFullScreen = function () {\n        set_full_screen_1.setUnFullScreen(this);\n    };\n    /**\n     * 禁用api\n     */\n    Editor.prototype.disable = function () {\n        disable_1.default.disable(this);\n    };\n    /**\n     * 启用api\n     */\n    Editor.prototype.enable = function () {\n        disable_1.default.enable(this);\n    };\n    // 暴露 $\n    Editor.$ = dom_core_1.default;\n    Editor.BtnMenu = BtnMenu_1.default;\n    Editor.DropList = DropList_1.default;\n    Editor.DropListMenu = DropListMenu_1.default;\n    Editor.Panel = Panel_1.default;\n    Editor.PanelMenu = PanelMenu_1.default;\n    Editor.Tooltip = Tooltip_1.default;\n    return Editor;\n}());\nexports.default = Editor;\n","require('../../modules/web.dom-collections.iterator');\nvar forEach = require('../array/virtual/for-each');\nvar classof = require('../../internals/classof');\nvar ArrayPrototype = Array.prototype;\n\nvar DOMIterables = {\n  DOMTokenList: true,\n  NodeList: true\n};\n\nmodule.exports = function (it) {\n  var own = it.forEach;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.forEach)\n    // eslint-disable-next-line no-prototype-builtins\n    || DOMIterables.hasOwnProperty(classof(it)) ? forEach : own;\n};\n","var parent = require('../../../es/array/virtual/for-each');\n\nmodule.exports = parent;\n","require('../../../modules/es.array.for-each');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var parent = require('../../es/instance/includes');\n\nmodule.exports = parent;\n","var arrayIncludes = require('../array/virtual/includes');\nvar stringIncludes = require('../string/virtual/includes');\n\nvar ArrayPrototype = Array.prototype;\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.includes;\n  if (it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.includes)) return arrayIncludes;\n  if (typeof it === 'string' || it === StringPrototype || (it instanceof String && own === StringPrototype.includes)) {\n    return stringIncludes;\n  } return own;\n};\n","require('../../../modules/es.array.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","require('../../../modules/es.string.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","var parent = require('../../es/instance/filter');\n\nmodule.exports = parent;\n","var filter = require('../array/virtual/filter');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.filter;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.filter) ? filter : own;\n};\n","require('../../../modules/es.array.filter');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').filter;\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var parent = require('../../es/instance/splice');\n\nmodule.exports = parent;\n","var splice = require('../array/virtual/splice');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.splice;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.splice) ? splice : own;\n};\n","require('../../../modules/es.array.splice');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').splice;\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var parent = require('../../es/instance/index-of');\n\nmodule.exports = parent;\n","var indexOf = require('../array/virtual/index-of');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.indexOf;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.indexOf) ? indexOf : own;\n};\n","require('../../../modules/es.array.index-of');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').indexOf;\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var parent = require('../../es/map');\n\nmodule.exports = parent;\n","require('../../modules/es.map');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Map;\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var parent = require('../../es/instance/trim');\n\nmodule.exports = parent;\n","var trim = require('../string/virtual/trim');\n\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.trim;\n  return typeof it === 'string' || it === StringPrototype\n    || (it instanceof String && own === StringPrototype.trim) ? trim : own;\n};\n","require('../../../modules/es.string.trim');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').trim;\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var parent = require('../../es/instance/map');\n\nmodule.exports = parent;\n","var map = require('../array/virtual/map');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.map;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.map) ? map : own;\n};\n","require('../../../modules/es.array.map');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').map;\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var parent = require('../../es/array/is-array');\n\nmodule.exports = parent;\n","require('../../modules/es.array.is-array');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Array.isArray;\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.github.io/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","module.exports = require(\"core-js-pure/features/symbol/iterator\");","var parent = require('../../es/symbol/iterator');\n\nmodule.exports = parent;\n","require('../../modules/es.symbol.iterator');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar WrappedWellKnownSymbolModule = require('../../internals/well-known-symbol-wrapped');\n\nmodule.exports = WrappedWellKnownSymbolModule.f('iterator');\n","module.exports = require(\"core-js-pure/features/symbol\");","var parent = require('../../es/symbol');\nrequire('../../modules/esnext.symbol.async-dispose');\nrequire('../../modules/esnext.symbol.dispose');\nrequire('../../modules/esnext.symbol.observable');\nrequire('../../modules/esnext.symbol.pattern-match');\n// TODO: Remove from `core-js@4`\nrequire('../../modules/esnext.symbol.replace-all');\n\nmodule.exports = parent;\n","require('../../modules/es.array.concat');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.symbol');\nrequire('../../modules/es.symbol.async-iterator');\nrequire('../../modules/es.symbol.description');\nrequire('../../modules/es.symbol.has-instance');\nrequire('../../modules/es.symbol.is-concat-spreadable');\nrequire('../../modules/es.symbol.iterator');\nrequire('../../modules/es.symbol.match');\nrequire('../../modules/es.symbol.match-all');\nrequire('../../modules/es.symbol.replace');\nrequire('../../modules/es.symbol.search');\nrequire('../../modules/es.symbol.species');\nrequire('../../modules/es.symbol.split');\nrequire('../../modules/es.symbol.to-primitive');\nrequire('../../modules/es.symbol.to-string-tag');\nrequire('../../modules/es.symbol.unscopables');\nrequire('../../modules/es.math.to-string-tag');\nrequire('../../modules/es.json.to-string-tag');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Symbol;\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","// empty\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.hasInstance` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.hasinstance\ndefineWellKnownSymbol('hasInstance');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.isConcatSpreadable` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.isconcatspreadable\ndefineWellKnownSymbol('isConcatSpreadable');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.match` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.match\ndefineWellKnownSymbol('match');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.matchAll` well-known symbol\ndefineWellKnownSymbol('matchAll');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.replace` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.replace\ndefineWellKnownSymbol('replace');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.search` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.search\ndefineWellKnownSymbol('search');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.species` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.species\ndefineWellKnownSymbol('species');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.split` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.split\ndefineWellKnownSymbol('split');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.unscopables` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.unscopables\ndefineWellKnownSymbol('unscopables');\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncDispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('asyncDispose');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.dispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('dispose');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.observable` well-known symbol\n// https://github.com/tc39/proposal-observable\ndefineWellKnownSymbol('observable');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.patternMatch` well-known symbol\n// https://github.com/tc39/proposal-pattern-matching\ndefineWellKnownSymbol('patternMatch');\n","// TODO: remove from `core-js@4`\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\ndefineWellKnownSymbol('replaceAll');\n","require('../modules/web.timers');\nvar path = require('../internals/path');\n\nmodule.exports = path.setTimeout;\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","var parent = require('../../es/instance/slice');\n\nmodule.exports = parent;\n","var slice = require('../array/virtual/slice');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.slice;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.slice) ? slice : own;\n};\n","require('../../../modules/es.array.slice');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').slice;\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","module.exports = require(\"core-js-pure/stable/parse-int\");","var parent = require('../es/parse-int');\n\nmodule.exports = parent;\n","require('../modules/es.parse-int');\nvar path = require('../internals/path');\n\nmodule.exports = path.parseInt;\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n","\"use strict\";\n/**\n * @description 编辑器配置\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar menus_1 = __importDefault(require(\"./menus\"));\nvar events_1 = __importDefault(require(\"./events\"));\nvar style_1 = __importDefault(require(\"./style\"));\nvar paste_1 = __importDefault(require(\"./paste\"));\nvar cmd_1 = __importDefault(require(\"./cmd\"));\nvar image_1 = __importDefault(require(\"./image\"));\nvar text_1 = __importDefault(require(\"./text\"));\nvar lang_1 = __importDefault(require(\"./lang\"));\nvar history_1 = __importDefault(require(\"./history\"));\n// 合并所有的配置信息\nvar defaultConfig = Object.assign({}, menus_1.default, events_1.default, style_1.default, cmd_1.default, paste_1.default, image_1.default, text_1.default, lang_1.default, history_1.default, \n//链接校验的配置函数\n{\n    linkCheck: function (text, link) {\n        return true;\n    },\n}, \n//网络图片校验的配置函数\n{\n    linkImgCheck: function (src) {\n        return true;\n    },\n});\nexports.default = defaultConfig;\n","module.exports = require(\"core-js-pure/stable/object/assign\");","var parent = require('../../es/object/assign');\n\nmodule.exports = parent;\n","require('../../modules/es.object.assign');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.assign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","\"use strict\";\n/**\n * @description 菜单配置\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SINA_PATH1 = 'http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal';\nvar SINA_PATH2 = 'http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal';\n/*表情菜单数据结构类型END*/\nexports.default = {\n    menus: [\n        'head',\n        'bold',\n        'fontSize',\n        // 'customFontSize',\n        'fontName',\n        'italic',\n        'underline',\n        'strikeThrough',\n        'indent',\n        'lineHeight',\n        'foreColor',\n        'backColor',\n        'link',\n        'list',\n        'justify',\n        'quote',\n        'emoticon',\n        'image',\n        'video',\n        'table',\n        'code',\n        'splitLine',\n        'undo',\n        'redo',\n    ],\n    fontNames: [\n        '黑体',\n        '仿宋',\n        '楷体',\n        '标楷体',\n        '华文仿宋',\n        '华文楷体',\n        '宋体',\n        '微软雅黑',\n        'Arial',\n        'Tahoma',\n        'Verdana',\n        'Times New Roman',\n        'Courier New',\n    ],\n    fontSizes: {\n        'x-small': {\n            name: '10px',\n            value: '1',\n        },\n        small: {\n            name: '13px',\n            value: '2',\n        },\n        normal: {\n            name: '16px',\n            value: '3',\n        },\n        large: {\n            name: '18px',\n            value: '4',\n        },\n        'x-large': {\n            name: '24px',\n            value: '5',\n        },\n        'xx-large': {\n            name: '32px',\n            value: '6',\n        },\n        'xxx-large': {\n            name: '48px',\n            value: '7',\n        },\n    },\n    // customFontSize: [ // 该菜单暂时不用 - 王福朋 20200924\n    //     { value: '9px', text: '9' },\n    //     { value: '10px', text: '10' },\n    //     { value: '12px', text: '12' },\n    //     { value: '14px', text: '14' },\n    //     { value: '16px', text: '16' },\n    //     { value: '20px', text: '20' },\n    //     { value: '42px', text: '42' },\n    //     { value: '72px', text: '72' },\n    // ],\n    colors: [\n        '#000000',\n        '#eeece0',\n        '#1c487f',\n        '#4d80bf',\n        '#c24f4a',\n        '#8baa4a',\n        '#7b5ba1',\n        '#46acc8',\n        '#f9963b',\n        '#ffffff',\n    ],\n    //插入代码语言配置\n    languageType: [\n        'Bash',\n        'C',\n        'C#',\n        'C++',\n        'CSS',\n        'Java',\n        'JavaScript',\n        'JSON',\n        'TypeScript',\n        'Plain text',\n        'Html',\n        'XML',\n        'SQL',\n        'Go',\n        'Kotlin',\n        'Lua',\n        'Markdown',\n        'PHP',\n        'Python',\n        'Shell Session',\n        'Ruby',\n    ],\n    languageTab: '　　　　',\n    /**\n     * 表情配置菜单\n     * 如果为emoji表情直接作为元素插入\n     * emoticon:Array<EmotionsType>\n     */\n    emotions: [\n        {\n            // tab 的标题\n            title: '默认',\n            // type -> 'emoji' / 'image'\n            type: 'image',\n            // content -> 数组\n            content: [\n                {\n                    alt: '[坏笑]',\n                    src: SINA_PATH1 + \"/50/pcmoren_huaixiao_org.png\",\n                },\n                {\n                    alt: '[舔屏]',\n                    src: SINA_PATH1 + \"/40/pcmoren_tian_org.png\",\n                },\n                {\n                    alt: '[污]',\n                    src: SINA_PATH1 + \"/3c/pcmoren_wu_org.png\",\n                },\n            ],\n        },\n        {\n            // tab 的标题\n            title: '新浪',\n            // type -> 'emoji' / 'image'\n            type: 'image',\n            // content -> 数组\n            content: [\n                {\n                    src: SINA_PATH2 + \"/7a/shenshou_thumb.gif\",\n                    alt: '[草泥马]',\n                },\n                {\n                    src: SINA_PATH2 + \"/60/horse2_thumb.gif\",\n                    alt: '[神马]',\n                },\n                {\n                    src: SINA_PATH2 + \"/bc/fuyun_thumb.gif\",\n                    alt: '[浮云]',\n                },\n            ],\n        },\n        {\n            // tab 的标题\n            title: 'emoji',\n            // type -> 'emoji' / 'image'\n            type: 'emoji',\n            // content -> 数组\n            content: '😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐'.split(/\\s/),\n        },\n        {\n            // tab 的标题\n            title: '手势',\n            // type -> 'emoji' / 'image'\n            type: 'emoji',\n            // content -> 数组\n            content: [\n                '🙌',\n                '👏',\n                '👋',\n                '👍',\n                '👎',\n                '👊',\n                '✊',\n                '️👌',\n                '✋',\n                '👐',\n                '💪',\n                '🙏',\n                '️👆',\n                '👇',\n                '👈',\n                '👉',\n                '🖕',\n                '🖐',\n                '🤘',\n            ],\n        },\n    ],\n    lineHeights: ['1', '1.15', '1.6', '2', '2.5', '3'],\n    undoLimit: 20,\n    indentation: '2em',\n};\n","\"use strict\";\n/**\n * @description 事件配置\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar const_1 = require(\"../utils/const\");\nexports.default = {\n    onchangeTimeout: 200,\n    onchange: const_1.EMPTY_FN,\n    onfocus: const_1.EMPTY_FN,\n    onblur: const_1.EMPTY_FN,\n};\n","\"use strict\";\n/**\n * @description 粘贴，配置文件\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    // 粘贴过滤样式，默认开启\n    pasteFilterStyle: true,\n    // 粘贴内容时，忽略图片。默认关闭\n    pasteIgnoreImg: false,\n    // 对粘贴的文字进行自定义处理，返回处理后的结果。编辑器会将处理后的结果粘贴到编辑区域中。\n    // IE 暂时不支持\n    pasteTextHandle: function (content) {\n        // content 即粘贴过来的内容（html 或 纯文本），可进行自定义处理然后返回\n        return content;\n    },\n};\n","\"use strict\";\n/**\n * @description 命令配置项\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    styleWithCSS: false,\n};\n","\"use strict\";\n/**\n * @description 图片相关的配置\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar const_1 = require(\"../utils/const\");\nexports.default = {\n    // 显示“插入网络图片”\n    showLinkImg: true,\n    // 插入图片成功之后的回调函数\n    linkImgCallback: const_1.EMPTY_FN,\n    // 服务端地址\n    uploadImgServer: '',\n    // 使用 base64 存储图片\n    uploadImgShowBase64: false,\n    // 上传图片的最大体积，默认 5M\n    uploadImgMaxSize: 5 * 1024 * 1024,\n    // 一次最多上传多少个图片\n    uploadImgMaxLength: 100,\n    // 自定义上传图片的名称\n    uploadFileName: '',\n    // 上传图片自定义参数\n    uploadImgParams: {},\n    // 自定义参数拼接到 url 中\n    uploadImgParamsWithUrl: false,\n    // 上传图片自定义 header\n    uploadImgHeaders: {},\n    // 钩子函数\n    uploadImgHooks: {},\n    // 上传图片超时时间 ms\n    uploadImgTimeout: 10 * 1000,\n    // 跨域带 cookie\n    withCredentials: false,\n    // 自定义上传\n    customUploadImg: null,\n};\n","\"use strict\";\n/**\n * @description 默认常量配置\n * @author xiaokyo\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    focus: true,\n    height: 300,\n    placeholder: '请输入正文',\n    zIndexFullScreen: 10000,\n    showFullScreen: true,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    lang: 'zh-CN',\n    languages: {\n        'zh-CN': {\n            wangEditor: {\n                插入: '插入',\n                默认: '默认',\n                创建: '创建',\n                修改: '修改',\n                如: '如',\n                请输入正文: '请输入正文',\n                menus: {\n                    dropListMenu: {\n                        设置标题: '设置标题',\n                        背景颜色: '背景颜色',\n                        文字颜色: '文字颜色',\n                        设置字号: '设置字号',\n                        设置字体: '设置字体',\n                        设置缩进: '设置缩进',\n                        对齐方式: '对齐方式',\n                        设置行高: '设置行高',\n                        序列: '序列',\n                        head: {\n                            正文: '正文',\n                        },\n                        indent: {\n                            增加缩进: '增加缩进',\n                            减少缩进: '减少缩进',\n                        },\n                        justify: {\n                            靠左: '靠左',\n                            居中: '居中',\n                            靠右: '靠右',\n                            两端: '两端',\n                        },\n                        list: {\n                            无序列表: '无序列表',\n                            有序列表: '有序列表',\n                        },\n                    },\n                    panelMenus: {\n                        emoticon: {\n                            默认: '默认',\n                            新浪: '新浪',\n                            emoji: 'emoji',\n                            手势: '手势',\n                        },\n                        image: {\n                            图片链接: '图片链接',\n                            上传图片: '上传图片',\n                            网络图片: '网络图片',\n                        },\n                        link: {\n                            链接: '链接',\n                            链接文字: '链接文字',\n                            取消链接: '取消链接',\n                            查看链接: '查看链接',\n                        },\n                        video: {\n                            插入视频: '插入视频',\n                        },\n                        table: {\n                            行: '行',\n                            列: '列',\n                            的: '的',\n                            表格: '表格',\n                            添加行: '添加行',\n                            删除行: '删除行',\n                            添加列: '添加列',\n                            删除列: '删除列',\n                            设置表头: '设置表头',\n                            取消表头: '取消表头',\n                            插入表格: '插入表格',\n                            删除表格: '删除表格',\n                        },\n                        code: {\n                            删除代码: '删除代码',\n                            修改代码: '修改代码',\n                            插入代码: '插入代码',\n                        },\n                    },\n                },\n                validate: {\n                    张图片: '张图片',\n                    大于: '大于',\n                    图片链接: '图片链接',\n                    不是图片: '不是图片',\n                    返回结果: '返回结果',\n                    上传图片超时: '上传图片超时',\n                    上传图片错误: '上传图片错误',\n                    上传图片失败: '上传图片失败',\n                    插入图片错误: '插入图片错误',\n                    一次最多上传: '一次最多上传',\n                    下载链接失败: '下载链接失败',\n                    图片验证未通过: '图片验证未通过',\n                    服务器返回状态: '服务器返回状态',\n                    上传图片返回结果错误: '上传图片返回结果错误',\n                    请替换为支持的图片类型: '请替换为支持的图片类型',\n                    您插入的网络图片无法识别: '您插入的网络图片无法识别',\n                    您刚才插入的图片链接未通过编辑器校验: '您刚才插入的图片链接未通过编辑器校验',\n                },\n            },\n        },\n        en: {\n            wangEditor: {\n                插入: 'insert',\n                默认: 'default',\n                创建: 'create',\n                修改: 'edit',\n                如: 'like',\n                请输入正文: 'please enter the text',\n                menus: {\n                    dropListMenu: {\n                        设置标题: 'title',\n                        背景颜色: 'background',\n                        文字颜色: 'font color',\n                        设置字号: 'font size',\n                        设置字体: 'font family',\n                        设置缩进: 'indent',\n                        对齐方式: 'align',\n                        设置行高: 'line heihgt',\n                        序列: 'list',\n                        head: {\n                            正文: 'text',\n                        },\n                        indent: {\n                            增加缩进: 'indent',\n                            减少缩进: 'outdent',\n                        },\n                        justify: {\n                            靠左: 'left',\n                            居中: 'center',\n                            靠右: 'right',\n                            两端: 'justify',\n                        },\n                        list: {\n                            无序列表: 'unordered',\n                            有序列表: 'ordered',\n                        },\n                    },\n                    panelMenus: {\n                        emoticon: {\n                            默认: 'default',\n                            新浪: 'sina',\n                            emoji: 'emoji',\n                            手势: 'gesture',\n                        },\n                        image: {\n                            图片链接: 'image link',\n                            上传图片: 'upload image',\n                            网络图片: 'network image',\n                        },\n                        link: {\n                            链接: 'link',\n                            链接文字: 'link text',\n                            取消链接: 'unlink',\n                            查看链接: 'view links',\n                        },\n                        video: {\n                            插入视频: 'insert video',\n                        },\n                        table: {\n                            行: 'rows',\n                            列: 'columns',\n                            的: ' ',\n                            表格: 'table',\n                            添加行: 'insert row',\n                            删除行: 'delete row',\n                            添加列: 'insert column',\n                            删除列: 'delete column',\n                            设置表头: 'set header',\n                            取消表头: 'cancel header',\n                            插入表格: 'insert table',\n                            删除表格: 'delete table',\n                        },\n                        code: {\n                            删除代码: 'delete code',\n                            修改代码: 'edit code',\n                            插入代码: 'insert code',\n                        },\n                    },\n                },\n                validate: {\n                    张图片: 'images',\n                    大于: 'greater than',\n                    图片链接: 'image link',\n                    不是图片: 'is not image',\n                    返回结果: 'return results',\n                    上传图片超时: 'upload image timeout',\n                    上传图片错误: 'upload image error',\n                    上传图片失败: 'upload image failed',\n                    插入图片错误: 'insert image error',\n                    一次最多上传: 'once most at upload',\n                    下载链接失败: 'download link failed',\n                    图片验证未通过: 'image validate failed',\n                    服务器返回状态: 'server return status',\n                    上传图片返回结果错误: 'upload image return results error',\n                    请替换为支持的图片类型: 'please replace with a supported image type',\n                    您插入的网络图片无法识别: 'the network picture you inserted is not recognized',\n                    您刚才插入的图片链接未通过编辑器校验: 'the image link you just inserted did not pass the editor verification',\n                },\n            },\n        },\n    },\n};\n","\"use strict\";\n/**\n * @description 历史记录 - 数据缓存的模式\n * @author fangzhicong\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../utils/util\");\n/**\n * 是否为兼容模式。返回 true 表示当前使用兼容（内容备份）模式，否则使用标准（差异备份）模式\n */\nfunction compatibleMode() {\n    if (util_1.UA.isIE() || util_1.UA.isOldEdge) {\n        return true;\n    }\n    return false;\n}\nexports.default = {\n    compatibleMode: compatibleMode,\n    historyMaxSize: 30,\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @description selection range API\n * @author wangfupeng\n */\nvar dom_core_1 = __importDefault(require(\"../utils/dom-core\"));\nvar util_1 = require(\"../utils/util\");\nvar index_1 = __importDefault(require(\"./selection-range-top-nodes/index\"));\nvar SelectionAndRange = /** @class */ (function () {\n    function SelectionAndRange(editor) {\n        this.editor = editor;\n        this._currentRange = null;\n    }\n    /**\n     * 获取当前 range\n     */\n    SelectionAndRange.prototype.getRange = function () {\n        return this._currentRange;\n    };\n    /**\n     * 保存选区范围\n     * @param _range 选区范围\n     */\n    SelectionAndRange.prototype.saveRange = function (_range) {\n        if (_range) {\n            // 保存已有选区\n            this._currentRange = _range;\n            return;\n        }\n        // 获取当前的选区\n        var selection = window.getSelection();\n        if (selection.rangeCount === 0) {\n            return;\n        }\n        var range = selection.getRangeAt(0);\n        // 获取选区范围的 DOM 元素\n        var $containerElem = this.getSelectionContainerElem(range);\n        if (!$containerElem) {\n            // 当 选区范围内没有 DOM元素 则抛出\n            return;\n        }\n        if ($containerElem.attr('contenteditable') === 'false' ||\n            $containerElem.parentUntil('[contenteditable=false]')) {\n            // 这里大体意义上就是个保险\n            // 确保 编辑区域 的 contenteditable属性 的值为 true\n            return;\n        }\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        if ($textElem.isContain($containerElem)) {\n            // 是编辑内容之内的\n            this._currentRange = range;\n        }\n    };\n    /**\n     * 折叠选区范围\n     * @param toStart true 开始位置，false 结束位置\n     */\n    SelectionAndRange.prototype.collapseRange = function (toStart) {\n        if (toStart === void 0) { toStart = false; }\n        var range = this._currentRange;\n        if (range) {\n            range.collapse(toStart);\n        }\n    };\n    /**\n     * 获取选区范围内的文字\n     */\n    SelectionAndRange.prototype.getSelectionText = function () {\n        var range = this._currentRange;\n        if (range) {\n            return range.toString();\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * 获取选区范围的 DOM 元素\n     * @param range 选区范围\n     */\n    SelectionAndRange.prototype.getSelectionContainerElem = function (range) {\n        var r;\n        r = range || this._currentRange;\n        var elem;\n        if (r) {\n            elem = r.commonAncestorContainer;\n            return dom_core_1.default(elem.nodeType === 1 ? elem : elem.parentNode);\n        }\n    };\n    /**\n     * 选区范围开始的 DOM 元素\n     * @param range 选区范围\n     */\n    SelectionAndRange.prototype.getSelectionStartElem = function (range) {\n        var r;\n        r = range || this._currentRange;\n        var elem;\n        if (r) {\n            elem = r.startContainer;\n            return dom_core_1.default(elem.nodeType === 1 ? elem : elem.parentNode);\n        }\n    };\n    /**\n     * 选区范围结束的 DOM 元素\n     * @param range 选区范围\n     */\n    SelectionAndRange.prototype.getSelectionEndElem = function (range) {\n        var r;\n        r = range || this._currentRange;\n        var elem;\n        if (r) {\n            elem = r.endContainer;\n            return dom_core_1.default(elem.nodeType === 1 ? elem : elem.parentNode);\n        }\n    };\n    /**\n     * 选区是否为空（没有选择文字）\n     */\n    SelectionAndRange.prototype.isSelectionEmpty = function () {\n        var range = this._currentRange;\n        if (range && range.startContainer) {\n            if (range.startContainer === range.endContainer) {\n                if (range.startOffset === range.endOffset) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * 恢复选区范围\n     */\n    SelectionAndRange.prototype.restoreSelection = function () {\n        var selection = window.getSelection();\n        var r = this._currentRange;\n        if (selection && r) {\n            selection.removeAllRanges();\n            selection.addRange(r);\n        }\n    };\n    /**\n     * 创建一个空白（即 &#8203 字符）选区\n     */\n    SelectionAndRange.prototype.createEmptyRange = function () {\n        var editor = this.editor;\n        var range = this.getRange();\n        var $elem;\n        if (!range) {\n            // 当前无 range\n            return;\n        }\n        if (!this.isSelectionEmpty()) {\n            // 当前选区必须没有内容才可以，有内容就直接 return\n            return;\n        }\n        try {\n            // 目前只支持 webkit 内核\n            if (util_1.UA.isWebkit()) {\n                // 插入 &#8203\n                editor.cmd.do('insertHTML', '&#8203;');\n                // 修改 offset 位置\n                range.setEnd(range.endContainer, range.endOffset + 1);\n                // 存储\n                this.saveRange(range);\n            }\n            else {\n                $elem = dom_core_1.default('<strong>&#8203;</strong>');\n                editor.cmd.do('insertElem', $elem);\n                this.createRangeByElem($elem, true);\n            }\n        }\n        catch (ex) {\n            // 部分情况下会报错，兼容一下\n        }\n    };\n    /**\n     * 根据 DOM 元素设置选区\n     * @param $elem DOM 元素\n     * @param toStart true 开始位置，false 结束位置\n     * @param isContent 是否选中 $elem 的内容\n     */\n    SelectionAndRange.prototype.createRangeByElem = function ($elem, toStart, isContent) {\n        if (!$elem.length) {\n            return;\n        }\n        var elem = $elem.elems[0];\n        var range = document.createRange();\n        if (isContent) {\n            range.selectNodeContents(elem);\n        }\n        else {\n            // 如果用户没有传入 isContent 参数，那就默认为 false\n            range.selectNode(elem);\n        }\n        if (toStart != null) {\n            // 传入了 toStart 参数，折叠选区。如果没传入 toStart 参数，则忽略这一步\n            range.collapse(toStart);\n        }\n        // 存储 range\n        this.saveRange(range);\n    };\n    /**\n     * 获取 当前 选取范围的 顶级(段落) 元素\n     * @param $editor\n     */\n    SelectionAndRange.prototype.getSelectionRangeTopNodes = function (editor) {\n        var item = new index_1.default(editor);\n        item.init();\n        return item.getSelectionNodes();\n    };\n    /**\n     * 移动光标位置\n     * @param {Node} node 元素节点\n     */\n    SelectionAndRange.prototype.moveCursor = function (node) {\n        var range = this.getRange();\n        var pos = node.childNodes.length;\n        if (!range) {\n            return;\n        }\n        if (node) {\n            range.setStart(node, pos);\n            range.setEnd(node, pos);\n            this.restoreSelection();\n        }\n    };\n    return SelectionAndRange;\n}());\nexports.default = SelectionAndRange;\n","\"use strict\";\n/**\n * @description 选取范围所有顶级(段落)节点\n * @author tonghan\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\n// 构造函数\nvar SelectionRangeTopNodes = /** @class */ (function () {\n    /**\n     * 构造函数\n     * @param editor\n     */\n    function SelectionRangeTopNodes(editor) {\n        // 初始化属性\n        this.editor = editor;\n        this.$nodeList = [];\n        this.$startElem = dom_core_1.default(editor.selection.getSelectionStartElem()).getNodeTop(this.editor);\n        this.$endElem = dom_core_1.default(editor.selection.getSelectionEndElem()).getNodeTop(this.editor);\n    }\n    /**\n     * 初始化\n     */\n    SelectionRangeTopNodes.prototype.init = function () {\n        this.recordSelectionNodes(dom_core_1.default(this.$startElem));\n    };\n    /**\n     * 添加 节点 到nodeList\n     * @param $node 节点\n     */\n    SelectionRangeTopNodes.prototype.addNodeList = function ($node) {\n        this.$nodeList.push(dom_core_1.default($node));\n    };\n    /**\n     * 是否是 选区结束 节点\n     * @param $node 节点\n     */\n    SelectionRangeTopNodes.prototype.isEndElem = function ($node) {\n        var _a;\n        return (_a = this.$endElem) === null || _a === void 0 ? void 0 : _a.equal($node);\n    };\n    /**\n     * 获取当前节点的下一个兄弟节点\n     * @param $node 节点\n     */\n    SelectionRangeTopNodes.prototype.getNextSibling = function ($node) {\n        return dom_core_1.default($node.elems[0].nextSibling);\n    };\n    /**\n     * 记录节点 - 从选区开始节点开始 一直到匹配到选区结束节点为止\n     * @param $node 节点\n     */\n    SelectionRangeTopNodes.prototype.recordSelectionNodes = function ($node) {\n        var $elem = $node.getNodeTop(this.editor);\n        if ($elem.length > 0) {\n            this.addNodeList($elem);\n            if (!this.isEndElem($elem)) {\n                this.recordSelectionNodes(this.getNextSibling($elem));\n            }\n        }\n    };\n    /**\n     * 获取 选中节点列表\n     */\n    SelectionRangeTopNodes.prototype.getSelectionNodes = function () {\n        return this.$nodeList;\n    };\n    return SelectionRangeTopNodes;\n}());\n/**\n * 导出\n */\nexports.default = SelectionRangeTopNodes;\n","\"use strict\";\n/**\n * @description 封装 document.execCommand\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../utils/dom-core\"));\nvar Command = /** @class */ (function () {\n    function Command(editor) {\n        this.editor = editor;\n    }\n    Command.prototype.do = function (name, value) {\n        var editor = this.editor;\n        if (editor.config.styleWithCSS) {\n            document.execCommand('styleWithCSS', false, 'true');\n        }\n        var selection = editor.selection;\n        // 如果无选区，忽略\n        if (!selection.getRange()) {\n            return;\n        }\n        // 恢复选取\n        selection.restoreSelection();\n        // 执行\n        switch (name) {\n            case 'insertHTML':\n                this.insertHTML(value);\n                break;\n            case 'insertElem':\n                this.insertElem(value);\n                break;\n            default:\n                // 默认 command\n                this.execCommand(name, value);\n                break;\n        }\n        // 修改菜单状态\n        editor.menus.changeActive();\n        // 最后，恢复选取保证光标在原来的位置闪烁\n        selection.saveRange();\n        selection.restoreSelection();\n    };\n    /**\n     * 插入 html\n     * @param html html 字符串\n     */\n    Command.prototype.insertHTML = function (html) {\n        var editor = this.editor;\n        var range = editor.selection.getRange();\n        if (range == null)\n            return;\n        if (this.queryCommandSupported('insertHTML')) {\n            // W3C\n            this.execCommand('insertHTML', html);\n        }\n        else if (range.insertNode) {\n            // IE\n            range.deleteContents();\n            range.insertNode(dom_core_1.default(html).elems[0]);\n            editor.selection.collapseRange();\n        }\n        // else if (range.pasteHTML) {\n        //     // IE <= 10\n        //     range.pasteHTML(html)\n        // }\n    };\n    /**\n     * 插入 DOM 元素\n     * @param $elem DOM 元素\n     */\n    Command.prototype.insertElem = function ($elem) {\n        var editor = this.editor;\n        var range = editor.selection.getRange();\n        if (range == null)\n            return;\n        if (range.insertNode) {\n            range.deleteContents();\n            range.insertNode($elem.elems[0]);\n        }\n    };\n    /**\n     * 执行 document.execCommand\n     * @param name name\n     * @param value value\n     */\n    Command.prototype.execCommand = function (name, value) {\n        document.execCommand(name, false, value);\n    };\n    /**\n     * 执行 document.queryCommandValue\n     * @param name name\n     */\n    Command.prototype.queryCommandValue = function (name) {\n        return document.queryCommandValue(name);\n    };\n    /**\n     * 执行 document.queryCommandState\n     * @param name name\n     */\n    Command.prototype.queryCommandState = function (name) {\n        return document.queryCommandState(name);\n    };\n    /**\n     * 执行 document.queryCommandSupported\n     * @param name name\n     */\n    Command.prototype.queryCommandSupported = function (name) {\n        return document.queryCommandSupported(name);\n    };\n    return Command;\n}());\nexports.default = Command;\n","\"use strict\";\n/**\n * @description 编辑区域，入口文件\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../utils/dom-core\"));\nvar index_1 = __importDefault(require(\"./event-hooks/index\"));\nvar util_1 = require(\"../utils/util\");\nvar getChildrenJSON_1 = __importDefault(require(\"./getChildrenJSON\"));\nvar Text = /** @class */ (function () {\n    function Text(editor) {\n        this.editor = editor;\n        this.eventHooks = {\n            changeEvents: [],\n            dropEvents: [],\n            clickEvents: [],\n            keyupEvents: [],\n            tabUpEvents: [],\n            tabDownEvents: [],\n            enterUpEvents: [],\n            enterDownEvents: [],\n            deleteUpEvents: [],\n            deleteDownEvents: [],\n            pasteEvents: [],\n            linkClickEvents: [],\n            codeClickEvents: [],\n            textScrollEvents: [],\n            toolbarClickEvents: [],\n            imgClickEvents: [],\n            imgDragBarMouseDownEvents: [],\n            tableClickEvents: [],\n            menuClickEvents: [],\n            dropListMenuHoverEvents: [],\n            splitLineEvents: [],\n        };\n    }\n    /**\n     * 初始化\n     */\n    Text.prototype.init = function () {\n        // 实时保存选取范围\n        this._saveRange();\n        // 绑定事件\n        this._bindEventHooks();\n        // 初始化 text 事件钩子函数\n        index_1.default(this);\n    };\n    /**\n     * 切换placeholder\n     */\n    Text.prototype.togglePlaceholder = function () {\n        var html = this.html();\n        var $placeholder = this.editor.$textContainerElem.find('.placeholder');\n        $placeholder.hide();\n        if (!html || html === '<p><br></p>' || html === ' ')\n            $placeholder.show();\n    };\n    /**\n     * 清空内容\n     */\n    Text.prototype.clear = function () {\n        this.html('<p><br></p>');\n    };\n    /**\n     * 设置/获取 html\n     * @param val html 字符串\n     */\n    Text.prototype.html = function (val) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        // 没有 val ，则是获取 html\n        if (val == null) {\n            var html = $textElem.html();\n            // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n            html = html.replace(/\\u200b/gm, '');\n            html = html.replace(/<p><\\/p>/gim, ''); // 去掉空行\n            html = html.replace(/<p><br\\/?><\\/p>$/gim, ''); // 去掉最后的 <p><br><p>\n            /**\n             * 这里的代码为了处理火狐多余的空行标签,但是强制删除空行标签会带来其他问题\n             * html()方法返回的的值,\"<p><br></p>\"中pr会被删除,只留下<p>,点不进去,从而产生垃圾数据\n             * 目前在末位有多个空行的情况下执行撤销重做操作,会产生一种不记录末尾空行的错觉\n             * 暂时注释, 等待进一步的兼容处理\n             */\n            // html = html.replace(/><br>(?!<)/gi, '>') // 过滤 <p><br>内容</p> 中的br\n            // html = html.replace(/(?!>)<br></gi, '<') // 过滤 <p>内容<br></p> 中的br\n            /**\n             * pre标签格式化\n             * html()方法理论上应当输出纯净的代码文本,但是对于是否解析html标签还没有良好的判断\n             * 如果去除hljs的标签,在解析状态下回显,会造成显示错误并且无法再通过hljs方法渲染\n             * 暂且其弃用\n             */\n            // html = formatCodeHtml(editor, html)\n            return html;\n        }\n        // 有 val ，则是设置 html\n        val = val.trim();\n        if (val === '') {\n            val = \"<p><br></p>\";\n        }\n        if (val.indexOf('<') !== 0) {\n            // 内容用 p 标签包裹\n            val = \"<p>\" + val + \"</p>\";\n        }\n        $textElem.html(val);\n        // 初始化选区，将光标定位到内容尾部\n        editor.initSelection();\n    };\n    /**\n     * 获取 json 格式的数据\n     */\n    Text.prototype.getJSON = function () {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        return getChildrenJSON_1.default($textElem);\n    };\n    /**\n     * 获取/设置 字符串内容\n     * @param val text 字符串\n     */\n    Text.prototype.text = function (val) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        var $textContainerElem = editor.$textContainerElem;\n        // 没有 val ，是获取 text\n        if (val == null) {\n            var text = $textElem.text();\n            // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n            text = text.replace(/\\u200b/gm, '');\n            return text;\n        }\n        // 有 val ，则是设置 text\n        $textElem.text(\"<p>\" + val + \"</p>\");\n        // 初始化选区，将光标定位到内容尾部\n        editor.initSelection();\n    };\n    /**\n     * 追加 html 内容\n     * @param html html 字符串\n     */\n    Text.prototype.append = function (html) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        if (html.indexOf('<') !== 0) {\n            // 普通字符串，用 <p> 包裹\n            html = \"<p>\" + html + \"</p>\";\n        }\n        $textElem.append(dom_core_1.default(html));\n        // 初始化选区，将光标定位到内容尾部\n        editor.initSelection();\n    };\n    /**\n     * 每一步操作，都实时保存选区范围\n     */\n    Text.prototype._saveRange = function () {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        // 保存当前的选区\n        function saveRange() {\n            // 随时保存选区\n            editor.selection.saveRange();\n            // 更新按钮 active 状态\n            editor.menus.changeActive();\n        }\n        // 按键后保存\n        $textElem.on('keyup', saveRange);\n        $textElem.on('mousedown', function () {\n            // mousedown 状态下，鼠标滑动到编辑区域外面，也需要保存选区\n            $textElem.on('mouseleave', saveRange);\n        });\n        $textElem.on('mouseup', function () {\n            var selection = editor.selection;\n            var range = selection.getRange();\n            if (range == null)\n                return;\n            var startOffset = range.startOffset, endOffset = range.endOffset;\n            var endContainer = range === null || range === void 0 ? void 0 : range.endContainer;\n            // 修复当selection结束时，点击编辑器内部，保存选区异常的情况\n            if (startOffset !== endOffset && endContainer != null) {\n                range === null || range === void 0 ? void 0 : range.setStart(endContainer, endOffset);\n            }\n            saveRange();\n            // 在编辑器区域之内完成点击，取消鼠标滑动到编辑区外面的事件\n            $textElem.off('mouseleave', saveRange);\n        });\n    };\n    /**\n     * 绑定事件，事件会触发钩子函数\n     */\n    Text.prototype._bindEventHooks = function () {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        var eventHooks = this.eventHooks;\n        // click hooks\n        $textElem.on('click', function (e) {\n            var clickEvents = eventHooks.clickEvents;\n            clickEvents.forEach(function (fn) { return fn(e); });\n        });\n        // enter 键 up 时的 hooks\n        $textElem.on('keyup', function (e) {\n            if (e.keyCode !== 13)\n                return;\n            var enterUpEvents = eventHooks.enterUpEvents;\n            enterUpEvents.forEach(function (fn) { return fn(e); });\n        });\n        // 键盘 up 时的 hooks\n        $textElem.on('keyup', function (e) {\n            var keyupEvents = eventHooks.keyupEvents;\n            keyupEvents.forEach(function (fn) { return fn(e); });\n        });\n        // delete 键 up 时 hooks\n        $textElem.on('keyup', function (e) {\n            if (e.keyCode !== 8)\n                return;\n            var deleteUpEvents = eventHooks.deleteUpEvents;\n            deleteUpEvents.forEach(function (fn) { return fn(e); });\n        });\n        // delete 键 down 时 hooks\n        $textElem.on('keydown', function (e) {\n            if (e.keyCode !== 8)\n                return;\n            var deleteDownEvents = eventHooks.deleteDownEvents;\n            deleteDownEvents.forEach(function (fn) { return fn(e); });\n        });\n        // 粘贴\n        $textElem.on('paste', function (e) {\n            if (util_1.UA.isIE())\n                return; // IE 不支持\n            // 阻止默认行为，使用 execCommand 的粘贴命令\n            e.preventDefault();\n            var pasteEvents = eventHooks.pasteEvents;\n            pasteEvents.forEach(function (fn) { return fn(e); });\n        });\n        // 撤销/恢复 快捷键\n        $textElem.on('keydown', function (e) {\n            if (\n            // 编辑器处于聚焦状态下（多编辑器实例） || 当前处于兼容模式（兼容模式撤销/恢复后不聚焦，所以直接过，但会造成多编辑器同时撤销/恢复）\n            (editor.isFocus || editor.isCompatibleMode) &&\n                (e.ctrlKey || e.metaKey) &&\n                e.keyCode === 90) {\n                // 取消默认行为\n                e.preventDefault();\n                // 执行事件\n                if (e.shiftKey) {\n                    // 恢复\n                    editor.history.restore();\n                }\n                else {\n                    // 撤销\n                    editor.history.revoke();\n                }\n            }\n        });\n        // tab up\n        $textElem.on('keyup', function (e) {\n            if (e.keyCode !== 9)\n                return;\n            e.preventDefault();\n            var tabUpEvents = eventHooks.tabUpEvents;\n            tabUpEvents.forEach(function (fn) { return fn(e); });\n        });\n        // tab down\n        $textElem.on('keydown', function (e) {\n            if (e.keyCode !== 9)\n                return;\n            e.preventDefault();\n            var tabDownEvents = eventHooks.tabDownEvents;\n            tabDownEvents.forEach(function (fn) { return fn(e); });\n        });\n        // 文本编辑区域 滚动时触发\n        $textElem.on('scroll', \n        // 使用节流\n        util_1.throttle(function (e) {\n            var textScrollEvents = eventHooks.textScrollEvents;\n            textScrollEvents.forEach(function (fn) { return fn(e); });\n        }, 100));\n        // 拖拽相关的事件\n        function preventDefault(e) {\n            // 禁用 document 拖拽事件\n            e.preventDefault();\n        }\n        dom_core_1.default(document)\n            .on('dragleave', preventDefault)\n            .on('drop', preventDefault)\n            .on('dragenter', preventDefault)\n            .on('dragover', preventDefault);\n        // 全局事件在编辑器实例销毁的时候进行解绑\n        editor.beforeDestroy(function () {\n            dom_core_1.default(document)\n                .off('dragleave', preventDefault)\n                .off('drop', preventDefault)\n                .off('dragenter', preventDefault)\n                .off('dragover', preventDefault);\n        });\n        $textElem.on('drop', function (e) {\n            e.preventDefault();\n            var events = eventHooks.dropEvents;\n            events.forEach(function (fn) { return fn(e); });\n        });\n        // link click\n        $textElem.on('click', function (e) {\n            // 存储链接元素\n            var $link = null;\n            var target = e.target;\n            var $target = dom_core_1.default(target);\n            if ($target.getNodeName() === 'A') {\n                // 当前点击的就是一个链接\n                $link = $target;\n            }\n            else {\n                // 否则，向父节点中寻找链接\n                var $parent = $target.parentUntil('a');\n                if ($parent != null) {\n                    // 找到了\n                    $link = $parent;\n                }\n            }\n            if ($link == null)\n                return; // 没有点击链接，则返回\n            var linkClickEvents = eventHooks.linkClickEvents;\n            linkClickEvents.forEach(function (fn) { return fn($link); });\n        });\n        // img click\n        $textElem.on('click', function (e) {\n            // 存储图片元素\n            var $img = null;\n            var target = e.target;\n            var $target = dom_core_1.default(target);\n            //处理图片点击 判断是否是表情 根据 不存在class或者className!==eleImg、没有alt属性\n            if ($target.getNodeName() === 'IMG' &&\n                (!$target.elems[0].getAttribute('class') ||\n                    $target.elems[0].getAttribute('class') !== 'eleImg') &&\n                !$target.elems[0].getAttribute('alt')) {\n                // 当前点击的就是img\n                e.stopPropagation();\n                $img = $target;\n            }\n            if ($img == null)\n                return; // 没有点击图片，则返回\n            var imgClickEvents = eventHooks.imgClickEvents;\n            imgClickEvents.forEach(function (fn) { return fn($img); });\n        });\n        // code click\n        $textElem.on('click', function (e) {\n            // 存储代码元素\n            var $code = null;\n            var target = e.target;\n            var $target = dom_core_1.default(target);\n            if ($target.getNodeName() === 'PRE') {\n                // 当前点击的就是一个链接\n                $code = $target;\n            }\n            else {\n                // 否则，向父节点中寻找链接\n                var $parent = $target.parentUntil('pre');\n                if ($parent != null) {\n                    // 找到了\n                    $code = $parent;\n                }\n            }\n            if ($code == null)\n                return; // 没有点击链接，则返回\n            var codeClickEvents = eventHooks.codeClickEvents;\n            codeClickEvents.forEach(function (fn) { return fn($code); });\n        });\n        // splitLine click\n        $textElem.on('click', function (e) {\n            // 存储分割线元素\n            var $splitLine = null;\n            var target = e.target;\n            var $target = dom_core_1.default(target);\n            // 判断当前点击元素\n            if ($target.getNodeName() === 'HR') {\n                $splitLine = $target;\n            }\n            else {\n                $target == null;\n            }\n            if ($splitLine == null)\n                return; // 没有点击分割线，则返回\n            // 设置、恢复选区\n            editor.selection.createRangeByElem($splitLine);\n            editor.selection.restoreSelection();\n            var splitLineClickEvents = eventHooks.splitLineEvents;\n            splitLineClickEvents.forEach(function (fn) { return fn($splitLine); });\n        });\n        // 菜单栏被点击\n        editor.$toolbarElem.on('click', function (e) {\n            var toolbarClickEvents = eventHooks.toolbarClickEvents;\n            toolbarClickEvents.forEach(function (fn) { return fn(e); });\n        });\n        //mousedown事件\n        editor.$textContainerElem.on('mousedown', function (e) {\n            var target = e.target;\n            var $target = dom_core_1.default(target);\n            if ($target.hasClass('w-e-img-drag-rb')) {\n                // 点击的元素，是图片拖拽调整大小的 bar\n                var imgDragBarMouseDownEvents = eventHooks.imgDragBarMouseDownEvents;\n                imgDragBarMouseDownEvents.forEach(function (fn) { return fn(); });\n            }\n        });\n        //table click\n        $textElem.on('click', function (e) {\n            // 存储元素\n            var $dom = null;\n            var target = e.target;\n            //获取最祖父元素\n            $dom = dom_core_1.default(target).parentUntil('TABLE', target);\n            if ($dom == null)\n                return; // 没有table范围内，则返回\n            var tableClickEvents = eventHooks.tableClickEvents;\n            tableClickEvents.forEach(function (fn) { return fn($dom); });\n        });\n        // enter 键 down\n        $textElem.on('keydown', function (e) {\n            if (e.keyCode !== 13)\n                return;\n            var enterDownEvents = eventHooks.enterDownEvents;\n            enterDownEvents.forEach(function (fn) { return fn(e); });\n        });\n    };\n    return Text;\n}());\nexports.default = Text;\n","var parent = require('../../es/instance/find');\n\nmodule.exports = parent;\n","var find = require('../array/virtual/find');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.find;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.find) ? find : own;\n};\n","require('../../../modules/es.array.find');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').find;\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","\"use strict\";\n/**\n * @description Text 事件钩子函数。Text 公共的，不是某个菜单独有的\n * @wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar enter_to_create_p_1 = __importDefault(require(\"./enter-to-create-p\"));\nvar del_to_keep_p_1 = __importDefault(require(\"./del-to-keep-p\"));\nvar tab_to_space_1 = __importDefault(require(\"./tab-to-space\"));\nvar paste_text_html_1 = __importDefault(require(\"./paste-text-html\"));\nvar img_click_active_1 = __importDefault(require(\"./img-click-active\"));\n/**\n * 初始化 text 事件钩子函数\n * @param text text 实例\n */\nfunction initTextHooks(text) {\n    var editor = text.editor;\n    var eventHooks = text.eventHooks;\n    // 回车时，保证生成的是 <p> 标签\n    enter_to_create_p_1.default(editor, eventHooks.enterUpEvents, eventHooks.enterDownEvents);\n    // 删除时，保留 <p><br></p>\n    del_to_keep_p_1.default(editor, eventHooks.deleteUpEvents, eventHooks.deleteDownEvents);\n    // tab 转换为空格\n    tab_to_space_1.default(editor, eventHooks.tabDownEvents);\n    // 粘贴 text html\n    paste_text_html_1.default(editor, eventHooks.pasteEvents);\n    // img click active\n    img_click_active_1.default(editor, eventHooks.imgClickEvents);\n}\nexports.default = initTextHooks;\n","\"use strict\";\n/**\n * @description 回车时，保证生成的是 <p> 标签\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\n/**\n * 回车时，保证生成的是 <p> 标签\n * @param editor 编辑器实例\n * @param enterUpEvents enter 键 up 时的 hooks\n * @param enterDownEvents enter 键 down 时的 hooks\n */\nfunction enterToCreateP(editor, enterUpEvents, enterDownEvents) {\n    function insertEmptyP($selectionElem) {\n        var $p = dom_core_1.default('<p><br></p>');\n        $p.insertBefore($selectionElem);\n        editor.selection.createRangeByElem($p, true);\n        editor.selection.restoreSelection();\n        $selectionElem.remove();\n    }\n    // enter up 时\n    function fn() {\n        var $textElem = editor.$textElem;\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        var $parentElem = $selectionElem.parent();\n        if ($parentElem.html() === '<code><br></code>') {\n            // 回车之前光标所在一个 <p><code>.....</code></p> ，忽然回车生成一个空的 <p><code><br></code></p>\n            // 而且继续回车跳不出去，因此只能特殊处理\n            insertEmptyP($selectionElem);\n            return;\n        }\n        if (!$parentElem.equal($textElem)) {\n            // 不是顶级标签\n            return;\n        }\n        var nodeName = $selectionElem.getNodeName();\n        if (nodeName === 'P') {\n            // 当前的标签是 P ，不用做处理\n            return;\n        }\n        if ($selectionElem.text()) {\n            // 有内容，不做处理\n            return;\n        }\n        // 插入 <p> ，并将选取定位到 <p>，删除当前标签\n        insertEmptyP($selectionElem);\n    }\n    enterUpEvents.push(fn);\n    // enter down 时\n    function createPWhenEnterText(e) {\n        var _a;\n        // selection中的range缓存还有问题,更新不及时,此处手动更新range,处理enter的bug\n        editor.selection.saveRange((_a = getSelection()) === null || _a === void 0 ? void 0 : _a.getRangeAt(0));\n        var $selectElem = editor.selection.getSelectionContainerElem();\n        if ($selectElem.id === editor.textElemId) {\n            // 回车时，默认创建了 text 标签（没有 p 标签包裹），父元素直接就是 $textElem\n            // 例如，光标放在 table 最后侧，回车时，默认就是这个情况\n            e.preventDefault();\n            editor.cmd.do('insertHTML', '<p><br></p>');\n        }\n    }\n    enterDownEvents.push(createPWhenEnterText);\n}\nexports.default = enterToCreateP;\n","\"use strict\";\n/**\n * @description 删除时保留 <p><br></p>\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\n/**\n * 删除时保留 <p><br></p>\n * @param editor 编辑器实例\n * @param deleteUpEvents delete 键 up 时的 hooks\n * @param deleteDownEvents delete 建 down 时的 hooks\n */\nfunction deleteToKeepP(editor, deleteUpEvents, deleteDownEvents) {\n    function upFn() {\n        var $textElem = editor.$textElem;\n        var txtHtml = $textElem.html().toLowerCase().trim();\n        // firefox 时用 txtHtml === '<br>' 判断，其他用 !txtHtml 判断\n        if (!txtHtml || txtHtml === '<br>') {\n            // 内容空了\n            var $p = dom_core_1.default('<p><br/></p>');\n            $textElem.html(' '); // 一定要先清空，否则在 firefox 下有问题\n            $textElem.append($p);\n            editor.selection.createRangeByElem($p, false, true);\n            editor.selection.restoreSelection();\n        }\n    }\n    deleteUpEvents.push(upFn);\n    function downFn(e) {\n        var $textElem = editor.$textElem;\n        var txtHtml = $textElem.html().toLowerCase().trim();\n        if (txtHtml === '<p><br></p>') {\n            // 最后剩下一个空行，就不再删除了\n            e.preventDefault();\n            return;\n        }\n    }\n    deleteDownEvents.push(downFn);\n}\nexports.default = deleteToKeepP;\n","\"use strict\";\n/**\n * @description 编辑区域 tab 的特殊处理\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 编辑区域 tab 的特殊处理，转换为空格\n * @param editor 编辑器实例\n * @param tabDownEvents tab down 事件钩子\n */\nfunction tabHandler(editor, tabDownEvents) {\n    // 定义函数\n    function fn() {\n        if (!editor.cmd.queryCommandSupported('insertHTML')) {\n            // 必须原生支持 insertHTML 命令\n            return;\n        }\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        if (!$selectionElem) {\n            return;\n        }\n        var $parentElem = $selectionElem.parent();\n        var selectionNodeName = $selectionElem.getNodeName();\n        var parentNodeName = $parentElem.getNodeName();\n        if (selectionNodeName == 'CODE' ||\n            parentNodeName === 'CODE' ||\n            parentNodeName === 'PRE' ||\n            /hljs/.test(parentNodeName)) {\n            // <pre><code> 里面\n            editor.cmd.do('insertHTML', editor.config.languageTab);\n        }\n        else {\n            // 普通文字\n            editor.cmd.do('insertHTML', '&nbsp;&nbsp;&nbsp;&nbsp;');\n        }\n    }\n    // 保留函数\n    tabDownEvents.push(fn);\n}\nexports.default = tabHandler;\n","\"use strict\";\n/**\n * @description 粘贴 text html\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar paste_event_1 = require(\"../paste/paste-event\");\nvar util_1 = require(\"../../utils/util\");\nvar const_1 = require(\"../../utils/const\");\n/**\n * 格式化html\n * @param val 粘贴的html\n * @author liuwei\n */\nfunction formatHtml(val) {\n    var pasteText = val;\n    // div 全部替换为 p 标签\n    pasteText = pasteText.replace(/<div>/gim, '<p>').replace(/<\\/div>/gim, '</p>');\n    // 不允许空行，放在最后\n    pasteText = pasteText.replace(/<p><\\/p>/gim, '<p><br></p>');\n    // 去除''\n    return pasteText.trim();\n}\n/**\n * 格式化html\n * @param val 粘贴的html\n * @author liuwei\n */\nfunction formatCode(val) {\n    var pasteText = val.replace(/<br>|<br\\/>/gm, '\\n').replace(/<[^>]+>/gm, '');\n    return pasteText;\n}\n/**\n * 粘贴文本和 html\n * @param editor 编辑器对象\n * @param pasteEvents 粘贴事件列表\n */\nfunction pasteTextHtml(editor, pasteEvents) {\n    function fn(e) {\n        // 获取配置\n        var config = editor.config;\n        var pasteFilterStyle = config.pasteFilterStyle;\n        var pasteIgnoreImg = config.pasteIgnoreImg;\n        var pasteTextHandle = config.pasteTextHandle;\n        // 获取粘贴的文字\n        var pasteHtml = paste_event_1.getPasteHtml(e, pasteFilterStyle, pasteIgnoreImg);\n        var pasteText = paste_event_1.getPasteText(e);\n        pasteText = pasteText.replace(/\\n/gm, '<br>');\n        // 当前选区所在的 DOM 节点\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        if (!$selectionElem) {\n            return;\n        }\n        var nodeName = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getNodeName();\n        var $topElem = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getNodeTop(editor);\n        // 当前节点顶级可能没有\n        var topNodeName = '';\n        if ($topElem.elems[0]) {\n            topNodeName = $topElem === null || $topElem === void 0 ? void 0 : $topElem.getNodeName();\n        }\n        // code 中只能粘贴纯文本\n        if (nodeName === 'CODE' || topNodeName === 'PRE') {\n            if (pasteTextHandle && util_1.isFunction(pasteTextHandle)) {\n                // 用户自定义过滤处理粘贴内容\n                pasteText = '' + (pasteTextHandle(pasteText) || '');\n            }\n            editor.cmd.do('insertHTML', formatCode(pasteText));\n            return;\n        }\n        // 如果复制进来的是url链接则插入时将它转为链接\n        if (const_1.urlRegex.test(pasteText)) {\n            return editor.cmd.do('insertHTML', \"<a href=\\\"\" + pasteText + \"\\\" target=\\\"_blank\\\">\" + pasteText + \"</a>\");\n        }\n        // table 中（td、th），待开发。。。\n        if (!pasteHtml) {\n            return;\n        }\n        try {\n            // firefox 中，获取的 pasteHtml 可能是没有 <ul> 包裹的 <li>\n            // 因此执行 insertHTML 会报错\n            if (pasteTextHandle && util_1.isFunction(pasteTextHandle)) {\n                // 用户自定义过滤处理粘贴内容\n                pasteHtml = '' + (pasteTextHandle(pasteHtml) || ''); // html\n            }\n            editor.cmd.do('insertHTML', \"\" + formatHtml(pasteHtml));\n        }\n        catch (ex) {\n            // 此时使用 pasteText 来兼容一下\n            if (pasteTextHandle && util_1.isFunction(pasteTextHandle)) {\n                // 用户自定义过滤处理粘贴内容\n                pasteText = '' + (pasteTextHandle(pasteText) || '');\n            }\n            editor.cmd.do('insertHTML', \"\" + formatHtml(pasteText)); // text\n        }\n    }\n    pasteEvents.push(fn);\n}\nexports.default = pasteTextHtml;\n","\"use strict\";\n/**\n * @description 将粘贴的 html 字符串，转换为正确、简洁的 html 代码。剔除不必要的标签和属性。\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tags_1 = require(\"./tags\");\nvar simplehtmlparser_js_1 = __importDefault(require(\"../../lib/simplehtmlparser.js\"));\n/**\n * 过滤掉空 span\n * @param html html\n */\nfunction filterEmptySpan(html) {\n    var regForReplace = /<span>.*?<\\/span>/gi;\n    var regForMatch = /<span>(.*?)<\\/span>/;\n    return html.replace(regForReplace, function (s) {\n        // s 是单个 span ，如 <span>文字</span>\n        var result = s.match(regForMatch);\n        if (result == null)\n            return '';\n        return result[1];\n    });\n}\n/**\n * 是否忽略标签\n * @param tag tag\n * @param ignoreImg 是否忽略 img 标签\n */\nfunction isIgnoreTag(tag, ignoreImg) {\n    tag = tag.toLowerCase().trim();\n    // 忽略的标签\n    if (tags_1.IGNORE_TAGS.has(tag)) {\n        return true;\n    }\n    // 是否忽略图片\n    if (ignoreImg) {\n        if (tag === 'img') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * 为 tag 生成 html 字符串，开始部分\n * @param tag tag\n * @param attrs 属性\n */\nfunction genStartHtml(tag, attrs) {\n    var result = '';\n    // tag < 符号\n    result = \"<\" + tag;\n    // 拼接属性\n    var attrStrArr = [];\n    attrs.forEach(function (attr) {\n        attrStrArr.push(attr.name + \"=\\\"\" + attr.value + \"\\\"\");\n    });\n    if (attrStrArr.length > 0) {\n        result = result + ' ' + attrStrArr.join(' ');\n    }\n    // tag > 符号\n    var isEmpty = tags_1.EMPTY_TAGS.has(tag); // 没有子节点或文本的标签，如 img\n    result = result + (isEmpty ? '/' : '') + '>';\n    return result;\n}\n/**\n * 为 tag 生成 html 字符串，结尾部分\n * @param tag tag\n */\nfunction genEndHtml(tag) {\n    return \"</\" + tag + \">\";\n}\n/**\n * 处理粘贴的 html\n * @param html html 字符串\n * @param filterStyle 是否过滤 style 样式\n * @param ignoreImg 是否忽略 img 标签\n */\nfunction parseHtml(html, filterStyle, ignoreImg) {\n    if (filterStyle === void 0) { filterStyle = true; }\n    if (ignoreImg === void 0) { ignoreImg = false; }\n    var resultArr = []; // 存储结果，数组形式，最后再 join\n    // 当前正在处理的标签，以及记录和清除的方法\n    var CUR_TAG = '';\n    function markTagStart(tag) {\n        tag = tag.trim();\n        if (!tag)\n            return;\n        if (tags_1.EMPTY_TAGS.has(tag))\n            return; // 内容为空的标签，如 img ，不用记录\n        CUR_TAG = tag;\n    }\n    function markTagEnd() {\n        CUR_TAG = '';\n    }\n    // 能通过 'text/html' 格式获取 html\n    var htmlParser = new simplehtmlparser_js_1.default();\n    htmlParser.parse(html, {\n        startElement: function (tag, attrs) {\n            // 首先，标记开始\n            markTagStart(tag);\n            // 忽略的标签\n            if (isIgnoreTag(tag, ignoreImg)) {\n                return;\n            }\n            // 找出该标签必须的属性（其他的属性忽略）\n            var necessaryAttrKeys = tags_1.NECESSARY_ATTRS.get(tag) || [];\n            var attrsForTag = [];\n            attrs.forEach(function (attr) {\n                // 属性名\n                var name = attr.name;\n                // style 单独处理\n                if (name === 'style') {\n                    // 保留 style 样式\n                    if (!filterStyle) {\n                        attrsForTag.push(attr);\n                    }\n                    return;\n                }\n                // 除了 style 之外的其他属性\n                if (necessaryAttrKeys.includes(name) === false) {\n                    // 不是必须的属性，忽略\n                    return;\n                }\n                attrsForTag.push(attr);\n            });\n            // 拼接为 HTML 标签\n            var html = genStartHtml(tag, attrsForTag);\n            resultArr.push(html);\n        },\n        characters: function (str) {\n            str = str.trim();\n            if (!str)\n                return;\n            // 忽略的标签\n            if (isIgnoreTag(CUR_TAG, ignoreImg)) {\n                return;\n            }\n            resultArr.push(str);\n        },\n        endElement: function (tag) {\n            // 忽略的标签\n            if (isIgnoreTag(tag, ignoreImg)) {\n                return;\n            }\n            // 拼接为 HTML 标签\n            var html = genEndHtml(tag);\n            resultArr.push(html);\n            // 最后，标记结束\n            markTagEnd();\n        },\n        comment: function (str) {\n            /* 注释，不做处理 */\n        },\n    });\n    var result = resultArr.join(''); // 转换为字符串\n    // 过滤掉空 span 标签\n    result = filterEmptySpan(result);\n    return result;\n}\nexports.default = parseHtml;\n","\"use strict\";\n/**\n * @description 粘贴相关的 tags\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TOP_LEVEL_TAGS = exports.EMPTY_TAGS = exports.NECESSARY_ATTRS = exports.IGNORE_TAGS = void 0;\n// 忽略的标签\nexports.IGNORE_TAGS = new Set([\n    'doctype',\n    '!doctype',\n    'html',\n    'head',\n    'meta',\n    'body',\n    'script',\n    'style',\n    'link',\n    'frame',\n    'iframe',\n    'title',\n    'svg',\n    'center',\n]);\n// 指定标签必要的属性\nexports.NECESSARY_ATTRS = new Map([\n    ['img', ['src', 'alt']],\n    ['a', ['href', 'target']],\n    ['td', ['colspan', 'rowspan']],\n    ['th', ['colspan', 'rowspan']],\n]);\n// 没有子节点或文本的标签\nexports.EMPTY_TAGS = new Set([\n    'area',\n    'base',\n    'basefont',\n    'br',\n    'col',\n    'hr',\n    'img',\n    'input',\n    'isindex',\n    'embed',\n]);\n// 编辑区域顶级节点\nexports.TOP_LEVEL_TAGS = new Set([\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'p',\n    'ul',\n    'ol',\n    'table',\n    'blockquote',\n    'pre',\n    'hr',\n    'form',\n]);\n","var parent = require('../../es/set');\n\nmodule.exports = parent;\n","require('../../modules/es.set');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Set;\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","// Copyright 2004 Erik Arvidsson. All Rights Reserved.\n//\n// This code is triple licensed using Apache Software License 2.0,\n// Mozilla Public License or GNU Public License\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n// use this file except in compliance with the License.  You may obtain a copy\n// of the License at http://www.apache.org/licenses/LICENSE-2.0\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// The contents of this file are subject to the Mozilla Public License\n// Version 1.1 (the \"License\"); you may not use this file except in\n// compliance with the License. You may obtain a copy of the License at\n// http://www.mozilla.org/MPL/\n//\n// Software distributed under the License is distributed on an \"AS IS\"\n// basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the\n// License for the specific language governing rights and limitations\n// under the License.\n//\n// The Original Code is Simple HTML Parser.\n//\n// The Initial Developer of the Original Code is Erik Arvidsson.\n// Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights\n// Reserved.\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n///////////////////////////////////////////////////////////////////////////////\n\n/*\nvar handler ={\n\tstartElement:   function (sTagName, oAttrs) {},\n\tendElement:     function (sTagName) {},\n    characters:\t\tfunction (s) {},\n    comment:\t\tfunction (s) {}\n};\n*/\n\nfunction SimpleHtmlParser() {}\n\nSimpleHtmlParser.prototype = {\n    handler: null,\n\n    // regexps\n\n    startTagRe: /^<([^>\\s\\/]+)((\\s+[^=>\\s]+(\\s*=\\s*((\\\"[^\"]*\\\")|(\\'[^']*\\')|[^>\\s]+))?)*)\\s*\\/?\\s*>/m,\n    endTagRe: /^<\\/([^>\\s]+)[^>]*>/m,\n    attrRe: /([^=\\s]+)(\\s*=\\s*((\\\"([^\"]*)\\\")|(\\'([^']*)\\')|[^>\\s]+))?/gm,\n\n    parse: function (s, oHandler) {\n        if (oHandler) this.contentHandler = oHandler\n\n        var i = 0\n        var res, lc, lm, rc, index\n        var treatAsChars = false\n        var oThis = this\n        while (s.length > 0) {\n            // Comment\n            if (s.substring(0, 4) == '<!--') {\n                index = s.indexOf('-->')\n                if (index != -1) {\n                    this.contentHandler.comment(s.substring(4, index))\n                    s = s.substring(index + 3)\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n\n            // end tag\n            else if (s.substring(0, 2) == '</') {\n                if (this.endTagRe.test(s)) {\n                    lc = RegExp.leftContext\n                    lm = RegExp.lastMatch\n                    rc = RegExp.rightContext\n\n                    lm.replace(this.endTagRe, function () {\n                        return oThis.parseEndTag.apply(oThis, arguments)\n                    })\n\n                    s = rc\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n            // start tag\n            else if (s.charAt(0) == '<') {\n                if (this.startTagRe.test(s)) {\n                    lc = RegExp.leftContext\n                    lm = RegExp.lastMatch\n                    rc = RegExp.rightContext\n\n                    lm.replace(this.startTagRe, function () {\n                        return oThis.parseStartTag.apply(oThis, arguments)\n                    })\n\n                    s = rc\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n\n            if (treatAsChars) {\n                index = s.indexOf('<')\n                if (index == -1) {\n                    this.contentHandler.characters(s)\n                    s = ''\n                } else {\n                    this.contentHandler.characters(s.substring(0, index))\n                    s = s.substring(index)\n                }\n            }\n\n            treatAsChars = true\n        }\n    },\n\n    parseStartTag: function (sTag, sTagName, sRest) {\n        var attrs = this.parseAttributes(sTagName, sRest)\n        this.contentHandler.startElement(sTagName, attrs)\n    },\n\n    parseEndTag: function (sTag, sTagName) {\n        this.contentHandler.endElement(sTagName)\n    },\n\n    parseAttributes: function (sTagName, s) {\n        var oThis = this\n        var attrs = []\n        s.replace(this.attrRe, function (a0, a1, a2, a3, a4, a5, a6) {\n            attrs.push(oThis.parseAttribute(sTagName, a0, a1, a2, a3, a4, a5, a6))\n        })\n        return attrs\n    },\n\n    parseAttribute: function (sTagName, sAttribute, sName) {\n        var value = ''\n        if (arguments[7]) value = arguments[8]\n        else if (arguments[5]) value = arguments[6]\n        else if (arguments[3]) value = arguments[4]\n\n        var empty = !value && !arguments[3]\n        return { name: sName, value: empty ? null : value }\n    },\n}\n\n// export default SimpleHtmlParser\nmodule.exports = SimpleHtmlParser\n","\"use strict\";\n/**\n * @description 图片点击后选区更新到img的位置\n * @author tonghan\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 图片点击后选区更新到img的位置\n * @param editor 编辑器实例\n * @param imgClickEvents delete 键 up 时的 hooks\n */\nfunction imgClickActive(editor, imgClickEvents) {\n    function clickFn($img) {\n        editor.selection.createRangeByElem($img);\n        editor.selection.restoreSelection();\n    }\n    imgClickEvents.push(clickFn);\n}\nexports.default = imgClickActive;\n","\"use strict\";\n/**\n * @description 获取子元素的 JSON 格式数据\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../utils/util\");\nvar dom_core_1 = __importDefault(require(\"../utils/dom-core\"));\n/**\n * 获取子元素的 JSON 格式数据\n * @param $elem DOM 节点\n */\nfunction getChildrenJSON($elem) {\n    var result = []; // 存储结果\n    var $children = $elem.childNodes() || []; // 注意 childNodes() 可以获取文本节点\n    $children.forEach(function (curElem) {\n        var elemResult;\n        var nodeType = curElem.nodeType;\n        // 文本节点\n        if (nodeType === 3) {\n            elemResult = curElem.textContent || '';\n            elemResult = util_1.replaceHtmlSymbol(elemResult);\n        }\n        // 普通 DOM 节点\n        if (nodeType === 1) {\n            elemResult = {};\n            elemResult = elemResult;\n            // tag\n            elemResult.tag = curElem.nodeName.toLowerCase();\n            // attr\n            var attrData = [];\n            var attrList = curElem.attributes || [];\n            var attrListLength = attrList.length || 0;\n            for (var i = 0; i < attrListLength; i++) {\n                var attr = attrList[i];\n                attrData.push({\n                    name: attr.name,\n                    value: attr.value,\n                });\n            }\n            elemResult.attrs = attrData;\n            // children（递归）\n            elemResult.children = getChildrenJSON(dom_core_1.default(curElem));\n        }\n        if (elemResult) {\n            result.push(elemResult);\n        }\n    });\n    return result;\n}\nexports.default = getChildrenJSON;\n","\"use strict\";\n/**\n * @description Menus 菜单栏 入口文件\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar menu_list_1 = __importDefault(require(\"./menu-list\"));\n// import { MenuActive } from './menu-constructors/Menu'\nvar Menus = /** @class */ (function () {\n    function Menus(editor) {\n        this.editor = editor;\n        this.menuList = [];\n        this.constructorList = menu_list_1.default; // 所有菜单构造函数的列表\n    }\n    /**\n     * 自定义添加菜单\n     * @param key 菜单 key ，和 editor.config.menus 对应\n     * @param Menu 菜单构造函数\n     */\n    Menus.prototype.extend = function (key, Menu) {\n        if (!Menu || typeof Menu !== 'function')\n            return;\n        this.constructorList[key] = Menu;\n    };\n    // 初始化菜单\n    Menus.prototype.init = function () {\n        var _this = this;\n        // 从用户配置的 menus 入手，看需要初始化哪些菜单\n        var config = this.editor.config;\n        config.menus.forEach(function (menuKey) {\n            var MenuConstructor = _this.constructorList[menuKey]; // 暂用 any ，后面再替换\n            if (MenuConstructor == null || typeof MenuConstructor !== 'function') {\n                // 必须是 class\n                return;\n            }\n            // 创建 menu 实例，并放到 menuList 中\n            var m = new MenuConstructor(_this.editor);\n            m.key = menuKey;\n            _this.menuList.push(m);\n        });\n        // 渲染 DOM\n        this._addToToolbar();\n    };\n    // 添加到菜单栏\n    Menus.prototype._addToToolbar = function () {\n        var editor = this.editor;\n        var $toolbarElem = editor.$toolbarElem;\n        // 遍历添加到 DOM\n        this.menuList.forEach(function (menu) {\n            var $elem = menu.$elem;\n            if ($elem) {\n                $toolbarElem.append($elem);\n            }\n        });\n    };\n    /**\n     * 获取菜单对象\n     * @param 菜单名称 小写\n     * @return Menus 菜单对象\n     */\n    Menus.prototype.menuFind = function (key) {\n        var menuList = this.menuList;\n        for (var i = 0, l = menuList.length; i < l; i++) {\n            if (menuList[i].key === key)\n                return menuList[i];\n        }\n        return menuList[0];\n    };\n    /**\n     * @description 修改菜单激活状态\n     */\n    Menus.prototype.changeActive = function () {\n        this.menuList.forEach(function (menu) {\n            setTimeout(menu.tryChangeActive.bind(menu), 100); // 暂用 any ，后面再替换\n        });\n    };\n    return Menus;\n}());\nexports.default = Menus;\n","var parent = require('../../es/instance/bind');\n\nmodule.exports = parent;\n","var bind = require('../function/virtual/bind');\n\nvar FunctionPrototype = Function.prototype;\n\nmodule.exports = function (it) {\n  var own = it.bind;\n  return it === FunctionPrototype || (it instanceof Function && own === FunctionPrototype.bind) ? bind : own;\n};\n","require('../../../modules/es.function.bind');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Function').bind;\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","\"use strict\";\n/**\n * @description 所有菜单的构造函数\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar index_1 = __importDefault(require(\"./bold/index\"));\nvar index_2 = __importDefault(require(\"./head/index\"));\nvar index_3 = __importDefault(require(\"./link/index\"));\nvar index_4 = __importDefault(require(\"./italic/index\"));\nvar index_5 = __importDefault(require(\"./underline/index\"));\nvar index_6 = __importDefault(require(\"./strike-through/index\"));\nvar index_7 = __importDefault(require(\"./font-style/index\"));\nvar font_size_1 = __importDefault(require(\"./font-size\"));\nvar index_8 = __importDefault(require(\"./justify/index\"));\nvar index_9 = __importDefault(require(\"./quote/index\"));\nvar index_10 = __importDefault(require(\"./back-color/index\"));\nvar index_11 = __importDefault(require(\"./font-color/index\"));\nvar index_12 = __importDefault(require(\"./video/index\"));\nvar index_13 = __importDefault(require(\"./img/index\"));\nvar index_14 = __importDefault(require(\"./indent/index\"));\nvar index_15 = __importDefault(require(\"./emoticon/index\"));\nvar index_16 = __importDefault(require(\"./list/index\"));\nvar index_17 = __importDefault(require(\"./lineHeight/index\"));\nvar index_18 = __importDefault(require(\"./undo/index\"));\nvar index_19 = __importDefault(require(\"./redo/index\"));\nvar index_20 = __importDefault(require(\"./table/index\"));\nvar code_1 = __importDefault(require(\"./code\"));\nvar index_21 = __importDefault(require(\"./split-line/index\"));\nexports.default = {\n    bold: index_1.default,\n    head: index_2.default,\n    italic: index_4.default,\n    link: index_3.default,\n    underline: index_5.default,\n    strikeThrough: index_6.default,\n    fontName: index_7.default,\n    fontSize: font_size_1.default,\n    justify: index_8.default,\n    quote: index_9.default,\n    backColor: index_10.default,\n    foreColor: index_11.default,\n    video: index_12.default,\n    image: index_13.default,\n    indent: index_14.default,\n    emoticon: index_15.default,\n    list: index_16.default,\n    lineHeight: index_17.default,\n    undo: index_18.default,\n    redo: index_19.default,\n    table: index_20.default,\n    code: code_1.default,\n    splitLine: index_21.default,\n};\n","\"use strict\";\n/**\n * @description 加粗\n * @author wangfupeng\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Bold = /** @class */ (function (_super) {\n    __extends(Bold, _super);\n    function Bold(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-bold\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 点击事件\n     */\n    Bold.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var isSelectEmpty = editor.selection.isSelectionEmpty();\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n        // 执行 bold 命令\n        editor.cmd.do('bold');\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    Bold.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        if (editor.cmd.queryCommandState('bold')) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return Bold;\n}(BtnMenu_1.default));\nexports.default = Bold;\n","var parent = require('../../es/object/set-prototype-of');\n\nmodule.exports = parent;\n","require('../../modules/es.object.set-prototype-of');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.setPrototypeOf;\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","\"use strict\";\n/**\n * @description 标题\n * @author wangfupeng\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Head = /** @class */ (function (_super) {\n    __extends(Head, _super);\n    function Head(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default('<div class=\"w-e-menu\"><i class=\"w-e-icon-header\"></i></div>');\n        var dropListConf = {\n            width: 100,\n            title: '设置标题',\n            type: 'list',\n            list: [\n                { $elem: dom_core_1.default('<h1>H1</h1>'), value: '<h1>' },\n                { $elem: dom_core_1.default('<h2>H2</h2>'), value: '<h2>' },\n                { $elem: dom_core_1.default('<h3>H3</h3>'), value: '<h3>' },\n                { $elem: dom_core_1.default('<h4>H4</h4>'), value: '<h4>' },\n                { $elem: dom_core_1.default('<h5>H5</h5>'), value: '<h5>' },\n                {\n                    $elem: dom_core_1.default(\"<p>\" + editor.i18next.t('menus.dropListMenu.head.正文') + \"</p>\"),\n                    value: '<p>',\n                },\n            ],\n            clickHandler: function (value) {\n                // 注意 this 是指向当前的 Head 对象\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, dropListConf) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    Head.prototype.command = function (value) {\n        var editor = this.editor;\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            // 不能选中多行来设置标题，否则会出现问题\n            // 例如选中的是 <p>xxx</p><p>yyy</p> 来设置标题，设置之后会成为 <h1>xxx<br>yyy</h1> 不符合预期\n            return;\n        }\n        editor.cmd.do('formatBlock', value);\n    };\n    /**\n     * 尝试改变菜单激活（高亮）状态\n     */\n    Head.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        var reg = /^h/i;\n        var cmdValue = editor.cmd.queryCommandValue('formatBlock');\n        if (reg.test(cmdValue)) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return Head;\n}(DropListMenu_1.default));\nexports.default = Head;\n","\"use strict\";\n/**\n * @description 链接 菜单\n * @author wangfupeng\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PanelMenu_1 = __importDefault(require(\"../menu-constructors/PanelMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar create_panel_conf_1 = __importDefault(require(\"./create-panel-conf\"));\nvar is_active_1 = __importDefault(require(\"./is-active\"));\nvar Panel_1 = __importDefault(require(\"../menu-constructors/Panel\"));\nvar index_1 = __importDefault(require(\"./bind-event/index\"));\nvar Link = /** @class */ (function (_super) {\n    __extends(Link, _super);\n    function Link(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default('<div class=\"w-e-menu\"><i class=\"w-e-icon-link\"></i></div>');\n        _this = _super.call(this, $elem, editor) || this;\n        // 绑定事件，如点击链接时，可以查看链接\n        index_1.default(editor);\n        return _this;\n    }\n    /**\n     * 菜单点击事件\n     */\n    Link.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var $linkElem;\n        if (this.isActive) {\n            // 菜单被激活，说明选区在链接里\n            $linkElem = editor.selection.getSelectionContainerElem();\n            if (!$linkElem) {\n                return;\n            }\n            // 弹出 panel\n            this.createPanel($linkElem.text(), $linkElem.attr('href'));\n        }\n        else {\n            // 菜单未被激活，说明选区不在链接里\n            if (editor.selection.isSelectionEmpty()) {\n                // 选区是空的，未选中内容\n                this.createPanel('', '');\n            }\n            else {\n                // 选中内容了\n                this.createPanel(editor.selection.getSelectionText(), '');\n            }\n        }\n    };\n    /**\n     * 创建 panel\n     * @param text 文本\n     * @param link 链接\n     */\n    Link.prototype.createPanel = function (text, link) {\n        var conf = create_panel_conf_1.default(this.editor, text, link);\n        var panel = new Panel_1.default(this, conf);\n        panel.create();\n    };\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    Link.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        if (is_active_1.default(editor)) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return Link;\n}(PanelMenu_1.default));\nexports.default = Link;\n","\"use strict\";\n/**\n * @description link 菜单 panel tab 配置\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../utils/util\");\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar is_active_1 = __importDefault(require(\"./is-active\"));\nfunction default_1(editor, text, link) {\n    // panel 中需要用到的id\n    var inputLinkId = util_1.getRandom('input-link');\n    var inputTextId = util_1.getRandom('input-text');\n    var btnOkId = util_1.getRandom('btn-ok');\n    var btnDelId = util_1.getRandom('btn-del');\n    // 是否显示“取消链接”\n    var delBtnDisplay = is_active_1.default(editor) ? 'inline-block' : 'none';\n    var $selectedLink;\n    /**\n     * 选中整个链接元素\n     */\n    function selectLinkElem() {\n        if (!is_active_1.default(editor))\n            return;\n        var $linkElem = editor.selection.getSelectionContainerElem();\n        if (!$linkElem)\n            return;\n        editor.selection.createRangeByElem($linkElem);\n        editor.selection.restoreSelection();\n        $selectedLink = $linkElem; // 赋值给函数内全局变量\n    }\n    /**\n     * 插入链接\n     * @param text 文字\n     * @param link 链接\n     */\n    function insertLink(text, link) {\n        if (is_active_1.default(editor)) {\n            // 选区处于链接中，则选中整个菜单，再执行 insertHTML\n            selectLinkElem();\n            editor.cmd.do('insertHTML', \"<a href=\\\"\" + link + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>\");\n        }\n        else {\n            // 选区未处于链接中，直接插入即可\n            editor.cmd.do('insertHTML', \"<a href=\\\"\" + link + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>\");\n        }\n    }\n    /**\n     * 取消链接\n     */\n    function delLink() {\n        if (!is_active_1.default(editor)) {\n            return;\n        }\n        // 选中整个链接\n        selectLinkElem();\n        // 用文本替换链接\n        var selectionText = $selectedLink.text();\n        editor.cmd.do('insertHTML', '<span>' + selectionText + '</span>');\n    }\n    /**\n     * 校验链接是否合法\n     * @param link 链接\n     */\n    function checkLink(text, link) {\n        //查看开发者自定义配置的返回值\n        var check = editor.config.linkCheck(text, link);\n        if (check === undefined) {\n            //用户未能通过开发者的校验，且开发者不希望编辑器提示用户\n        }\n        else if (check === true) {\n            //用户通过了开发者的校验\n            return true;\n        }\n        else {\n            //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n            alert(check);\n        }\n        return false;\n    }\n    var conf = {\n        width: 300,\n        height: 0,\n        // panel 中可包含多个 tab\n        tabs: [\n            {\n                // tab 的标题\n                title: editor.i18next.t('menus.panelMenus.link.链接'),\n                // 模板\n                tpl: \"<div>\\n                        <input \\n                            id=\\\"\" + inputTextId + \"\\\" \\n                            type=\\\"text\\\" \\n                            class=\\\"block\\\" \\n                            value=\\\"\" + text + \"\\\" \\n                            placeholder=\\\"\" + editor.i18next.t('menus.panelMenus.link.链接文字') + \"\\\"/>\\n                        </td>\\n                        <input \\n                            id=\\\"\" + inputLinkId + \"\\\" \\n                            type=\\\"text\\\" \\n                            class=\\\"block\\\" \\n                            value=\\\"\" + link + \"\\\" \\n                            placeholder=\\\"\" + editor.i18next.t('如') + \" https://...\\\"/>\\n                        </td>\\n                        <div class=\\\"w-e-button-container\\\">\\n                            <button id=\\\"\" + btnOkId + \"\\\" class=\\\"right\\\">\\n                                \" + editor.i18next.t('插入') + \"\\n                            </button>\\n                            <button id=\\\"\" + btnDelId + \"\\\" class=\\\"gray right\\\" style=\\\"display:\" + delBtnDisplay + \"\\\">\\n                                \" + editor.i18next.t('menus.panelMenus.link.取消链接') + \"\\n                            </button>\\n                        </div>\\n                    </div>\",\n                // 事件绑定\n                events: [\n                    // 插入链接\n                    {\n                        selector: '#' + btnOkId,\n                        type: 'click',\n                        fn: function () {\n                            // 执行插入链接\n                            var $link = dom_core_1.default('#' + inputLinkId);\n                            var $text = dom_core_1.default('#' + inputTextId);\n                            var link = $link.val().trim();\n                            var text = $text.val().trim();\n                            // 链接为空，则不插入\n                            if (!link)\n                                return;\n                            // 文本为空，则用链接代替\n                            if (!text)\n                                text = link;\n                            // 校验链接是否满足用户的规则，若不满足则不插入\n                            if (!checkLink(text, link))\n                                return;\n                            insertLink(text, link);\n                            // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                            return true;\n                        },\n                    },\n                    // 取消链接\n                    {\n                        selector: '#' + btnDelId,\n                        type: 'click',\n                        fn: function () {\n                            // 执行取消链接\n                            delLink();\n                            // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                            return true;\n                        },\n                    },\n                ],\n            },\n        ],\n    };\n    return conf;\n}\nexports.default = default_1;\n","\"use strict\";\n/**\n * @description 绑定链接元素的事件，入口\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tooltip_event_1 = __importDefault(require(\"./tooltip-event\"));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor) {\n    // tooltip 事件\n    tooltip_event_1.default(editor);\n}\nexports.default = bindEvent;\n","\"use strict\";\n/**\n * @description tooltip 事件\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../../utils/dom-core\"));\nvar Tooltip_1 = __importDefault(require(\"../../menu-constructors/Tooltip\"));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor) {\n    var tooltip;\n    /**\n     * 显示 tooltip\n     * @param $link 链接元素\n     */\n    function showLinkTooltip($link) {\n        var conf = [\n            {\n                $elem: dom_core_1.default(\"<span>\" + editor.i18next.t('menus.panelMenus.link.查看链接') + \"</span>\"),\n                onClick: function (editor, $link) {\n                    var link = $link.attr('href');\n                    window.open(link, '_target');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default(\"<span>\" + editor.i18next.t('menus.panelMenus.link.取消链接') + \"</span>\"),\n                onClick: function (editor, $link) {\n                    // 选中链接元素\n                    editor.selection.createRangeByElem($link);\n                    editor.selection.restoreSelection();\n                    // 用文字，替换链接\n                    var selectionText = $link.text();\n                    editor.cmd.do('insertHTML', '<span>' + selectionText + '</span>');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n        ];\n        // 创建 tooltip\n        tooltip = new Tooltip_1.default(editor, $link, conf);\n        tooltip.create();\n    }\n    /**\n     * 隐藏 tooltip\n     */\n    function hideLinkTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove();\n            tooltip = null;\n        }\n    }\n    return {\n        showLinkTooltip: showLinkTooltip,\n        hideLinkTooltip: hideLinkTooltip,\n    };\n}\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nfunction bindTooltipEvent(editor) {\n    var _a = createShowHideFn(editor), showLinkTooltip = _a.showLinkTooltip, hideLinkTooltip = _a.hideLinkTooltip;\n    // 点击链接元素是，显示 tooltip\n    editor.txt.eventHooks.linkClickEvents.push(showLinkTooltip);\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideLinkTooltip);\n    editor.txt.eventHooks.keyupEvents.push(hideLinkTooltip);\n    editor.txt.eventHooks.toolbarClickEvents.push(hideLinkTooltip);\n    editor.txt.eventHooks.menuClickEvents.push(hideLinkTooltip);\n    editor.txt.eventHooks.textScrollEvents.push(hideLinkTooltip);\n}\nexports.default = bindTooltipEvent;\n","\"use strict\";\n/**\n * @description 斜体\n * @author liuwei\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Italic = /** @class */ (function (_super) {\n    __extends(Italic, _super);\n    function Italic(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-italic\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 点击事件\n     */\n    Italic.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var isSelectEmpty = editor.selection.isSelectionEmpty();\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n        // 执行 italic 命令\n        editor.cmd.do('italic');\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    Italic.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        if (editor.cmd.queryCommandState('italic')) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return Italic;\n}(BtnMenu_1.default));\nexports.default = Italic;\n","\"use strict\";\n/**\n * @description 下划线 underline\n * @author dyl\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Underline = /** @class */ (function (_super) {\n    __extends(Underline, _super);\n    function Underline(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-underline\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 点击事件\n     */\n    Underline.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var isSelectEmpty = editor.selection.isSelectionEmpty();\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n        // 执行 Underline 命令\n        editor.cmd.do('underline');\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    Underline.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        if (editor.cmd.queryCommandState('underline')) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return Underline;\n}(BtnMenu_1.default));\nexports.default = Underline;\n","\"use strict\";\n/**\n * @description 删除线\n * @author lkw\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar StrikeThrough = /** @class */ (function (_super) {\n    __extends(StrikeThrough, _super);\n    function StrikeThrough(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-strikethrough\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 点击事件\n     */\n    StrikeThrough.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var isSelectEmpty = editor.selection.isSelectionEmpty();\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n        // 执行 strikeThrough 命令\n        editor.cmd.do('strikeThrough');\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    StrikeThrough.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        if (editor.cmd.queryCommandState('strikeThrough')) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return StrikeThrough;\n}(BtnMenu_1.default));\nexports.default = StrikeThrough;\n","\"use strict\";\n/**\n * @description 字体样式 FontStyle\n * @author dyl\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar FontStyleList_1 = __importDefault(require(\"./FontStyleList\"));\nvar FontStyle = /** @class */ (function (_super) {\n    __extends(FontStyle, _super);\n    function FontStyle(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-font\\\"></i>\\n            </div>\");\n        var fontStyleList = new FontStyleList_1.default(editor.config.fontNames);\n        var fontListConf = {\n            width: 100,\n            title: '设置字体',\n            type: 'list',\n            list: fontStyleList.getItemList(),\n            clickHandler: function (value) {\n                // this 是指向当前的 FontStyle 对象\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, fontListConf) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    FontStyle.prototype.command = function (value) {\n        var editor = this.editor;\n        editor.cmd.do('fontName', value);\n    };\n    /**\n     * 尝试修改菜单激活状态\n     * ?字体是否需要有激活状态这个操作?\n     */\n    FontStyle.prototype.tryChangeActive = function () {\n        // const editor = this.editor\n        // const cmdValue = editor.cmd.queryCommandValue('fontName')\n        // if (menusConfig.fontNames.indexOf(cmdValue) >= 0) {\n        //     this.active()\n        // } else {\n        //     this.unActive()\n        // }\n    };\n    return FontStyle;\n}(DropListMenu_1.default));\nexports.default = FontStyle;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @description 字体 class\n * @author dyl\n */\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\n/**\n * 封装的一个字体菜单列表数据的组装对象,\n * 原因是因为在constructor函数中,直接执行此流程,会让代码量看起来较多,\n * 如果要在constructor调用外部函数,个人目前发现会有错误提示,\n * 因此,想着顺便研究实践下ts,遍创建了这样一个类\n */\nvar FontStyleList = /** @class */ (function () {\n    function FontStyleList(list) {\n        var _this = this;\n        this.itemList = [];\n        list.forEach(function (fontValue) {\n            _this.itemList.push({\n                $elem: dom_core_1.default(\"<p style=\\\"font-family:'\" + fontValue + \"'\\\">\" + fontValue + \"</p>\"),\n                value: fontValue,\n            });\n        });\n    }\n    FontStyleList.prototype.getItemList = function () {\n        return this.itemList;\n    };\n    return FontStyleList;\n}());\nexports.default = FontStyleList;\n","\"use strict\";\n/**\n * @description 字号 FontSize\n * @author lkw\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar FontSizeList_1 = __importDefault(require(\"./FontSizeList\"));\nvar FontSize = /** @class */ (function (_super) {\n    __extends(FontSize, _super);\n    function FontSize(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-text-heigh\\\"></i>\\n            </div>\");\n        var fontStyleList = new FontSizeList_1.default(editor.config.fontSizes);\n        var fontListConf = {\n            width: 160,\n            title: '设置字号',\n            type: 'list',\n            list: fontStyleList.getItemList(),\n            clickHandler: function (value) {\n                // this 是指向当前的 FontSize 对象\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, fontListConf) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    FontSize.prototype.command = function (value) {\n        var editor = this.editor;\n        editor.cmd.do('fontSize', value);\n    };\n    /**\n     * 尝试修改菜单激活状态\n     * ?字号是否需要有激活状态这个操作?\n     */\n    FontSize.prototype.tryChangeActive = function () { };\n    return FontSize;\n}(DropListMenu_1.default));\nexports.default = FontSize;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @description 字号 class\n * @author lkw\n */\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\n/**\n * FontSizeList 字号配置列表\n */\nvar FontSizeList = /** @class */ (function () {\n    function FontSizeList(list) {\n        this.itemList = [];\n        for (var key in list) {\n            var item = list[key];\n            this.itemList.push({\n                $elem: dom_core_1.default(\"<p style=\\\"font-size:\" + key + \"\\\">\" + item.name + \"</p>\"),\n                value: item.value,\n            });\n        }\n    }\n    FontSizeList.prototype.getItemList = function () {\n        return this.itemList;\n    };\n    return FontSizeList;\n}());\nexports.default = FontSizeList;\n","\"use strict\";\n/**\n * @description 对齐方式\n * @author liuwei\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Justify = /** @class */ (function (_super) {\n    __extends(Justify, _super);\n    function Justify(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default('<div class=\"w-e-menu\"><i class=\"w-e-icon-paragraph-left\"></i></div>');\n        var dropListConf = {\n            width: 100,\n            title: '对齐方式',\n            type: 'list',\n            list: [\n                {\n                    $elem: dom_core_1.default(\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-left w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.靠左') + \"\\n                        </p>\"),\n                    value: 'justifyLeft',\n                },\n                {\n                    $elem: dom_core_1.default(\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-center w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.居中') + \"\\n                        </p>\"),\n                    value: 'justifyCenter',\n                },\n                {\n                    $elem: dom_core_1.default(\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-right w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.靠右') + \"\\n                        </p>\"),\n                    value: 'justifyRight',\n                },\n                {\n                    $elem: dom_core_1.default(\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-justify w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.两端') + \"\\n                        </p>\"),\n                    value: 'justifyFull',\n                },\n            ],\n            clickHandler: function (value) {\n                // 执行对应的value操作\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, dropListConf) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    Justify.prototype.command = function (value) {\n        var editor = this.editor;\n        var selection = editor.selection;\n        var $selectionElem = selection.getSelectionContainerElem();\n        // 保存选区\n        selection.saveRange();\n        // 数据项\n        var justifyClass = {\n            justifyLeft: 'left',\n            justifyCenter: 'center',\n            justifyRight: 'right',\n            justifyFull: 'justify',\n        };\n        // 获取顶级元素\n        var $elems = editor.selection.getSelectionRangeTopNodes(editor);\n        // 选区等于textElem时表示选择了多个段落\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            // 获取在css中对应style的值\n            var justifyValue_1 = justifyClass[value];\n            $elems.forEach(function (el) {\n                el.css('text-align', justifyValue_1);\n            });\n        }\n        else {\n            // 如果单行的使用execcommand实现\n            editor.cmd.do(value, value);\n        }\n        //恢复选区\n        selection.restoreSelection();\n    };\n    /**\n     * 尝试改变菜单激活（高亮）状态\n     * 默认左对齐,若选择其他对其方式对active进行高亮否则unActive\n     * ?考虑优化的话 是否可以对具体选中的进行高亮\n     */\n    Justify.prototype.tryChangeActive = function () {\n        // const editor = this.editor\n        // let isjustify = ['justifyCenter', 'justifyRight'].some(e => editor.cmd.queryCommandState(e))\n        // if (isjustify) {\n        //     this.active()\n        // } else {\n        //     this.unActive()\n        // }\n    };\n    return Justify;\n}(DropListMenu_1.default));\nexports.default = Justify;\n","\"use strict\";\n/**\n * @description 引用\n * @author tonghan\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar util_1 = require(\"../../utils/util\");\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar Quote = /** @class */ (function (_super) {\n    __extends(Quote, _super);\n    function Quote(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-quotes-left\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 点击事件\n     */\n    Quote.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var isSelectEmpty = editor.selection.isSelectionEmpty();\n        var $topNodeElem = editor.selection.getSelectionRangeTopNodes(editor)[0];\n        var nodeName = this.getTopNodeName();\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n        if (util_1.UA.isIE() || util_1.UA.isFirefox || util_1.UA.isOldEdge) {\n            // IE 中不支持 formatBlock <BLOCKQUOTE> ，要用其他方式兼容\n            // 兼容firefox无法取消blockquote的问题\n            var nodeList = $topNodeElem.getNode().childNodes;\n            if (nodeName === 'P') {\n                // 将 P 转换为 quote\n                var $targetELem = dom_core_1.default(\"<blockquote></blockquote>\");\n                var targetElem = $targetELem.getNode();\n                this.insertNode(targetElem, nodeList);\n                $targetELem.insertAfter($topNodeElem);\n                $topNodeElem.remove();\n                editor.selection.moveCursor($targetELem.getNode());\n                // 防止最后一行无法跳出\n                dom_core_1.default(\"<p><br></p>\").insertAfter($targetELem);\n                return;\n            }\n            if (nodeName === 'BLOCKQUOTE') {\n                // 撤销 quote\n                var $targetELem = dom_core_1.default(\"<p></p>\");\n                var targetElem = $targetELem.getNode();\n                this.insertNode(targetElem, nodeList);\n                $targetELem.insertAfter($topNodeElem);\n                $topNodeElem.remove();\n                editor.selection.moveCursor($targetELem.elems[0]);\n            }\n        }\n        else {\n            // 执行 formatBlock 命令\n            if (nodeName === 'BLOCKQUOTE') {\n                editor.cmd.do('formatBlock', '<p>');\n            }\n            else {\n                editor.cmd.do('formatBlock', '<blockquote>');\n            }\n        }\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    Quote.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        var cmdValue = editor.cmd.queryCommandValue('formatBlock');\n        if (cmdValue === 'blockquote') {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    /**\n     * 获取包裹在最外层的节点(防止内部嵌入多个样式)\n     * @param selectionElem 选中的节点\n     * @returns {string} 最终要处理的节点名称\n     */\n    Quote.prototype.getTopNodeName = function () {\n        var editor = this.editor;\n        var $topNodeElem = editor.selection.getSelectionRangeTopNodes(editor)[0];\n        var nodeName = $topNodeElem.getNodeName();\n        return nodeName;\n    };\n    /**\n     * 将nodelist插入element中，并做一些特殊化处理\n     * @param element 需要插入的父节点\n     * @param nodeList 需要插入的nodelist\n     */\n    Quote.prototype.insertNode = function (element, nodeList) {\n        nodeList.forEach(function (node, i) {\n            // 去除空节点\n            if (node.nodeName && node.textContent !== null) {\n                if (node.nodeName !== 'BR' || i !== nodeList.length - 1) {\n                    // 去除最后的br\n                    element.appendChild(node.cloneNode(true));\n                }\n            }\n        });\n    };\n    return Quote;\n}(BtnMenu_1.default));\nexports.default = Quote;\n","\"use strict\";\n/**\n * @description 背景颜色 BackColor\n * @author lkw\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar BackColor = /** @class */ (function (_super) {\n    __extends(BackColor, _super);\n    function BackColor(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-paint-brush\\\"></i>\\n            </div>\");\n        var colorListConf = {\n            width: 120,\n            title: '背景颜色',\n            // droplist 内容以 block 形式展示\n            type: 'inline-block',\n            list: editor.config.colors.map(function (color) {\n                return {\n                    $elem: dom_core_1.default(\"<i style=\\\"color:\" + color + \";\\\" class=\\\"w-e-icon-paint-brush\\\"></i>\"),\n                    value: color,\n                };\n            }),\n            clickHandler: function (value) {\n                // this 是指向当前的 BackColor 对象\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, colorListConf) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    BackColor.prototype.command = function (value) {\n        var editor = this.editor;\n        editor.cmd.do('backColor', value);\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    BackColor.prototype.tryChangeActive = function () { };\n    return BackColor;\n}(DropListMenu_1.default));\nexports.default = BackColor;\n","\"use strict\";\n/**\n * @description 文字颜色 FontColor\n * @author lkw\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar FontColor = /** @class */ (function (_super) {\n    __extends(FontColor, _super);\n    function FontColor(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-pencil2\\\"></i>\\n            </div>\");\n        var colorListConf = {\n            width: 120,\n            title: '文字颜色',\n            // droplist 内容以 block 形式展示\n            type: 'inline-block',\n            list: editor.config.colors.map(function (color) {\n                return {\n                    $elem: dom_core_1.default(\"<i style=\\\"color:\" + color + \";\\\" class=\\\"w-e-icon-pencil2\\\"></i>\"),\n                    value: color,\n                };\n            }),\n            clickHandler: function (value) {\n                // this 是指向当前的 BackColor 对象\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, colorListConf) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    FontColor.prototype.command = function (value) {\n        var editor = this.editor;\n        editor.cmd.do('foreColor', value);\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    FontColor.prototype.tryChangeActive = function () { };\n    return FontColor;\n}(DropListMenu_1.default));\nexports.default = FontColor;\n","\"use strict\";\n/**\n * @description 视频 菜单\n * @author tonghan\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Panel_1 = __importDefault(require(\"../menu-constructors/Panel\"));\nvar PanelMenu_1 = __importDefault(require(\"../menu-constructors/PanelMenu\"));\nvar create_panel_conf_1 = __importDefault(require(\"./create-panel-conf\"));\nvar Video = /** @class */ (function (_super) {\n    __extends(Video, _super);\n    function Video(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-play\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 菜单点击事件\n     */\n    Video.prototype.clickHandler = function () {\n        // 弹出 panel\n        this.createPanel('');\n    };\n    /**\n     * 创建 panel\n     * @param link 链接\n     */\n    Video.prototype.createPanel = function (iframe) {\n        var conf = create_panel_conf_1.default(this.editor, iframe);\n        var panel = new Panel_1.default(this, conf);\n        panel.create();\n    };\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    Video.prototype.tryChangeActive = function () { };\n    return Video;\n}(PanelMenu_1.default));\nexports.default = Video;\n","\"use strict\";\n/**\n * @description video 菜单 panel tab 配置\n * @author tonghan\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../utils/util\");\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nfunction default_1(editor, video) {\n    // panel 中需要用到的id\n    var inputIFrameId = util_1.getRandom('input-iframe');\n    var btnOkId = util_1.getRandom('btn-ok');\n    /**\n     * 插入链接\n     * @param iframe html标签\n     */\n    function insertVideo(video) {\n        editor.cmd.do('insertHTML', video + '<p><br></p>');\n    }\n    var conf = {\n        width: 300,\n        height: 0,\n        // panel 中可包含多个 tab\n        tabs: [\n            {\n                // tab 的标题\n                title: editor.i18next.t('menus.panelMenus.video.插入视频'),\n                // 模板\n                tpl: \"<div>\\n                        <input \\n                            id=\\\"\" + inputIFrameId + \"\\\" \\n                            type=\\\"text\\\" \\n                            class=\\\"block\\\" \\n                            placeholder=\\\"\" + editor.i18next.t('如') + \"\\uFF1A<iframe src=... ></iframe>\\\"/>\\n                        </td>\\n                        <div class=\\\"w-e-button-container\\\">\\n                            <button id=\\\"\" + btnOkId + \"\\\" class=\\\"right\\\">\\n                                \" + editor.i18next.t('插入') + \"\\n                            </button>\\n                        </div>\\n                    </div>\",\n                // 事件绑定\n                events: [\n                    // 插入视频\n                    {\n                        selector: '#' + btnOkId,\n                        type: 'click',\n                        fn: function () {\n                            // 执行插入视频\n                            var $video = dom_core_1.default('#' + inputIFrameId);\n                            var video = $video.val().trim();\n                            // 视频为空，则不插入\n                            if (!video)\n                                return;\n                            insertVideo(video);\n                            // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                            return true;\n                        },\n                    },\n                ],\n            },\n        ],\n    };\n    return conf;\n}\nexports.default = default_1;\n","\"use strict\";\n/**\n * @description 插入、上传图片\n * @author wangfupeng\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PanelMenu_1 = __importDefault(require(\"../menu-constructors/PanelMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar create_panel_conf_1 = __importDefault(require(\"./create-panel-conf\"));\nvar Panel_1 = __importDefault(require(\"../menu-constructors/Panel\"));\nvar index_1 = __importDefault(require(\"./bind-event/index\"));\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default('<div class=\"w-e-menu\"><i class=\"w-e-icon-image\"></i></div>');\n        _this = _super.call(this, $elem, editor) || this;\n        // 绑定事件，如粘贴图片\n        index_1.default(editor);\n        return _this;\n    }\n    /**\n     * 菜单点击事件\n     */\n    Image.prototype.clickHandler = function () {\n        this.createPanel();\n    };\n    /**\n     * 创建 panel\n     */\n    Image.prototype.createPanel = function () {\n        var conf = create_panel_conf_1.default(this.editor);\n        var panel = new Panel_1.default(this, conf);\n        panel.create();\n    };\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    Image.prototype.tryChangeActive = function () { };\n    return Image;\n}(PanelMenu_1.default));\nexports.default = Image;\n","\"use strict\";\n/**\n * @description image 菜单 panel tab 配置\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../utils/util\");\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar upload_img_1 = __importDefault(require(\"./upload-img\"));\nvar const_1 = require(\"../../utils/const\");\nfunction default_1(editor) {\n    var config = editor.config;\n    var uploadImg = new upload_img_1.default(editor);\n    // panel 中需要用到的id\n    var upTriggerId = util_1.getRandom('up-trigger-id');\n    var upFileId = util_1.getRandom('up-file-id');\n    var linkUrlId = util_1.getRandom('input-link-url');\n    var linkBtnId = util_1.getRandom('btn-link');\n    var i18nPrefix = 'menus.panelMenus.image.';\n    var t = function (text, prefix) {\n        if (prefix === void 0) { prefix = i18nPrefix; }\n        return editor.i18next.t(prefix + text);\n    };\n    /**\n     * 校验网络图片链接是否合法\n     * @param linkImg 网络图片链接\n     */\n    function checkLinkImg(src) {\n        //编辑器进行正常校验，图片合规则使指针为true，不合规为false\n        var flag = true;\n        if (!const_1.imgRegex.test(src)) {\n            flag = false;\n        }\n        //查看开发者自定义配置的返回值\n        var check = config.linkImgCheck(src);\n        if (check === undefined) {\n            //用户未能通过开发者的校验，且开发者不希望编辑器提示用户\n            if (flag === false)\n                console.log(t('您刚才插入的图片链接未通过编辑器校验', 'validate.'));\n        }\n        else if (check === true) {\n            //用户通过了开发者的校验\n            if (flag === false) {\n                alert(t('您插入的网络图片无法识别', 'validate.') + \"\\uFF0C\" + t('请替换为支持的图片类型', 'validate.') + \"\\uFF1Ajpg | png | gif ...\");\n            }\n            else\n                return true;\n        }\n        else {\n            //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n            alert(check);\n        }\n        return false;\n    }\n    // tabs 配置 -----------------------------------------\n    var fileMultipleAttr = config.uploadImgMaxLength === 1 ? '' : 'multiple=\"multiple\"';\n    var tabsConf = [\n        // first tab\n        {\n            // 标题\n            title: t('上传图片'),\n            // 模板\n            tpl: \"<div class=\\\"w-e-up-img-container\\\">\\n                    <div id=\\\"\" + upTriggerId + \"\\\" class=\\\"w-e-up-btn\\\">\\n                        <i class=\\\"w-e-icon-upload2\\\"></i>\\n                    </div>\\n                    <div style=\\\"display:none;\\\">\\n                        <input id=\\\"\" + upFileId + \"\\\" type=\\\"file\\\" \" + fileMultipleAttr + \" accept=\\\"image/jpg,image/jpeg,image/png,image/gif,image/bmp\\\"/>\\n                    </div>\\n                </div>\",\n            // 事件绑定\n            events: [\n                // 触发选择图片\n                {\n                    selector: '#' + upTriggerId,\n                    type: 'click',\n                    fn: function () {\n                        var $file = dom_core_1.default('#' + upFileId);\n                        var fileElem = $file.elems[0];\n                        if (fileElem) {\n                            fileElem.click();\n                        }\n                        else {\n                            // 返回 true 可关闭 panel\n                            return true;\n                        }\n                    },\n                },\n                // 选择图片完毕\n                {\n                    selector: '#' + upFileId,\n                    type: 'change',\n                    fn: function () {\n                        var $file = dom_core_1.default('#' + upFileId);\n                        var fileElem = $file.elems[0];\n                        if (!fileElem) {\n                            // 返回 true 可关闭 panel\n                            return true;\n                        }\n                        // 获取选中的 file 对象列表\n                        var fileList = fileElem.files;\n                        if (fileList.length) {\n                            uploadImg.uploadImg(fileList);\n                        }\n                        // 返回 true 可关闭 panel\n                        return true;\n                    },\n                },\n            ],\n        },\n        // second tab\n        {\n            title: t('网络图片'),\n            tpl: \"<div>\\n                    <input \\n                        id=\\\"\" + linkUrlId + \"\\\" \\n                        type=\\\"text\\\" \\n                        class=\\\"block\\\"\\n                        placeholder=\\\"\" + t('图片链接') + \"\\\"/>\\n                    </td>\\n                    <div class=\\\"w-e-button-container\\\">\\n                        <button id=\\\"\" + linkBtnId + \"\\\" class=\\\"right\\\">\" + t('插入', '') + \"</button>\\n                    </div>\\n                </div>\",\n            events: [\n                {\n                    selector: '#' + linkBtnId,\n                    type: 'click',\n                    fn: function () {\n                        var $linkUrl = dom_core_1.default('#' + linkUrlId);\n                        var url = $linkUrl.val().trim();\n                        //如果url为空则直接返回\n                        if (!url)\n                            return;\n                        //如果不能通过校验也直接返回\n                        if (!checkLinkImg(url))\n                            return;\n                        //插入图片url\n                        uploadImg.insertImg(url);\n                        // 返回 true 表示函数执行结束之后关闭 panel\n                        return true;\n                    },\n                },\n            ],\n        },\n    ];\n    // tabs end\n    // 最终的配置 -----------------------------------------\n    var conf = {\n        width: 300,\n        height: 0,\n        tabs: [],\n    };\n    // 显示“上传图片”\n    if (window.FileReader &&\n        (config.uploadImgShowBase64 || config.uploadImgServer || config.customUploadImg)) {\n        conf.tabs.push(tabsConf[0]);\n    }\n    // 显示“插入网络图片”\n    if (config.showLinkImg) {\n        conf.tabs.push(tabsConf[1]);\n    }\n    return conf;\n}\nexports.default = default_1;\n","\"use strict\";\n/**\n * @description 上传的核心方法\n * @author wangfupeng\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../utils/util\");\n/**\n * 发送 post 请求（用于文件上传）\n * @param url url\n * @param option 配置项\n */\nfunction post(url, option) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', url);\n    // 超时，默认 10s\n    xhr.timeout = option.timeout || 10 * 1000;\n    xhr.ontimeout = function () {\n        console.error('wangEditor - 请求超时');\n        option.onTimeout && option.onTimeout(xhr);\n    };\n    // 进度\n    if (xhr.upload) {\n        xhr.upload.onprogress = function (e) {\n            var percent = e.loaded / e.total;\n            option.onProgress && option.onProgress(percent, e);\n        };\n    }\n    // 自定义 header\n    if (option.headers) {\n        util_1.forEach(option.headers, function (key, val) {\n            xhr.setRequestHeader(key, val);\n        });\n    }\n    // 跨域传 cookie\n    xhr.withCredentials = !!option.withCredentials;\n    // 上传之前的钩子函数，在 xhr.send() 之前执行\n    if (option.beforeSend) {\n        var beforeResult = option.beforeSend(xhr);\n        if (beforeResult && typeof beforeResult === 'object') {\n            if (beforeResult.prevent) {\n                // 如果返回的结果是 {prevent: true, msg: 'xxxx'} 则表示用户放弃上传\n                return beforeResult.msg;\n            }\n        }\n    }\n    // 服务端返回之后\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState !== 4)\n            return;\n        var status = xhr.status;\n        if (status < 200)\n            return; // 请求发送过程中，尚未返回\n        if (status >= 300 && status < 400)\n            return; // 重定向\n        if (status >= 400) {\n            // 40x 50x 报错\n            console.error('wangEditor - XHR 报错，状态码 ' + status);\n            if (option.onError)\n                option.onError(xhr); // 有，则执行 onError 函数即可\n            return;\n        }\n        // status = 200 ，得到结果\n        var resultStr = xhr.responseText;\n        var result;\n        if (typeof resultStr !== 'object') {\n            try {\n                result = JSON.parse(resultStr);\n            }\n            catch (ex) {\n                console.error('wangEditor - 返回结果不是 JSON 格式', resultStr);\n                if (option.onFail)\n                    option.onFail(xhr, resultStr);\n                return;\n            }\n        }\n        else {\n            result = resultStr;\n        }\n        option.onSuccess(xhr, result);\n    };\n    // 发送请求\n    xhr.send(option.formData || null);\n    return xhr;\n}\nexports.default = post;\n","\"use strict\";\n/**\n * @description 上传进度条\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar Progress = /** @class */ (function () {\n    function Progress(editor) {\n        this.editor = editor;\n        this.$textContainer = editor.$textContainerElem;\n        this.$bar = dom_core_1.default('<div class=\"w-e-progress\"></div>');\n        this.isShow = false;\n        this.time = 0;\n        this.timeoutId = 0;\n    }\n    /**\n     * 显示进度条\n     * @param progress 进度百分比\n     */\n    Progress.prototype.show = function (progress) {\n        var _this = this;\n        // 不要重新显示\n        if (this.isShow) {\n            return;\n        }\n        this.isShow = true;\n        // 渲染 $bar\n        var $bar = this.$bar;\n        var $textContainer = this.$textContainer;\n        $textContainer.append($bar);\n        // 改变进度条（防抖，100ms 渲染一次）\n        if (Date.now() - this.time > 100) {\n            if (progress <= 1) {\n                $bar.css('width', progress * 100 + '%');\n                this.time = Date.now();\n            }\n        }\n        // 500ms 之后隐藏\n        var timeoutId = this.timeoutId;\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        this.timeoutId = window.setTimeout(function () {\n            _this.hide();\n        }, 500);\n    };\n    /**\n     * 隐藏\n     */\n    Progress.prototype.hide = function () {\n        var $bar = this.$bar;\n        $bar.remove();\n        this.isShow = false;\n        this.time = 0;\n        this.timeoutId = 0;\n    };\n    return Progress;\n}());\nexports.default = Progress;\n","module.exports = require(\"core-js-pure/stable/date/now\");","var parent = require('../../es/date/now');\n\nmodule.exports = parent;\n","require('../../modules/es.date.now');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Date.now;\n","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.github.io/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n","\"use strict\";\n/**\n * @description 绑定图片的事件\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar paste_img_1 = __importDefault(require(\"./paste-img\"));\nvar drop_img_1 = __importDefault(require(\"./drop-img\"));\nvar drag_size_1 = __importDefault(require(\"./drag-size\"));\nvar tooltip_event_1 = __importDefault(require(\"./tooltip-event\"));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor) {\n    // 粘贴图片\n    paste_img_1.default(editor);\n    // 拖拽图片\n    drop_img_1.default(editor);\n    // 可再扩展其他事件...如图片 tooltip 等\n    // 拖拽图片尺寸\n    drag_size_1.default(editor);\n    //Tooltip\n    tooltip_event_1.default(editor);\n}\nexports.default = bindEvent;\n","\"use strict\";\n/**\n * @description 粘贴图片\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar paste_event_1 = require(\"../../../text/paste/paste-event\");\nvar upload_img_1 = __importDefault(require(\"../upload-img\"));\n/**\n * 剪切板是否有 text 或者 html ？\n * @param editor 编辑器对象\n * @param e 粘贴事件参数\n */\nfunction _haveTextOrHtml(editor, e) {\n    var config = editor.config;\n    var pasteFilterStyle = config.pasteFilterStyle;\n    var pasteIgnoreImg = config.pasteIgnoreImg;\n    var pasteHtml = paste_event_1.getPasteHtml(e, pasteFilterStyle, pasteIgnoreImg);\n    var pasteText = paste_event_1.getPasteText(e);\n    if (pasteHtml)\n        return true;\n    if (pasteText)\n        return true;\n    return false; // text html 都没有，则返回 false\n}\n/**\n * 粘贴图片事件方法\n * @param e 事件参数\n */\nfunction pasteImgHandler(e, editor) {\n    if (_haveTextOrHtml(editor, e)) {\n        // 粘贴过来的有 text 或者 html ，则不执行粘贴图片逻辑\n        return;\n    }\n    // 获取粘贴的图片列表\n    var pastedFiles = paste_event_1.getPasteImgs(e);\n    if (!pastedFiles.length) {\n        return;\n    }\n    // code 中忽略（暂不管它）\n    // 执行上传\n    var uploadImg = new upload_img_1.default(editor);\n    uploadImg.uploadImg(pastedFiles);\n}\n/**\n * 粘贴图片\n * @param editor 编辑器对象\n * @param pasteEvents 粘贴事件列表\n */\nfunction bindPasteImg(editor) {\n    // 绑定 paste 事件\n    editor.txt.eventHooks.pasteEvents.push(function (e) {\n        pasteImgHandler(e, editor);\n    });\n}\nexports.default = bindPasteImg;\n","\"use strict\";\n/**\n * @description 拖拽上传图片\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar upload_img_1 = __importDefault(require(\"../upload-img\"));\nfunction bindDropImg(editor) {\n    /**\n     * 拖拽图片的事件\n     * @param e 事件参数\n     */\n    function dropImgHandler(e) {\n        var files = e.dataTransfer && e.dataTransfer.files;\n        if (!files || !files.length) {\n            return;\n        }\n        // 上传图片\n        var uploadImg = new upload_img_1.default(editor);\n        uploadImg.uploadImg(files);\n    }\n    // 绑定 drop 事件\n    editor.txt.eventHooks.dropEvents.push(dropImgHandler);\n}\nexports.default = bindDropImg;\n","\"use strict\";\n/**\n * @description 图片拖拽事件绑定\n * @author xiaokyo\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../../utils/dom-core\"));\nrequire(\"../../../assets/style/drag-size.less\");\nvar util_1 = require(\"../../../utils/util\");\n/**\n * 设置拖拽框的rect\n * @param $drag drag Dom\n * @param width 要设置的宽度\n * @param height 要设置的高度\n * @param left 要设置的左边\n * @param top 要设置的顶部距离\n */\nfunction setDragStyle($drag, width, height, left, top) {\n    $drag.attr('style', \"width:\" + width + \"px; height:\" + height + \"px; left:\" + left + \"px; top:\" + top + \"px;\");\n}\n/**\n * 生成一个图片指定大小的拖拽框\n * @param editor 编辑器实例\n * @param $textContainerElem 编辑框对象\n */\nfunction createDragBox(editor, $textContainerElem) {\n    var $drag = dom_core_1.default(\"<div class=\\\"w-e-img-drag-mask\\\">\\n            <div class=\\\"w-e-img-drag-show-size\\\"></div>\\n            <div class=\\\"w-e-img-drag-rb\\\"></div>\\n         </div>\");\n    $drag.hide();\n    $textContainerElem.append($drag);\n    return $drag;\n}\n/**\n * 显示拖拽框并设置宽度\n * @param $textContainerElem 编辑框实例\n * @param $drag 拖拽框对象\n */\nfunction showDargBox($textContainerElem, $drag, $img) {\n    var boxRect = $textContainerElem.getBoundingClientRect();\n    var rect = $img.getBoundingClientRect();\n    var rectW = rect.width.toFixed(2);\n    var rectH = rect.height.toFixed(2);\n    $drag.find('.w-e-img-drag-show-size').text(rectW + \"px * \" + rectH + \"px\");\n    setDragStyle($drag, parseFloat(rectW), parseFloat(rectH), rect.left - boxRect.left, rect.top - boxRect.top);\n    $drag.show();\n}\n/**\n * 生成图片拖拽框的 显示/隐藏 函数\n */\nfunction createShowHideFn(editor) {\n    var $textContainerElem = editor.$textContainerElem;\n    var $imgTarget;\n    // 生成拖拽框\n    var $drag = createDragBox(editor, $textContainerElem);\n    /**\n     * 设置拖拽事件\n     * @param $drag 拖拽框的domElement\n     * @param $textContainerElem 编辑器实例\n     */\n    function bindDragEvents($drag, $container) {\n        $drag.on('click', function (e) {\n            e.stopPropagation();\n        });\n        $drag.on('mousedown', '.w-e-img-drag-rb', function (e) {\n            // e.stopPropagation()\n            e.preventDefault();\n            if (!$imgTarget)\n                return;\n            var firstX = e.clientX;\n            var firstY = e.clientY;\n            var boxRect = $container.getBoundingClientRect();\n            var imgRect = $imgTarget.getBoundingClientRect();\n            var width = imgRect.width;\n            var height = imgRect.height;\n            var left = imgRect.left - boxRect.left;\n            var top = imgRect.top - boxRect.top;\n            var ratio = width / height;\n            var setW = width;\n            var setH = height;\n            var $document = dom_core_1.default(document);\n            function offEvents() {\n                $document.off('mousemove', mouseMoveHandler);\n                $document.off('mouseup', mouseUpHandler);\n            }\n            function mouseMoveHandler(ev) {\n                ev.stopPropagation();\n                ev.preventDefault();\n                setW = width + (ev.clientX - firstX);\n                setH = height + (ev.clientY - firstY);\n                // 等比计算\n                if (setW / setH != ratio) {\n                    setH = setW / ratio;\n                }\n                setW = parseFloat(setW.toFixed(2));\n                setH = parseFloat(setH.toFixed(2));\n                $drag\n                    .find('.w-e-img-drag-show-size')\n                    .text(setW.toFixed(2).replace('.00', '') + \"px * \" + setH\n                    .toFixed(2)\n                    .replace('.00', '') + \"px\");\n                setDragStyle($drag, setW, setH, left, top);\n            }\n            $document.on('mousemove', mouseMoveHandler);\n            function mouseUpHandler() {\n                $imgTarget.attr('width', setW + '');\n                $imgTarget.attr('height', setH + '');\n                var newImgRect = $imgTarget.getBoundingClientRect();\n                setDragStyle($drag, setW, setH, newImgRect.left - boxRect.left, newImgRect.top - boxRect.top);\n                // 解绑事件\n                offEvents();\n            }\n            $document.on('mouseup', mouseUpHandler);\n            // 解绑事件\n            $document.on('mouseleave', offEvents);\n        });\n    }\n    // 显示拖拽框\n    function showDrag($target) {\n        if (util_1.UA.isIE())\n            return false;\n        if ($target) {\n            $imgTarget = $target;\n            showDargBox($textContainerElem, $drag, $imgTarget);\n        }\n    }\n    // 隐藏拖拽框\n    function hideDrag() {\n        $textContainerElem.find('.w-e-img-drag-mask').hide();\n    }\n    // 事件绑定\n    bindDragEvents($drag, $textContainerElem);\n    // 后期改成 blur 触发\n    dom_core_1.default(document).on('click', hideDrag);\n    editor.beforeDestroy(function () {\n        dom_core_1.default(document).off('click', hideDrag);\n    });\n    return {\n        showDrag: showDrag,\n        hideDrag: hideDrag,\n    };\n}\n/**\n * 点击事件委托\n * @param editor 编辑器实例\n */\nfunction bindDragImgSize(editor) {\n    var _a = createShowHideFn(editor), showDrag = _a.showDrag, hideDrag = _a.hideDrag;\n    // 显示拖拽框\n    editor.txt.eventHooks.imgClickEvents.push(showDrag);\n    // 隐藏拖拽框\n    editor.txt.eventHooks.textScrollEvents.push(hideDrag);\n    editor.txt.eventHooks.keyupEvents.push(hideDrag);\n    editor.txt.eventHooks.toolbarClickEvents.push(hideDrag);\n    editor.txt.eventHooks.menuClickEvents.push(hideDrag);\n    editor.txt.eventHooks.changeEvents.push(hideDrag);\n}\nexports.default = bindDragImgSize;\n","module.exports = require(\"core-js-pure/stable/parse-float\");","var parent = require('../es/parse-float');\n\nmodule.exports = parent;\n","require('../modules/es.parse-float');\nvar path = require('../internals/path');\n\nmodule.exports = path.parseFloat;\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./drag-size.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-text-container {\\n  overflow: hidden;\\n}\\n.w-e-img-drag-mask {\\n  position: absolute;\\n  z-index: 1;\\n  border: 1px dashed #ccc;\\n  box-sizing: border-box;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-rb {\\n  position: absolute;\\n  right: -5px;\\n  bottom: -5px;\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  background: #ccc;\\n  cursor: se-resize;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-show-size {\\n  min-width: 110px;\\n  height: 22px;\\n  line-height: 22px;\\n  font-size: 14px;\\n  color: #999;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #999;\\n  color: #fff;\\n  border-radius: 2px;\\n  padding: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n/**\n * @description tooltip 事件\n * @author lichunlin\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../../utils/dom-core\"));\nvar Tooltip_1 = __importDefault(require(\"../../menu-constructors/Tooltip\"));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor) {\n    var tooltip;\n    /**\n     * 显示 tooltip\n     * @param $node 链接元素\n     */\n    function showImgTooltip($node) {\n        var conf = [\n            {\n                $elem: dom_core_1.default(\"<span class='w-e-icon-trash-o'></span>\"),\n                onClick: function (editor, $node) {\n                    // 选中img元素\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    editor.cmd.do('delete');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default('<span>30%</span>'),\n                onClick: function (editor, $node) {\n                    $node.attr('width', '30%');\n                    $node.removeAttr('height');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default('<span>50%</span>'),\n                onClick: function (editor, $node) {\n                    $node.attr('width', '50%');\n                    $node.removeAttr('height');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default('<span>100%</span>'),\n                onClick: function (editor, $node) {\n                    $node.attr('width', '100%');\n                    $node.removeAttr('height');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n        ];\n        tooltip = new Tooltip_1.default(editor, $node, conf);\n        tooltip.create();\n    }\n    /**\n     * 隐藏 tooltip\n     */\n    function hideImgTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove();\n            tooltip = null;\n        }\n    }\n    return {\n        showImgTooltip: showImgTooltip,\n        hideImgTooltip: hideImgTooltip,\n    };\n}\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nfunction bindTooltipEvent(editor) {\n    var _a = createShowHideFn(editor), showImgTooltip = _a.showImgTooltip, hideImgTooltip = _a.hideImgTooltip;\n    // 点击图片元素是，显示 tooltip\n    editor.txt.eventHooks.imgClickEvents.push(showImgTooltip);\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideImgTooltip);\n    editor.txt.eventHooks.keyupEvents.push(hideImgTooltip);\n    editor.txt.eventHooks.toolbarClickEvents.push(hideImgTooltip);\n    editor.txt.eventHooks.menuClickEvents.push(hideImgTooltip);\n    editor.txt.eventHooks.textScrollEvents.push(hideImgTooltip);\n    editor.txt.eventHooks.imgDragBarMouseDownEvents.push(hideImgTooltip);\n    // change 时隐藏\n    editor.txt.eventHooks.changeEvents.push(hideImgTooltip);\n}\nexports.default = bindTooltipEvent;\n","\"use strict\";\n/**\n * @description 增加缩进/减少缩进\n * @author tonghan\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar operate_element_1 = __importDefault(require(\"./operate-element\"));\nvar Indent = /** @class */ (function (_super) {\n    __extends(Indent, _super);\n    function Indent(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-indent-increase\\\"></i>\\n            </div>\");\n        var dropListConf = {\n            width: 130,\n            title: '设置缩进',\n            type: 'list',\n            list: [\n                {\n                    $elem: dom_core_1.default(\"<p>\\n                            <i class=\\\"w-e-icon-indent-increase w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.indent.增加缩进') + \"\\n                        <p>\"),\n                    value: 'increase',\n                },\n                {\n                    $elem: dom_core_1.default(\"<p>\\n                            <i class=\\\"w-e-icon-indent-decrease w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.indent.减少缩进') + \"\\n                        <p>\"),\n                    value: 'decrease',\n                },\n            ],\n            clickHandler: function (value) {\n                // 注意 this 是指向当前的 Indent 对象\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, dropListConf) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    Indent.prototype.command = function (value) {\n        var editor = this.editor;\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        // 判断 当前选区为 textElem 时\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            // 当 当前选区 等于 textElem 时\n            // 代表 当前选区 可能是一个选择了一个完整的段落或者多个段落\n            var $elems = editor.selection.getSelectionRangeTopNodes(editor);\n            if ($elems.length > 0) {\n                $elems.forEach(function (item) {\n                    operate_element_1.default(dom_core_1.default(item), value, editor);\n                });\n            }\n        }\n        else {\n            // 当 当前选区 不等于 textElem 时\n            // 代表 当前选区要么是一个段落，要么是段落中的一部分\n            if ($selectionElem && $selectionElem.length > 0) {\n                $selectionElem.forEach(function (item) {\n                    operate_element_1.default(dom_core_1.default(item), value, editor);\n                });\n            }\n        }\n        // 恢复选区\n        editor.selection.restoreSelection();\n        this.tryChangeActive();\n    };\n    /**\n     * 尝试改变菜单激活（高亮）状态\n     */\n    Indent.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        var $selectionElem = editor.selection.getSelectionStartElem();\n        var $selectionStartElem = dom_core_1.default($selectionElem).getNodeTop(editor);\n        if ($selectionStartElem.length <= 0)\n            return;\n        if ($selectionStartElem.elems[0].style['paddingLeft'] != '') {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return Indent;\n}(DropListMenu_1.default));\nexports.default = Indent;\n","\"use strict\";\n/**\n * @description 对节点 操作 进行封装\n *                  获取当前节点的段落\n *                  根据type判断是增加还是减少缩进\n * @author tonghan\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar increase_indent_style_1 = __importDefault(require(\"./increase-indent-style\"));\nvar decrease_indent_style_1 = __importDefault(require(\"./decrease-indent-style\"));\nvar lengthRegex = /^(\\d+)(\\w+)$/;\nvar percentRegex = /^(\\d+)%$/;\nfunction parseIndentation(editor) {\n    var indentation = editor.config.indentation;\n    if (typeof indentation === 'string') {\n        if (lengthRegex.test(indentation)) {\n            var _a = indentation.trim().match(lengthRegex).slice(1, 3), value = _a[0], unit = _a[1];\n            return {\n                value: Number(value),\n                unit: unit,\n            };\n        }\n        else if (percentRegex.test(indentation)) {\n            return {\n                value: Number(indentation.trim().match(percentRegex)[1]),\n                unit: '%',\n            };\n        }\n    }\n    else if (indentation.value !== void 0 && indentation.unit) {\n        return indentation;\n    }\n    return {\n        value: 2,\n        unit: 'em',\n    };\n}\nfunction operateElement($node, type, editor) {\n    var $elem = $node.getNodeTop(editor);\n    var reg = /^P$/i;\n    if (reg.test($elem.getNodeName())) {\n        if (type === 'increase')\n            increase_indent_style_1.default($elem, parseIndentation(editor));\n        else if (type === 'decrease')\n            decrease_indent_style_1.default($elem, parseIndentation(editor));\n    }\n}\nexports.default = operateElement;\n","\"use strict\";\n/**\n * @description 增加缩进\n * @author tonghan\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction increaseIndentStyle($node, options) {\n    var $elem = $node.elems[0];\n    if ($elem.style['paddingLeft'] === '') {\n        $node.css('padding-left', options.value + options.unit);\n    }\n    else {\n        var oldPL = $elem.style['paddingLeft'];\n        var oldVal = oldPL.slice(0, oldPL.length - options.unit.length);\n        var newVal = Number(oldVal) + options.value;\n        $node.css('padding-left', \"\" + newVal + options.unit);\n    }\n}\nexports.default = increaseIndentStyle;\n","\"use strict\";\n/**\n * @description 减少缩进\n * @author tonghan\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction decreaseIndentStyle($node, options) {\n    var $elem = $node.elems[0];\n    if ($elem.style['paddingLeft'] !== '') {\n        var oldPL = $elem.style['paddingLeft'];\n        var oldVal = oldPL.slice(0, oldPL.length - options.unit.length);\n        var newVal = Number(oldVal) - options.value;\n        if (newVal > 0) {\n            $node.css('padding-left', \"\" + newVal + options.unit);\n        }\n        else {\n            $node.css('padding-left', '');\n        }\n    }\n}\nexports.default = decreaseIndentStyle;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @description 插入表情\n * @author liuwe\n */\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar PanelMenu_1 = __importDefault(require(\"../menu-constructors/PanelMenu\"));\nvar Panel_1 = __importDefault(require(\"../menu-constructors/Panel\"));\nvar create_panel_conf_1 = __importDefault(require(\"./create-panel-conf\"));\nvar Emoticon = /** @class */ (function (_super) {\n    __extends(Emoticon, _super);\n    function Emoticon(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-happy\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 创建 panel\n     */\n    Emoticon.prototype.createPanel = function () {\n        var conf = create_panel_conf_1.default(this.editor);\n        var panel = new Panel_1.default(this, conf);\n        panel.create();\n    };\n    /**\n     * 菜单表情点击事件\n     */\n    Emoticon.prototype.clickHandler = function () {\n        this.createPanel();\n    };\n    Emoticon.prototype.tryChangeActive = function () { };\n    return Emoticon;\n}(PanelMenu_1.default));\nexports.default = Emoticon;\n","\"use strict\";\n/**\n * @description  表情菜单 panel配置\n * @author liuwei\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nfunction default_1(editor) {\n    // 声明emotions数据结构\n    var emotions = editor.config.emotions;\n    /* tabs配置项 ==================================================================*/\n    // 生成表情结构 TODO jele type类型待优化\n    function GenerateExpressionStructure(ele) {\n        // 返回为一个数组对象\n        var res = [];\n        // 如果type是image类型则生成一个img标签\n        if (ele.type == 'image') {\n            res = ele.content.map(function (con) {\n                if (typeof con == 'string')\n                    return '';\n                return \"<span  title=\\\"\" + con.alt + \"\\\">\\n                    <img class=\\\"eleImg\\\" style src=\\\"\" + con.src + \"\\\" alt=\\\"[\" + con.alt + \"]\\\">\\n                </span>\";\n            });\n            res = res.filter(function (s) { return s !== ''; });\n        }\n        //否则直接当内容处理\n        else {\n            res = ele.content.map(function (con) {\n                return \"<span class=\\\"eleImg\\\" title=\\\"\" + con + \"\\\">\" + con + \"</span>\";\n            });\n        }\n        return res.join('').replace(/&nbsp;/g, '');\n    }\n    var tabsConf = emotions.map(function (ele) {\n        return {\n            title: editor.i18next.t(\"menus.panelMenus.emoticon.\" + ele.title),\n            // 判断type类型如果是image则以img的形式插入否则以内容\n            tpl: \"<div>\" + GenerateExpressionStructure(ele) + \"</div>\",\n            events: [\n                {\n                    selector: '.eleImg',\n                    type: 'click',\n                    fn: function (e) {\n                        // e为事件对象\n                        var $target = dom_core_1.default(e.target);\n                        var nodeName = $target.getNodeName();\n                        var insertHtml;\n                        if (nodeName === 'IMG') {\n                            // 插入图片\n                            insertHtml = $target.parent().html().trim();\n                        }\n                        else {\n                            // 插入 emoji\n                            insertHtml = '<span>' + $target.html() + '</span>';\n                        }\n                        editor.cmd.do('insertHTML', insertHtml);\n                        // 示函数执行结束之后关闭 panel\n                        return true;\n                    },\n                },\n            ],\n        };\n    });\n    /* tabs配置项 =================================================================end*/\n    // 最终的配置 -----------------------------------------\n    var conf = {\n        width: 300,\n        height: 230,\n        tabs: tabsConf,\n    };\n    return conf;\n}\nexports.default = default_1;\n","\"use strict\";\n/**\n * @description 无序列表/有序列表\n * @author tonghan\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar List = /** @class */ (function (_super) {\n    __extends(List, _super);\n    function List(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-list2\\\"></i>\\n            </div>\");\n        var dropListConf = {\n            width: 130,\n            title: '序列',\n            type: 'list',\n            list: [\n                {\n                    $elem: dom_core_1.default(\"\\n                        <p>\\n                            <i class=\\\"w-e-icon-list2 w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.list.无序列表') + \"\\n                        <p>\"),\n                    value: 'insertUnorderedList',\n                },\n                {\n                    $elem: dom_core_1.default(\"<p>\\n                            <i class=\\\"w-e-icon-list-numbered w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.list.有序列表') + \"\\n                        <p>\"),\n                    value: 'insertOrderedList',\n                },\n            ],\n            clickHandler: function (value) {\n                // 注意 this 是指向当前的 List 对象\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, dropListConf) || this;\n        return _this;\n    }\n    List.prototype.command = function (value) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        editor.selection.restoreSelection();\n        // 判断是否已经执行了命令\n        if (editor.cmd.queryCommandState(value)) {\n            return;\n        }\n        //禁止在table中添加列表\n        var $selectionElem = dom_core_1.default(editor.selection.getSelectionContainerElem());\n        var $dom = dom_core_1.default($selectionElem.elems[0]).parentUntil('TABLE', $selectionElem.elems[0]);\n        if ($dom && dom_core_1.default($dom.elems[0]).getNodeName() === 'TABLE') {\n            return;\n        }\n        editor.cmd.do(value);\n        // 验证列表是否被包裹在 <p> 之内\n        if ($selectionElem.getNodeName() === 'LI') {\n            $selectionElem = $selectionElem.parent();\n        }\n        if (/^ol|ul$/i.test($selectionElem.getNodeName()) === false) {\n            return;\n        }\n        if ($selectionElem.equal($textElem)) {\n            // 证明是顶级标签，没有被 <p> 包裹\n            return;\n        }\n        var $parent = $selectionElem.parent();\n        if ($parent.equal($textElem)) {\n            // $parent 是顶级标签，不能删除\n            return;\n        }\n        $selectionElem.insertAfter($parent);\n        $parent.remove();\n        // 恢复选区\n        editor.selection.restoreSelection();\n        this.tryChangeActive();\n    };\n    List.prototype.tryChangeActive = function () { };\n    return List;\n}(DropListMenu_1.default));\nexports.default = List;\n","\"use strict\";\n/**\n * @description 段落行高 LineHeight\n * @author lichunlin\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DropListMenu_1 = __importDefault(require(\"../menu-constructors/DropListMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar lineHeightList_1 = __importDefault(require(\"./lineHeightList\"));\nvar util_1 = require(\"../../utils/util\");\nvar LineHeight = /** @class */ (function (_super) {\n    __extends(LineHeight, _super);\n    function LineHeight(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                    <i class=\\\"w-e-icon-row-height\\\"></i>\\n                </div>\");\n        var lineHeightMenu = new lineHeightList_1.default(editor, editor.config.lineHeights);\n        var DropListMenu = {\n            width: 100,\n            title: '设置行高',\n            type: 'list',\n            list: lineHeightMenu.getItemList(),\n            clickHandler: function (value) {\n                //保存焦点\n                editor.selection.saveRange();\n                _this.command(value);\n            },\n        };\n        _this = _super.call(this, $elem, editor, DropListMenu) || this;\n        return _this;\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    LineHeight.prototype.command = function (value) {\n        var _this = this;\n        var _a;\n        var selection = window.getSelection ? window.getSelection() : document.getSelection();\n        //允许设置dom\n        var allowArray = ['P'];\n        var editor = this.editor;\n        var st = '';\n        //恢复焦点\n        editor.selection.restoreSelection();\n        var $selectionElem = dom_core_1.default(editor.selection.getSelectionContainerElem());\n        var $selectionAll = dom_core_1.default(editor.selection.getSelectionContainerElem());\n        // let dom:HTMLElement= $selectionElem.elems[0]\n        var dom = dom_core_1.default(editor.selection.getSelectionStartElem()).elems[0];\n        //获取元素的style\n        var style = '';\n        var styleList = [];\n        //点击默认的时候删除line-height属性 并重新设置 style\n        var styleStr = '';\n        //选中多行操作\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            var isIE = util_1.UA.isIE();\n            if (isIE) {\n                // ie下禁止多行操作 避免多行造成除第一行外的段落内容都被删除\n                return;\n            }\n            //获取range 开头结束的dom在 祖父元素的下标\n            var indexStore_1 = [];\n            var arrayDom_a = [];\n            var arrayDom_b = [];\n            //获取range 开头结束的dom\n            var StartElem_1 = dom_core_1.default(editor.selection.getSelectionStartElem());\n            var EndElem_1 = dom_core_1.default(editor.selection.getSelectionEndElem());\n            var childList = (_a = editor.selection.getRange()) === null || _a === void 0 ? void 0 : _a.commonAncestorContainer.childNodes;\n            arrayDom_a.push(this.getDom(StartElem_1.elems[0]));\n            childList === null || childList === void 0 ? void 0 : childList.forEach(function (item, index) {\n                if (item === _this.getDom(StartElem_1.elems[0])) {\n                    indexStore_1.push(index);\n                }\n                if (item === _this.getDom(EndElem_1.elems[0])) {\n                    indexStore_1.push(index);\n                }\n            });\n            //遍历 获取头尾之间的dom元素\n            var i = 0;\n            var d = void 0;\n            arrayDom_b.push(this.getDom(StartElem_1.elems[0]));\n            while (arrayDom_a[i] !== this.getDom(EndElem_1.elems[0])) {\n                d = dom_core_1.default(arrayDom_a[i].nextElementSibling).elems[0];\n                if (allowArray.indexOf(dom_core_1.default(d).getNodeName()) !== -1) {\n                    arrayDom_b.push(d);\n                    arrayDom_a.push(d);\n                }\n                else {\n                    arrayDom_a.push(d);\n                }\n                i++;\n            }\n            //设置段落选取 全选\n            if (dom_core_1.default(arrayDom_a[0]).getNodeName() !== 'P') {\n                i = 0;\n                //遍历集合得到第一个p标签的下标\n                for (var k = 0; k < arrayDom_a.length; k++) {\n                    if (dom_core_1.default(arrayDom_a[k]).getNodeName() === 'P') {\n                        i = k;\n                        break;\n                    }\n                }\n                //i===0 说明选区中没有p段落\n                if (i === 0) {\n                    return;\n                }\n                var _i = 0;\n                while (_i !== i) {\n                    arrayDom_a.shift();\n                    _i++;\n                }\n            }\n            //设置替换的选区\n            this.setRange(arrayDom_a[0], arrayDom_a[arrayDom_a.length - 1]);\n            //生成innerHtml html字符串\n            arrayDom_a.forEach(function (item) {\n                style = item.getAttribute('style');\n                styleList = style ? style.split(';') : [];\n                styleStr = '';\n                if (dom_core_1.default(item).getNodeName() === 'P') {\n                    //判断是否 点击默认\n                    value\n                        ? (styleStr = _this.styleProcessing(styleList) + (\"line-height:\" + value + \";\"))\n                        : (styleStr = _this.styleProcessing(styleList));\n                    st =\n                        st +\n                            (\"<\" + dom_core_1.default(item).getNodeName().toLowerCase() + \" style=\\\"\" + styleStr + \"\\\">\" + item.innerHTML + \"</\" + dom_core_1.default(item).getNodeName().toLowerCase() + \">\");\n                }\n                else {\n                    styleStr = _this.styleProcessing(styleList);\n                    st =\n                        st +\n                            (\"<\" + dom_core_1.default(item).getNodeName().toLowerCase() + \" style=\\\"\" + styleStr + \"\\\">\" + item.innerHTML + \"</\" + dom_core_1.default(item).getNodeName().toLowerCase() + \">\");\n                }\n            });\n            this.action(st, editor);\n            //恢复已选择的选区\n            dom = $selectionAll.elems[0];\n            this.setRange(dom.children[indexStore_1[0]], dom.children[indexStore_1[1]]);\n            return;\n        }\n        //遍历dom 获取祖父元素 直到contenteditable属性的div标签\n        dom = this.getDom(dom);\n        //校验允许lineheight设置标签\n        if (allowArray.indexOf(dom_core_1.default(dom).getNodeName()) === -1) {\n            return;\n        }\n        style = dom.getAttribute('style');\n        styleList = style ? style.split(';') : [];\n        //全选 dom下所有的内容\n        selection === null || selection === void 0 ? void 0 : selection.selectAllChildren(dom);\n        //保存range\n        editor.selection.saveRange();\n        //判断是否存在value 默认 移除line-height\n        if (!value) {\n            if (style) {\n                styleStr = this.styleProcessing(styleList);\n                //避免没有其它属性 只留下 ‘style’ 减少代码\n                if (styleStr === '') {\n                    st = \"<\" + dom_core_1.default(dom).getNodeName().toLowerCase() + \">\" + dom.innerHTML + \"</\" + dom_core_1.default(dom)\n                        .getNodeName()\n                        .toLowerCase() + \">\";\n                }\n                else {\n                    st = \"<\" + dom_core_1.default(dom).getNodeName().toLowerCase() + \" style=\\\"\" + styleStr + \"\\\">\" + dom.innerHTML + \"</\" + dom_core_1.default(dom).getNodeName().toLowerCase() + \">\";\n                }\n                this.action(st, editor);\n            }\n            return;\n        }\n        if (style) {\n            //存在style 检索其它style属性\n            styleStr = this.styleProcessing(styleList) + (\"line-height:\" + value + \";\");\n        }\n        else {\n            styleStr = \"line-height:\" + value + \";\";\n        }\n        st = \"<\" + dom_core_1.default(dom).getNodeName().toLowerCase() + \" style=\\\"\" + styleStr + \"\\\">\" + dom.innerHTML + \"</\" + dom_core_1.default(dom)\n            .getNodeName()\n            .toLowerCase() + \">\";\n        //防止BLOCKQUOTE叠加\n        if (dom_core_1.default(dom).getNodeName() === 'BLOCKQUOTE') {\n            dom_core_1.default(dom).css('line-height', value);\n        }\n        else {\n            this.action(st, editor);\n        }\n    };\n    /**\n     * 遍历dom 获取祖父元素 直到contenteditable属性的div标签\n     *\n     */\n    LineHeight.prototype.getDom = function (dom) {\n        var DOM = dom_core_1.default(dom).elems[0];\n        if (!DOM.parentNode) {\n            return DOM;\n        }\n        function getParentNode($node, editor) {\n            var $parent = dom_core_1.default($node.parentNode);\n            if (editor.$textElem.equal($parent)) {\n                return $node;\n            }\n            else {\n                return getParentNode($parent.elems[0], editor);\n            }\n        }\n        DOM = getParentNode(DOM, this.editor);\n        return DOM;\n    };\n    /**\n     * 执行 document.execCommand\n     *\n     */\n    LineHeight.prototype.action = function (html_str, editor) {\n        editor.cmd.do('insertHTML', html_str);\n    };\n    /**\n     * style 处理\n     */\n    LineHeight.prototype.styleProcessing = function (styleList) {\n        var styleStr = '';\n        styleList.forEach(function (item) {\n            item !== '' && item.indexOf('line-height') === -1\n                ? (styleStr = styleStr + item + ';')\n                : '';\n        });\n        return styleStr;\n    };\n    /**\n     * 段落全选 比如：避免11变成111\n     */\n    LineHeight.prototype.setRange = function (startDom, endDom) {\n        var editor = this.editor;\n        var selection = window.getSelection ? window.getSelection() : document.getSelection();\n        //清除所有的选区\n        selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n        var range = document.createRange();\n        var star = startDom;\n        var end = endDom;\n        range.setStart(star, 0);\n        range.setEnd(end, 1);\n        selection === null || selection === void 0 ? void 0 : selection.addRange(range);\n        //保存设置好的选区\n        editor.selection.saveRange();\n        //清除所有的选区\n        selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n        //恢复选区\n        editor.selection.restoreSelection();\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    LineHeight.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            //避免选中多行设置\n            return;\n        }\n        var dom = dom_core_1.default(editor.selection.getSelectionStartElem());\n        dom = this.getDom(dom.elems[0]);\n        var style = dom.getAttribute('style') ? dom.getAttribute('style') : '';\n        //判断当前标签是否具有line-height属性\n        if (style && style.indexOf('line-height') !== -1) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return LineHeight;\n}(DropListMenu_1.default));\nexports.default = LineHeight;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @description 行高 菜单\n * @author lichunlin\n */\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar lineHeightList = /** @class */ (function () {\n    function lineHeightList(editor, list) {\n        var _this = this;\n        this.itemList = [{ $elem: dom_core_1.default(\"<span>\" + editor.i18next.t('默认') + \"</span>\"), value: '' }];\n        list.forEach(function (item) {\n            _this.itemList.push({\n                $elem: dom_core_1.default(\"<span>\" + item + \"</span>\"),\n                value: item,\n            });\n        });\n    }\n    lineHeightList.prototype.getItemList = function () {\n        return this.itemList;\n    };\n    return lineHeightList;\n}());\nexports.default = lineHeightList;\n","\"use strict\";\n/**\n * @description 撤销\n * @author tonghan\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar Undo = /** @class */ (function (_super) {\n    __extends(Undo, _super);\n    function Undo(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-undo\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 点击事件\n     */\n    Undo.prototype.clickHandler = function () {\n        this.editor.history.revoke();\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    Undo.prototype.tryChangeActive = function () {\n        // 标准模式下才进行操作\n        if (!this.editor.isCompatibleMode) {\n            if (this.editor.history.size[0]) {\n                this.active();\n            }\n            else {\n                this.unActive();\n            }\n        }\n    };\n    return Undo;\n}(BtnMenu_1.default));\nexports.default = Undo;\n","\"use strict\";\n/**\n * @description 重做\n * @author tonghan\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar Redo = /** @class */ (function (_super) {\n    __extends(Redo, _super);\n    function Redo(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n                <i class=\\\"w-e-icon-redo\\\"></i>\\n            </div>\");\n        _this = _super.call(this, $elem, editor) || this;\n        return _this;\n    }\n    /**\n     * 点击事件\n     */\n    Redo.prototype.clickHandler = function () {\n        this.editor.history.restore();\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    Redo.prototype.tryChangeActive = function () {\n        // 标准模式下才进行操作\n        if (!this.editor.isCompatibleMode) {\n            if (this.editor.history.size[1]) {\n                this.active();\n            }\n            else {\n                this.unActive();\n            }\n        }\n    };\n    return Redo;\n}(BtnMenu_1.default));\nexports.default = Redo;\n","\"use strict\";\n/**\n * @description 创建table\n * @author lichunlin\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PanelMenu_1 = __importDefault(require(\"../menu-constructors/PanelMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar create_panel_conf_1 = __importDefault(require(\"./create-panel-conf\"));\nvar Panel_1 = __importDefault(require(\"../menu-constructors/Panel\"));\nvar index_1 = __importDefault(require(\"./bind-event/index\"));\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default('<div class=\"w-e-menu\"><i class=\"w-e-icon-table2\"></i></div>');\n        _this = _super.call(this, $elem, editor) || this;\n        // 绑定事件\n        index_1.default(editor);\n        return _this;\n    }\n    /**\n     * 菜单点击事件\n     */\n    Table.prototype.clickHandler = function () {\n        this.createPanel();\n    };\n    /**\n     * 创建 panel\n     */\n    Table.prototype.createPanel = function () {\n        var conf = create_panel_conf_1.default(this.editor);\n        var panel = new Panel_1.default(this, conf);\n        panel.create();\n    };\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    Table.prototype.tryChangeActive = function () { };\n    return Table;\n}(PanelMenu_1.default));\nexports.default = Table;\n","\"use strict\";\n/**\n * @description table 菜单 panel tab 配置\n * @author lichunlin\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../utils/util\");\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nrequire(\"../../assets/style/create-panel-conf.less\");\nvar create_table_1 = __importDefault(require(\"./create-table\"));\nfunction default_1(editor) {\n    var createTable = new create_table_1.default(editor);\n    // panel 中需要用到的id\n    var colId = util_1.getRandom('w-col-id');\n    var rowId = util_1.getRandom('w-row-id');\n    var insertBtnId = util_1.getRandom('btn-link');\n    var i18nPrefix = 'menus.panelMenus.table.';\n    var t = function (text) {\n        return editor.i18next.t(text);\n    };\n    // tabs 配置 -----------------------------------------\n    var tabsConf = [\n        {\n            title: t(i18nPrefix + \"\\u63D2\\u5165\\u8868\\u683C\"),\n            tpl: \"<div>\\n                    <div class=\\\"w-e-table\\\">\\n                        <span>\" + t('创建') + \"</span>\\n                        <input id=\\\"\" + rowId + \"\\\"  type=\\\"text\\\" class=\\\"w-e-table-input\\\" value=\\\"5\\\"/></td>\\n                        <span>\" + t(i18nPrefix + \"\\u884C\") + \"</span>\\n                        <input id=\\\"\" + colId + \"\\\" type=\\\"text\\\" class=\\\"w-e-table-input\\\" value=\\\"5\\\"/></td>\\n                        <span>\" + (t(i18nPrefix + \"\\u5217\") + t(i18nPrefix + \"\\u7684\") + t(i18nPrefix + \"\\u8868\\u683C\")) + \"</span>\\n                    </div>\\n                    <div class=\\\"w-e-button-container\\\">\\n                        <button id=\\\"\" + insertBtnId + \"\\\" class=\\\"right\\\">\" + t('插入') + \"</button>\\n                    </div>\\n                </div>\",\n            events: [\n                {\n                    selector: '#' + insertBtnId,\n                    type: 'click',\n                    fn: function () {\n                        var colValue = Number(dom_core_1.default('#' + colId).val());\n                        var rowValue = Number(dom_core_1.default('#' + rowId).val());\n                        //校验是否传值\n                        if (colValue && rowValue) {\n                            createTable.createAction(rowValue, colValue);\n                        }\n                        // 返回 true 表示函数执行结束之后关闭 panel\n                        return true;\n                    },\n                },\n            ],\n        },\n    ];\n    // tabs end\n    // 最终的配置 -----------------------------------------\n    var conf = {\n        width: 330,\n        height: 0,\n        tabs: [],\n    };\n    conf.tabs.push(tabsConf[0]);\n    return conf;\n}\nexports.default = default_1;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./create-panel-conf.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-table {\\n  display: flex;\\n}\\n.w-e-table .w-e-table-input {\\n  width: 40px;\\n  text-align: center!important;\\n  margin: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n/**\n * @description 创建tabel\n * @author lichunlin\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar CreateTable = /** @class */ (function () {\n    function CreateTable(editor) {\n        this.editor = editor;\n    }\n    /**\n     * 执行创建\n     * @param rowValue 行数\n     * @param colValue 列数\n     */\n    CreateTable.prototype.createAction = function (rowValue, colValue) {\n        var editor = this.editor;\n        //不允许在有序列表中添加table\n        var $selectionElem = dom_core_1.default(editor.selection.getSelectionContainerElem());\n        var $ul = dom_core_1.default($selectionElem.elems[0]).parentUntil('UL', $selectionElem.elems[0]);\n        var $ol = dom_core_1.default($selectionElem.elems[0]).parentUntil('OL', $selectionElem.elems[0]);\n        if ($ul || $ol) {\n            return;\n        }\n        var tableDom = this.createTableHtml(rowValue, colValue);\n        editor.cmd.do('insertHTML', tableDom);\n    };\n    /**\n     * 创建table、行、列\n     * @param rowValue 行数\n     * @param colValue 列数\n     */\n    CreateTable.prototype.createTableHtml = function (rowValue, colValue) {\n        var rowStr = '';\n        var colStr = '';\n        for (var i = 0; i < rowValue; i++) {\n            colStr = '';\n            for (var j = 0; j < colValue; j++) {\n                if (i === 0) {\n                    colStr = colStr + '<th></th>';\n                }\n                else {\n                    colStr = colStr + '<td></td>';\n                }\n            }\n            rowStr = rowStr + '<tr>' + colStr + '</tr>';\n        }\n        var tableDom = \"<table border=\\\"0\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\"><tbody>\" +\n            rowStr +\n            '</tbody></table><p><br></p>';\n        return tableDom;\n    };\n    return CreateTable;\n}());\nexports.default = CreateTable;\n","\"use strict\";\n/**\n * @description 绑定点击事件\n * @author lichunlin\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tooltip_event_1 = __importDefault(require(\"./tooltip-event\"));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor) {\n    //Tooltip\n    tooltip_event_1.default(editor);\n}\nexports.default = bindEvent;\n","\"use strict\";\n/**\n * @description tooltip 事件\n * @author lichunlin\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../../utils/dom-core\"));\nvar Tooltip_1 = __importDefault(require(\"../../menu-constructors/Tooltip\"));\n//操作事件\nvar operating_event_1 = __importDefault(require(\"./event/operating-event\"));\nvar getNode_1 = __importDefault(require(\"./event/getNode\"));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor) {\n    var tooltip;\n    /**\n     * 显示 tooltip\n     * @param  table元素\n     */\n    function showTableTooltip($node) {\n        var getnode = new getNode_1.default(editor);\n        var i18nPrefix = 'menus.panelMenus.table.';\n        var t = function (text, prefix) {\n            if (prefix === void 0) { prefix = i18nPrefix; }\n            return editor.i18next.t(prefix + text);\n        };\n        var conf = [\n            {\n                // $elem: $(\"<span class='w-e-icon-trash-o'></span>\"),\n                $elem: dom_core_1.default(\"<span>\" + t('删除表格') + \"</span>\"),\n                onClick: function (editor, $node) {\n                    // 选中img元素\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    editor.cmd.do('insertHTML', '<p><br></p>');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default(\"<span>\" + t('添加行') + \"</span>\"),\n                onClick: function (editor, $node) {\n                    // 禁止多选操作\n                    var isMore = isMoreRowAction(editor);\n                    if (isMore) {\n                        return true;\n                    }\n                    //当前元素\n                    var selectDom = dom_core_1.default(editor.selection.getSelectionStartElem());\n                    //当前行\n                    var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n                    if (!$currentRow) {\n                        return true;\n                    }\n                    //获取当前行的index\n                    var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow));\n                    //生成要替换的html\n                    var htmlStr = getnode.getTableHtml($node.elems[0]);\n                    //生成新的table\n                    var newdom = getnode.getTableHtml(operating_event_1.default.ProcessingRow(dom_core_1.default(htmlStr), index).elems[0]);\n                    // 选中table\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    editor.cmd.do('insertHTML', newdom);\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default(\"<span>\" + t('删除行') + \"</span>\"),\n                onClick: function (editor, $node) {\n                    // 禁止多选操作\n                    var isMore = isMoreRowAction(editor);\n                    if (isMore) {\n                        return true;\n                    }\n                    //当前元素\n                    var selectDom = dom_core_1.default(editor.selection.getSelectionStartElem());\n                    //当前行\n                    var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n                    if (!$currentRow) {\n                        return true;\n                    }\n                    //获取当前行的index\n                    var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow));\n                    //生成要替换的html\n                    var htmlStr = getnode.getTableHtml($node.elems[0]);\n                    //获取新生成的table 判断是否是最后一行被删除 是 删除整个table\n                    var trLength = operating_event_1.default.DeleteRow(dom_core_1.default(htmlStr), index).elems[0]\n                        .childNodes[0].childNodes.length;\n                    //生成新的table\n                    var newdom = '';\n                    // 选中table\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    if (trLength === 0) {\n                        newdom = '<p><br></p>';\n                    }\n                    else {\n                        newdom = getnode.getTableHtml(operating_event_1.default.DeleteRow(dom_core_1.default(htmlStr), index).elems[0]);\n                    }\n                    editor.cmd.do('insertHTML', newdom);\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default(\"<span>\" + t('添加列') + \"</span>\"),\n                onClick: function (editor, $node) {\n                    // 禁止多选操作\n                    var isMore = isMoreRowAction(editor);\n                    if (isMore) {\n                        return true;\n                    }\n                    //当前元素\n                    var selectDom = dom_core_1.default(editor.selection.getSelectionStartElem());\n                    //当前列的index\n                    var index = getnode.getCurrentColIndex(selectDom.elems[0]);\n                    //生成要替换的html\n                    var htmlStr = getnode.getTableHtml($node.elems[0]);\n                    //生成新的table\n                    var newdom = getnode.getTableHtml(operating_event_1.default.ProcessingCol(dom_core_1.default(htmlStr), index).elems[0]);\n                    // 选中table\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    editor.cmd.do('insertHTML', newdom);\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default(\"<span>\" + t('删除列') + \"</span>\"),\n                onClick: function (editor, $node) {\n                    // 禁止多选操作\n                    var isMore = isMoreRowAction(editor);\n                    if (isMore) {\n                        return true;\n                    }\n                    //当前元素\n                    var selectDom = dom_core_1.default(editor.selection.getSelectionStartElem());\n                    //当前列的index\n                    var index = getnode.getCurrentColIndex(selectDom.elems[0]);\n                    //生成要替换的html\n                    var htmlStr = getnode.getTableHtml($node.elems[0]);\n                    //获取新生成的table 判断是否是最后一列被删除 是 删除整个table\n                    var tdLength = operating_event_1.default.DeleteCol(dom_core_1.default(htmlStr), index).elems[0]\n                        .childNodes[0].childNodes[0].childNodes.length;\n                    //生成新的table\n                    var newdom = '';\n                    // 选中table\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    if (tdLength === 1) {\n                        newdom = '<p><br></p>';\n                    }\n                    else {\n                        newdom = getnode.getTableHtml(operating_event_1.default.DeleteCol(dom_core_1.default(htmlStr), index).elems[0]);\n                    }\n                    editor.cmd.do('insertHTML', newdom);\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default(\"<span>\" + t('设置表头') + \"</span>\"),\n                onClick: function (editor, $node) {\n                    // 禁止多选操作\n                    var isMore = isMoreRowAction(editor);\n                    if (isMore) {\n                        return true;\n                    }\n                    //当前元素\n                    var selectDom = dom_core_1.default(editor.selection.getSelectionStartElem());\n                    //当前行\n                    var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n                    if (!$currentRow) {\n                        return true;\n                    }\n                    //获取当前行的index\n                    var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow));\n                    if (index !== 0) {\n                        //控制在table的第一行\n                        index = 0;\n                    }\n                    //生成要替换的html\n                    var htmlStr = getnode.getTableHtml($node.elems[0]);\n                    //生成新的table\n                    var newdom = getnode.getTableHtml(operating_event_1.default.setTheHeader(dom_core_1.default(htmlStr), index, 'th').elems[0]);\n                    // 选中table\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    editor.cmd.do('insertHTML', newdom);\n                    return true;\n                },\n            },\n            {\n                $elem: dom_core_1.default(\"<span>\" + t('取消表头') + \"</span>\"),\n                onClick: function (editor, $node) {\n                    //当前元素\n                    var selectDom = dom_core_1.default(editor.selection.getSelectionStartElem());\n                    //当前行\n                    var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n                    if (!$currentRow) {\n                        return true;\n                    }\n                    //获取当前行的index\n                    var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow));\n                    if (index !== 0) {\n                        //控制在table的第一行\n                        index = 0;\n                    }\n                    //生成要替换的html\n                    var htmlStr = getnode.getTableHtml($node.elems[0]);\n                    //生成新的table\n                    var newdom = getnode.getTableHtml(operating_event_1.default.setTheHeader(dom_core_1.default(htmlStr), index, 'td').elems[0]);\n                    // 选中table\n                    editor.selection.createRangeByElem($node);\n                    editor.selection.restoreSelection();\n                    editor.cmd.do('insertHTML', newdom);\n                    return true;\n                },\n            },\n        ];\n        tooltip = new Tooltip_1.default(editor, $node, conf);\n        tooltip.create();\n    }\n    /**\n     * 隐藏 tooltip\n     */\n    function hideTableTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove();\n            tooltip = null;\n        }\n    }\n    return {\n        showTableTooltip: showTableTooltip,\n        hideTableTooltip: hideTableTooltip,\n    };\n}\n/**\n * 判断是否是多行\n */\nfunction isMoreRowAction(editor) {\n    var $startElem = editor.selection.getSelectionStartElem();\n    var $endElem = editor.selection.getSelectionEndElem();\n    if (($startElem === null || $startElem === void 0 ? void 0 : $startElem.elems[0]) !== ($endElem === null || $endElem === void 0 ? void 0 : $endElem.elems[0])) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nfunction bindTooltipEvent(editor) {\n    var _a = createShowHideFn(editor), showTableTooltip = _a.showTableTooltip, hideTableTooltip = _a.hideTableTooltip;\n    // 点击table元素是，显示 tooltip\n    editor.txt.eventHooks.tableClickEvents.push(showTableTooltip);\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideTableTooltip);\n    editor.txt.eventHooks.keyupEvents.push(hideTableTooltip);\n    editor.txt.eventHooks.toolbarClickEvents.push(hideTableTooltip);\n    editor.txt.eventHooks.menuClickEvents.push(hideTableTooltip);\n    editor.txt.eventHooks.textScrollEvents.push(hideTableTooltip);\n}\nexports.default = bindTooltipEvent;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../../../utils/dom-core\"));\n/**\n * 处理新添加行\n * @param $node 整个table\n * @param _index 行的inde\n */\nfunction ProcessingRow($node, _index) {\n    //执行获取tbody节点\n    var $dom = generateDomAction($node);\n    //取出所有的行\n    var domArray = Array.prototype.slice.apply($dom.childNodes);\n    //列的数量\n    var childNodesLenght = domArray[0].childNodes.length;\n    //创建新tr\n    var tr = document.createElement('tr');\n    for (var i = 0; i < childNodesLenght; i++) {\n        var td = document.createElement('td');\n        tr.appendChild(td);\n    }\n    //插入集合中\n    domArray.splice(_index + 1, 0, tr);\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray);\n    return dom_core_1.default($dom.parentNode);\n}\n/**\n * 处理新添加列\n * @param $node 整个table\n * @param _index 列的inde\n */\nfunction ProcessingCol($node, _index) {\n    //执行获取tbody节点\n    var $dom = generateDomAction($node);\n    //取出所有的行\n    var domArray = Array.prototype.slice.apply($dom.childNodes);\n    var _loop_1 = function (i) {\n        var cArray = [];\n        //取出所有的列\n        domArray[i].childNodes.forEach(function (item) {\n            cArray.push(item);\n        });\n        //移除行的旧的子节点\n        while (domArray[i].childNodes.length !== 0) {\n            domArray[i].removeChild(domArray[i].childNodes[0]);\n        }\n        //列分th td\n        var td = dom_core_1.default(cArray[0]).getNodeName() !== 'TH'\n            ? document.createElement('td')\n            : document.createElement('th');\n        // let td = document.createElement('td')\n        cArray.splice(_index + 1, 0, td);\n        //插入新的子节点\n        for (var j = 0; j < cArray.length; j++) {\n            domArray[i].appendChild(cArray[j]);\n        }\n    };\n    //创建td\n    for (var i = 0; i < domArray.length; i++) {\n        _loop_1(i);\n    }\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray);\n    return dom_core_1.default($dom.parentNode);\n}\n/**\n * 处理删除行\n * @param $node  整个table\n * @param _index  行的inde\n */\nfunction DeleteRow($node, _index) {\n    //执行获取tbody节点\n    var $dom = generateDomAction($node);\n    //取出所有的行\n    var domArray = Array.prototype.slice.apply($dom.childNodes);\n    //删除行\n    domArray.splice(_index, 1);\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray);\n    return dom_core_1.default($dom.parentNode);\n}\n/**\n * 处理删除列\n * @param $node\n * @param _index\n */\nfunction DeleteCol($node, _index) {\n    //执行获取tbody节点\n    var $dom = generateDomAction($node);\n    //取出所有的行\n    var domArray = Array.prototype.slice.apply($dom.childNodes);\n    var _loop_2 = function (i) {\n        var cArray = [];\n        //取出所有的列\n        domArray[i].childNodes.forEach(function (item) {\n            cArray.push(item);\n        });\n        //移除行的旧的子节点\n        while (domArray[i].childNodes.length !== 0) {\n            domArray[i].removeChild(domArray[i].childNodes[0]);\n        }\n        cArray.splice(_index, 1);\n        //插入新的子节点\n        for (var j = 0; j < cArray.length; j++) {\n            domArray[i].appendChild(cArray[j]);\n        }\n    };\n    //创建td\n    for (var i = 0; i < domArray.length; i++) {\n        _loop_2(i);\n    }\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray);\n    return dom_core_1.default($dom.parentNode);\n}\n/**\n * 处理设置/取消表头\n * @param $node\n * @param _index\n * @type 替换的列 th 还是td\n */\nfunction setTheHeader($node, _index, type) {\n    //执行获取tbody节点\n    var $dom = generateDomAction($node);\n    //取出所有的行\n    var domArray = Array.prototype.slice.apply($dom.childNodes);\n    //列的数量\n    var childNodesLenght = domArray[_index].childNodes;\n    //创建新tr\n    var tr = document.createElement('tr');\n    var _loop_3 = function (i) {\n        //替换td为th\n        var th = document.createElement(type);\n        childNodesLenght[i].childNodes.forEach(function (item) {\n            th.appendChild(item);\n        });\n        tr.appendChild(th);\n    };\n    for (var i = 0; i < childNodesLenght.length; i++) {\n        _loop_3(i);\n    }\n    //插入集合中\n    domArray.splice(_index, 1, tr);\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray);\n    return dom_core_1.default($dom.parentNode);\n}\n/**\n * 封装移除、新增节点事件\n * @param $dom tbody节点\n * @param domArray  所有的行\n */\nfunction removeAndInsertAction($dom, domArray) {\n    //移除所有的旧的子节点\n    while ($dom.childNodes.length !== 0) {\n        $dom.removeChild($dom.childNodes[0]);\n    }\n    //插入新的子节点\n    for (var i = 0; i < domArray.length; i++) {\n        $dom.appendChild(domArray[i]);\n    }\n}\n/**\n * 封装判断是否tbody节点\n * 粘贴的table 第一个节点是<colgroup> 最后的节点<tbody>\n * @param dom\n */\nfunction generateDomAction($node) {\n    var $dom = $node.elems[0].childNodes[0];\n    if ($dom.nodeName === 'COLGROUP') {\n        $dom = $node.elems[0].childNodes[$node.elems[0].childNodes.length - 1];\n    }\n    return $dom;\n}\nexports.default = {\n    ProcessingRow: ProcessingRow,\n    ProcessingCol: ProcessingCol,\n    DeleteRow: DeleteRow,\n    DeleteCol: DeleteCol,\n    setTheHeader: setTheHeader,\n};\n","\"use strict\";\n/**\n * @description 获取dom节点\n * @author lichunlin\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../../../utils/dom-core\"));\nvar getNode = /** @class */ (function () {\n    function getNode(editor) {\n        this.editor = editor;\n    }\n    /**\n     * 获取焦点所在行\n     * @param $node 当前table\n     */\n    getNode.prototype.getRowNode = function ($node) {\n        var _a;\n        var DOM = dom_core_1.default($node).elems[0];\n        if (!DOM.parentNode) {\n            return DOM;\n        }\n        DOM = (_a = dom_core_1.default(DOM).parentUntil('TR', DOM)) === null || _a === void 0 ? void 0 : _a.elems[0];\n        return DOM;\n    };\n    /**\n     * 获取当前行的下标\n     * @param $node 当前table\n     * @param $dmo 当前行节点\n     */\n    getNode.prototype.getCurrentRowIndex = function ($node, $dom) {\n        var _index = 0;\n        var $nodeChild = $node.childNodes[0];\n        //粘贴的table 最后一个节点才是tbody\n        if ($nodeChild.nodeName === 'COLGROUP') {\n            $nodeChild = $node.childNodes[$node.childNodes.length - 1];\n        }\n        $nodeChild.childNodes.forEach(function (item, index) {\n            item === $dom ? (_index = index) : '';\n        });\n        return _index;\n    };\n    /**\n     * 获取当前列的下标\n     * @param $node 当前点击元素\n     */\n    getNode.prototype.getCurrentColIndex = function ($node) {\n        var _a;\n        //当前行\n        var _index = 0;\n        //获取当前列 td或th\n        var rowDom = dom_core_1.default($node).getNodeName() === 'TD' || dom_core_1.default($node).getNodeName() === 'TH'\n            ? $node\n            : (_a = dom_core_1.default($node).parentUntil('TD', $node)) === null || _a === void 0 ? void 0 : _a.elems[0];\n        var colDom = dom_core_1.default(rowDom).parent();\n        colDom.elems[0].childNodes.forEach(function (item, index) {\n            item === rowDom ? (_index = index) : '';\n        });\n        return _index;\n    };\n    /**\n     * 返回元素html字符串\n     * @param $node\n     */\n    getNode.prototype.getTableHtml = function ($node) {\n        var htmlStr = \"<table border=\\\"0\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\" + dom_core_1.default($node).html() + \"</table>\";\n        return htmlStr;\n    };\n    return getNode;\n}());\nexports.default = getNode;\n","\"use strict\";\n/**\n * @description 代码 菜单\n * @author lkw\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatCodeHtml = void 0;\nvar PanelMenu_1 = __importDefault(require(\"../menu-constructors/PanelMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar util_1 = require(\"../../utils/util\");\nvar create_panel_conf_1 = __importDefault(require(\"./create-panel-conf\"));\nvar is_active_1 = __importDefault(require(\"./is-active\"));\nvar Panel_1 = __importDefault(require(\"../menu-constructors/Panel\"));\nvar index_1 = __importDefault(require(\"./bind-event/index\"));\nfunction formatCodeHtml(editor, html) {\n    if (!html)\n        return html;\n    html = deleteHighlightCode(html);\n    html = formatEnterCode(html);\n    html = util_1.replaceSpecialSymbol(html);\n    return html;\n    // 格式化换换所产生的code标签\n    function formatEnterCode(html) {\n        var preArr = html.match(/<pre[\\s|\\S]+?\\/pre>/g);\n        if (preArr === null)\n            return html;\n        preArr.map(function (item) {\n            //将连续的code标签换为\\n换行\n            html = html.replace(item, item.replace(/<\\/code><code>/g, '\\n').replace(/<br>/g, ''));\n        });\n        return html;\n    }\n    // highlight格式化方法\n    function deleteHighlightCode(html) {\n        // 获取所有hljs文本\n        var m = html.match(/<span\\sclass=\"hljs[\\s|\\S]+?\\/span>/gm);\n        // 没有代码渲染文本则退出\n        // @ts-ignore\n        if (!m || !m.length)\n            return html;\n        // 获取替换文本\n        var r = util_1.deepClone(m).map(function (i) {\n            i = i.replace(/<span\\sclass=\"hljs[^>]+>/, '');\n            return i.replace(/<\\/span>/, '');\n        });\n        // @ts-ignore\n        for (var i = 0; i < m.length; i++) {\n            html = html.replace(m[i], r[i]);\n        }\n        return deleteHighlightCode(html);\n    }\n}\nexports.formatCodeHtml = formatCodeHtml;\nvar Code = /** @class */ (function (_super) {\n    __extends(Code, _super);\n    function Code(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default('<div class=\"w-e-menu\"><i class=\"w-e-icon-terminal\"></i></div>');\n        _this = _super.call(this, $elem, editor) || this;\n        // 绑定事件，如点击链接时，可以查看链接\n        index_1.default(editor);\n        return _this;\n    }\n    /**\n     * 插入行内代码\n     * @param text\n     * @return null\n     */\n    Code.prototype.insertLineCode = function (text) {\n        var editor = this.editor;\n        // 行内代码处理\n        var $code = dom_core_1.default(\"<code>\" + text + \"</code>\");\n        editor.cmd.do('insertElem', $code);\n        editor.selection.createRangeByElem($code, false);\n        editor.selection.restoreSelection();\n    };\n    /**\n     * 菜单点击事件\n     */\n    Code.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var $codeElem;\n        var selectionText = editor.selection.getSelectionText();\n        if (this.isActive) {\n            return;\n        }\n        else {\n            // 菜单未被激活，说明选区不在链接里\n            if (editor.selection.isSelectionEmpty()) {\n                // 选区是空的，未选中内容\n                this.createPanel('', '');\n            }\n            else {\n                // 行内代码处理 选中了非代码内容\n                this.insertLineCode(selectionText);\n            }\n        }\n    };\n    /**\n     * 创建 panel\n     * @param text 代码文本\n     * @param languageType 代码类型\n     */\n    Code.prototype.createPanel = function (text, languageType) {\n        var conf = create_panel_conf_1.default(this.editor, text, languageType);\n        var panel = new Panel_1.default(this, conf);\n        panel.create();\n    };\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    Code.prototype.tryChangeActive = function () {\n        var editor = this.editor;\n        if (is_active_1.default(editor)) {\n            this.active();\n        }\n        else {\n            this.unActive();\n        }\n    };\n    return Code;\n}(PanelMenu_1.default));\nexports.default = Code;\n","\"use strict\";\n/**\n * @description code 菜单 panel tab 配置\n * @author lkw\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../utils/util\");\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar is_active_1 = __importDefault(require(\"./is-active\"));\nfunction default_1(editor, text, languageType) {\n    // panel 中需要用到的id\n    var codeId = util_1.getRandom('code');\n    var inputIFrameId = util_1.getRandom('input-iframe');\n    var languageId = util_1.getRandom('select');\n    var inputCodeId = util_1.getRandom('input-code');\n    var inputTextId = util_1.getRandom('input-text');\n    var btnOkId = util_1.getRandom('btn-ok');\n    /**\n     * 插入链接\n     * @param text 文字\n     * @param code 链接\n     */\n    function insertCode(text) {\n        // 选区处于链接中，则选中整个菜单，再执行 insertHTML\n        var active = is_active_1.default(editor);\n        if (active) {\n            selectCodeElem();\n        }\n        editor.cmd.do('insertHTML', text);\n        var $code = editor.selection.getSelectionStartElem();\n        var $codeElem = $code === null || $code === void 0 ? void 0 : $code.getNodeTop(editor);\n        // 通过dom操作添加换行标签\n        // @ts-ignore\n        dom_core_1.default('<p><br></p>').insertAfter($codeElem);\n    }\n    /**\n     * 选中整个链接元素\n     */\n    function selectCodeElem() {\n        if (!is_active_1.default(editor))\n            return;\n        var $selectedCode;\n        var $code = editor.selection.getSelectionStartElem();\n        var $codeElem = $code === null || $code === void 0 ? void 0 : $code.getNodeTop(editor);\n        if (!$codeElem)\n            return;\n        editor.selection.createRangeByElem($codeElem);\n        editor.selection.restoreSelection();\n        $selectedCode = $codeElem; // 赋值给函数内全局变量\n    }\n    var t = function (text) {\n        return editor.i18next.t(text);\n    };\n    // @ts-ignore\n    var conf = {\n        width: 500,\n        height: 0,\n        // panel 中可包含多个 tab\n        tabs: [\n            {\n                // tab 的标题\n                title: t('menus.panelMenus.code.插入代码'),\n                // 模板\n                tpl: \"<div>\\n                        <select name=\\\"\\\" id=\\\"\" + languageId + \"\\\">\\n                            \" + editor.config.languageType.map(function (language) {\n                    return ('<option ' +\n                        (languageType == language ? 'selected' : '') +\n                        ' value =\"' +\n                        language +\n                        '\">' +\n                        language +\n                        '</option>');\n                }) + \"\\n                        </select>\\n                        <textarea id=\\\"\" + inputIFrameId + \"\\\" type=\\\"text\\\" class=\\\"wang-code-textarea\\\" placeholder=\\\"\\\" style=\\\"height: 160px\\\">\" + text.replace(/&quot;/g, '\"') + \"</textarea>\\n                        <div class=\\\"w-e-button-container\\\">\\n                            <button id=\\\"\" + btnOkId + \"\\\" class=\\\"right\\\">\" + (is_active_1.default(editor) ? t('修改') : t('插入')) + \"</button>\\n                        </div>\\n                    </div>\",\n                // 事件绑定\n                events: [\n                    // 插入链接\n                    {\n                        selector: '#' + btnOkId,\n                        type: 'click',\n                        fn: function () {\n                            var formatCode, codeDom;\n                            var $code = document.getElementById(inputIFrameId);\n                            var $select = dom_core_1.default('#' + languageId);\n                            var languageType = $select.val();\n                            // @ts-ignore\n                            var code = $code.value;\n                            // 高亮渲染\n                            if (editor.highlight) {\n                                formatCode = editor.highlight.highlightAuto(code).value;\n                            }\n                            else {\n                                formatCode = \"<xmp>\" + code + \"</xmp>\";\n                            }\n                            // 代码为空，则不插入\n                            if (!code)\n                                return;\n                            //增加标签\n                            if (is_active_1.default(editor)) {\n                                return false;\n                            }\n                            else {\n                                //增加pre标签\n                                codeDom = \"<pre type=\\\"\" + languageType + \"\\\"><code>\" + formatCode + \"</code></pre>\";\n                                // @ts-ignore\n                                insertCode(codeDom);\n                            }\n                            // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                            return true;\n                        },\n                    },\n                ],\n            },\n        ],\n    };\n    return conf;\n}\nexports.default = default_1;\n","\"use strict\";\n/**\n * @description 绑定链接元素的事件，入口\n * @author lkw\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tooltip_event_1 = __importDefault(require(\"./tooltip-event\"));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor) {\n    // tooltip 事件\n    tooltip_event_1.default(editor);\n}\nexports.default = bindEvent;\n","\"use strict\";\n/**\n * @description tooltip 事件\n * @author lkw\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../../utils/dom-core\"));\nvar Tooltip_1 = __importDefault(require(\"../../menu-constructors/Tooltip\"));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor) {\n    var tooltip;\n    /**\n     * 显示 tooltip\n     * @param $code 链接元素\n     */\n    function showCodeTooltip($code) {\n        var i18nPrefix = 'menus.panelMenus.code.';\n        var t = function (text, prefix) {\n            if (prefix === void 0) { prefix = i18nPrefix; }\n            return editor.i18next.t(prefix + text);\n        };\n        var conf = [\n            {\n                $elem: dom_core_1.default(\"<span>\" + t('删除代码') + \"</span>\"),\n                onClick: function (editor, $code) {\n                    //dom操作删除\n                    $code.remove();\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n        ];\n        // 创建 tooltip\n        tooltip = new Tooltip_1.default(editor, $code, conf);\n        tooltip.create();\n    }\n    /**\n     * 隐藏 tooltip\n     */\n    function hideCodeTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove();\n            tooltip = null;\n        }\n    }\n    return {\n        showCodeTooltip: showCodeTooltip,\n        hideCodeTooltip: hideCodeTooltip,\n    };\n}\n/**\n * preEnterListener是为了统一浏览器 在pre标签内的enter行为而进行的监听\n * 目前并没有使用, 但是在未来处理与Firefox和ie的兼容性时需要用到 暂且放置\n * pre标签内的回车监听\n * @param e\n * @param editor\n */\nfunction preEnterListener(e, editor) {\n    // 获取当前标签元素\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n    // 获取当前节点最顶级标签元素\n    var $topElem = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getNodeTop(editor);\n    // 获取顶级节点节点名\n    var topNodeName = $topElem === null || $topElem === void 0 ? void 0 : $topElem.getNodeName();\n    // 非pre标签退出\n    if (topNodeName !== 'PRE')\n        return;\n    // 取消默认行为\n    e.preventDefault();\n    // 执行换行\n    editor.cmd.do('insertHTML', '\\n\\r');\n}\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nfunction bindTooltipEvent(editor) {\n    var _a = createShowHideFn(editor), showCodeTooltip = _a.showCodeTooltip, hideCodeTooltip = _a.hideCodeTooltip;\n    // 点击代码元素时，显示 tooltip\n    editor.txt.eventHooks.codeClickEvents.push(showCodeTooltip);\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideCodeTooltip);\n    editor.txt.eventHooks.toolbarClickEvents.push(hideCodeTooltip);\n    editor.txt.eventHooks.menuClickEvents.push(hideCodeTooltip);\n    editor.txt.eventHooks.textScrollEvents.push(hideCodeTooltip);\n}\nexports.default = bindTooltipEvent;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @description 分割线\n * @author wangqiaoling\n */\nvar BtnMenu_1 = __importDefault(require(\"../menu-constructors/BtnMenu\"));\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar index_1 = __importDefault(require(\"./bind-event/index\"));\nvar splitLine = /** @class */ (function (_super) {\n    __extends(splitLine, _super);\n    function splitLine(editor) {\n        var _this = this;\n        var $elem = dom_core_1.default('<div class=\"w-e-menu\"><i class=\"w-e-icon-split-line\"></i></div>');\n        _this = _super.call(this, $elem, editor) || this;\n        // 绑定事件\n        index_1.default(editor);\n        return _this;\n    }\n    /**\n     * 菜单点击事件\n     */\n    splitLine.prototype.clickHandler = function () {\n        var editor = this.editor;\n        var range = editor.selection.getRange();\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        if (!$selectionElem)\n            return;\n        var $DomElement = dom_core_1.default($selectionElem.elems[0]);\n        var $tableDOM = $DomElement.parentUntil('TABLE', $selectionElem.elems[0]);\n        var $imgDOM = $DomElement.children();\n        // 禁止在代码块中添加分割线\n        if ($DomElement.getNodeName() === 'CODE')\n            return;\n        // 禁止在表格中添加分割线\n        if ($tableDOM && dom_core_1.default($tableDOM.elems[0]).getNodeName() === 'TABLE')\n            return;\n        // 禁止在图片处添加分割线\n        if ($imgDOM &&\n            $imgDOM.length !== 0 &&\n            dom_core_1.default($imgDOM.elems[0]).getNodeName() === 'IMG' &&\n            !(range === null || range === void 0 ? void 0 : range.collapsed) // 处理光标在 img 后面的情况\n        ) {\n            return;\n        }\n        this.createSplitLine();\n    };\n    /**\n     * 创建 splitLine\n     */\n    splitLine.prototype.createSplitLine = function () {\n        var splitLineDOM = '<hr/>';\n        this.editor.cmd.do('insertHTML', splitLineDOM);\n    };\n    /**\n     * 尝试修改菜单激活状态\n     */\n    splitLine.prototype.tryChangeActive = function () { };\n    return splitLine;\n}(BtnMenu_1.default));\nexports.default = splitLine;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tooltip_event_1 = __importDefault(require(\"./tooltip-event\"));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor) {\n    // 分割线的 tooltip 事件\n    tooltip_event_1.default(editor);\n}\nexports.default = bindEvent;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @description tooltip 事件\n * @author wangqiaoling\n */\nvar dom_core_1 = __importDefault(require(\"../../../utils/dom-core\"));\nvar Tooltip_1 = __importDefault(require(\"../../menu-constructors/Tooltip\"));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor) {\n    var tooltip;\n    /**\n     * 显示分割线的 tooltip\n     * @param $splitLine 分割线元素\n     */\n    function showSplitLineTooltip($splitLine) {\n        // 定义 splitLine tooltip 配置\n        var conf = [\n            {\n                $elem: dom_core_1.default(\"<span>\" + editor.i18next.t('menus.panelMenus.删除') + \"</span>\"),\n                onClick: function (editor, $splitLine) {\n                    // 选中 分割线 元素\n                    editor.selection.createRangeByElem($splitLine);\n                    editor.selection.restoreSelection();\n                    editor.cmd.do('delete');\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true;\n                },\n            },\n        ];\n        // 实例化 tooltip\n        tooltip = new Tooltip_1.default(editor, $splitLine, conf);\n        // 创建 tooltip\n        tooltip.create();\n    }\n    /**\n     * 隐藏分割线的 tooltip\n     */\n    function hideSplitLineTooltip() {\n        if (tooltip) {\n            tooltip.remove();\n            tooltip = null;\n        }\n    }\n    return {\n        showSplitLineTooltip: showSplitLineTooltip,\n        hideSplitLineTooltip: hideSplitLineTooltip,\n    };\n}\nfunction bindTooltipEvent(editor) {\n    var _a = createShowHideFn(editor), showSplitLineTooltip = _a.showSplitLineTooltip, hideSplitLineTooltip = _a.hideSplitLineTooltip;\n    // 点击分割线时，显示 tooltip\n    editor.txt.eventHooks.splitLineEvents.push(showSplitLineTooltip);\n    // 点击其他地方（工具栏、滚动、keyup）时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideSplitLineTooltip);\n    editor.txt.eventHooks.keyupEvents.push(hideSplitLineTooltip);\n    editor.txt.eventHooks.toolbarClickEvents.push(hideSplitLineTooltip);\n    editor.txt.eventHooks.menuClickEvents.push(hideSplitLineTooltip);\n    editor.txt.eventHooks.textScrollEvents.push(hideSplitLineTooltip);\n}\nexports.default = bindTooltipEvent;\n","\"use strict\";\n/**\n * @description 初始化编辑器 DOM 结构\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nvar util_1 = require(\"../../utils/util\");\nvar styleSettings = {\n    border: '1px solid #c9d8db',\n    toolbarBgColor: '#FFF',\n    toolbarBottomBorder: '1px solid #EEE',\n};\nfunction default_1(editor) {\n    var toolbarSelector = editor.toolbarSelector;\n    var $toolbarSelector = dom_core_1.default(toolbarSelector);\n    var textSelector = editor.textSelector;\n    var config = editor.config;\n    var height = config.height;\n    var i18next = editor.i18next;\n    var $toolbarElem;\n    var $textContainerElem;\n    var $textElem;\n    var $children;\n    if (textSelector == null) {\n        // 只有 toolbarSelector ，即是容器的选择器或元素，toolbar 和 text 的元素自行创建\n        $toolbarElem = dom_core_1.default('<div></div>');\n        $textContainerElem = dom_core_1.default('<div></div>');\n        // 将编辑器区域原有的内容，暂存起来\n        $children = $toolbarSelector.children();\n        // 添加到 DOM 结构中\n        $toolbarSelector.append($toolbarElem).append($textContainerElem);\n        // 自行创建的，需要配置默认的样式\n        $toolbarElem\n            .css('background-color', styleSettings.toolbarBgColor)\n            .css('border', styleSettings.border)\n            .css('border-bottom', styleSettings.toolbarBottomBorder);\n        $textContainerElem\n            .css('border', styleSettings.border)\n            .css('border-top', 'none')\n            .css('height', height + \"px\");\n    }\n    else {\n        // toolbarSelector 和 textSelector 都有\n        $toolbarElem = $toolbarSelector;\n        $textContainerElem = dom_core_1.default(textSelector);\n        // 将编辑器区域原有的内容，暂存起来\n        $children = $textContainerElem.children();\n    }\n    // 编辑区域\n    $textElem = dom_core_1.default('<div></div>');\n    $textElem.attr('contenteditable', 'true').css('width', '100%').css('height', '100%');\n    // 添加 placeholder\n    var $placeholder = dom_core_1.default(\"<div>\" + i18next.t(editor.config.placeholder) + \"</div>\");\n    $placeholder.addClass('placeholder');\n    // 初始化编辑区域内容\n    if ($children && $children.length) {\n        $textElem.append($children);\n        // 编辑器有默认值的时候隐藏placeholder\n        $placeholder.hide();\n    }\n    else {\n        $textElem.append(dom_core_1.default('<p><br></p>')); // 新增一行，方便继续编辑\n    }\n    // 编辑区域加入DOM\n    $textContainerElem.append($textElem);\n    // 添加placeholder\n    $textContainerElem.append($placeholder);\n    // 设置通用的 class\n    $toolbarElem.addClass('w-e-toolbar').css('z-index', editor.zIndex.get('toolbar'));\n    $textContainerElem.addClass('w-e-text-container');\n    $textContainerElem.css('z-index', editor.zIndex.get());\n    $textElem.addClass('w-e-text');\n    // 添加 ID\n    var toolbarElemId = util_1.getRandom('toolbar-elem');\n    $toolbarElem.attr('id', toolbarElemId);\n    var textElemId = util_1.getRandom('text-elem');\n    $textElem.attr('id', textElemId);\n    // 判断编辑区与容器高度是否一致\n    var textContainerCliheight = $textContainerElem.getClientHeight();\n    var textElemClientHeight = $textElem.getClientHeight();\n    if (textContainerCliheight !== textElemClientHeight) {\n        $textElem.css('min-height', textContainerCliheight + 'px');\n    }\n    // 记录属性\n    editor.$toolbarElem = $toolbarElem;\n    editor.$textContainerElem = $textContainerElem;\n    editor.$textElem = $textElem;\n    editor.toolbarElemId = toolbarElemId;\n    editor.textElemId = textElemId;\n}\nexports.default = default_1;\n","\"use strict\";\n/**\n * @description 初始化编辑器选区，将光标定位到文档末尾\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\n/**\n * 初始化编辑器选区，将光标定位到文档末尾\n * @param editor 编辑器实例\n * @param newLine 是否新增一行\n */\nfunction initSelection(editor, newLine) {\n    var $textElem = editor.$textElem;\n    var $children = $textElem.children();\n    if (!$children || !$children.length) {\n        // 如果编辑器区域无内容，添加一个空行，重新设置选区\n        $textElem.append(dom_core_1.default('<p><br></p>'));\n        initSelection(editor);\n        return;\n    }\n    var $last = $children.last();\n    if (newLine) {\n        // 新增一个空行\n        var html = $last.html().toLowerCase();\n        var nodeName = $last.getNodeName();\n        if ((html !== '<br>' && html !== '<br/>') || nodeName !== 'P') {\n            // 最后一个元素不是 <p><br></p>，添加一个空行，重新设置选区\n            $textElem.append(dom_core_1.default('<p><br></p>'));\n            initSelection(editor);\n            return;\n        }\n    }\n    if (editor.config.focus) {\n        editor.selection.createRangeByElem($last, false, true);\n        editor.selection.restoreSelection();\n    }\n}\nexports.default = initSelection;\n","\"use strict\";\n/**\n * @description 绑定编辑器事件 change blur focus\n * @author wangfupeng\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nfunction bindEvent(editor) {\n    // 绑定 change 事件\n    _bindChange(editor);\n    // 绑定 focus blur 事件\n    _bindFocusAndBlur(editor);\n    // 绑定 input 输入\n    _bindInput(editor);\n}\n/**\n * 绑定 change 事件\n * @param editor 编辑器实例\n */\nfunction _bindChange(editor) {\n    var onchange = editor.config.onchange;\n    editor.txt.eventHooks.changeEvents.push(function () {\n        var html = editor.txt.html() || '';\n        onchange(html);\n        editor.txt.togglePlaceholder();\n    });\n}\n/**\n * 绑定 focus blur 事件\n * @param editor 编辑器实例\n */\nfunction _bindFocusAndBlur(editor) {\n    // 当前编辑器是否是焦点状态\n    editor.isFocus = false;\n    function listener(e) {\n        var target = e.target;\n        var $target = dom_core_1.default(target);\n        var $textElem = editor.$textElem;\n        var $toolbarElem = editor.$toolbarElem;\n        //判断当前点击元素是否在编辑器内\n        var isChild = $textElem.isContain($target);\n        //判断当前点击元素是否为工具栏\n        var isToolbar = $toolbarElem.isContain($target);\n        var isMenu = $toolbarElem.elems[0] == e.target ? true : false;\n        if (!isChild) {\n            // 若为选择工具栏中的功能，则不视为成 blur 操作\n            if (isToolbar && !isMenu) {\n                return;\n            }\n            if (editor.isFocus) {\n                _blurHandler(editor);\n            }\n            editor.isFocus = false;\n        }\n        else {\n            if (!editor.isFocus) {\n                _focusHandler(editor);\n            }\n            editor.isFocus = true;\n        }\n    }\n    dom_core_1.default(document).on('click', listener);\n    // 全局事件在编辑器实例销毁的时候进行解绑\n    editor.beforeDestroy(function () {\n        dom_core_1.default(document).off('click', listener);\n    });\n}\n/**\n * 绑定 input 事件\n * @param editor 编辑器实例\n */\nfunction _bindInput(editor) {\n    // 绑定中文输入\n    editor.$textElem\n        .on('compositionstart', function () {\n        editor.isComposing = true;\n    })\n        .on('compositionend', function () {\n        editor.isComposing = false;\n    });\n}\n/**\n * blur 事件\n * @param editor 编辑器实例\n */\nfunction _blurHandler(editor) {\n    var config = editor.config;\n    var onblur = config.onblur;\n    var currentHtml = editor.txt.html() || '';\n    onblur(currentHtml);\n}\n/**\n * focus 事件\n * @param editor 编辑器实例\n */\nfunction _focusHandler(editor) {\n    var config = editor.config;\n    var onfocus = config.onfocus;\n    var currentHtml = editor.txt.html() || '';\n    onfocus(currentHtml);\n}\nexports.default = bindEvent;\n","\"use strict\";\n/**\n * @description 国际化 初始化\n * @author tonghan\n * i18next 是使用 JavaScript 编写的国际化框架\n * i18next 提供了标准的i18n功能，例如（复数，上下文，插值，格式）等\n * i18next 文档地址： https://www.i18next.com/overview/getting-started\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction i18nextInit(editor) {\n    var _a = editor.config, lang = _a.lang, languages = _a.languages;\n    if (editor.i18next != null) {\n        try {\n            editor.i18next.init({\n                ns: 'wangEditor',\n                lng: lang,\n                defaultNS: 'wangEditor',\n                resources: languages,\n            });\n        }\n        catch (error) {\n            throw new Error('i18next:' + error);\n        }\n        return;\n    }\n    // 没有引入 i18next 的替代品\n    editor.i18next = {\n        t: function (str) {\n            var strArr = str.split('.');\n            return strArr[strArr.length - 1];\n        },\n    };\n}\nexports.default = i18nextInit;\n","\"use strict\";\n/**\n * @description 全屏功能\n * @author xiaokyo\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setUnFullScreen = exports.setFullScreen = void 0;\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nrequire(\"../../assets/style/full-screen.less\");\nvar iconFullScreenText = 'w-e-icon-fullscreen'; // 全屏icon class\nvar iconExitFullScreenText = 'w-e-icon-fullscreen_exit'; // 退出全屏icon class\nvar classfullScreenEditor = 'w-e-full-screen-editor'; // 全屏添加至编辑器的class\n/**\n * 设置全屏\n * @param editor 编辑器实例\n */\nexports.setFullScreen = function (editor) {\n    var $editorParent = dom_core_1.default(editor.toolbarSelector);\n    var $textContainerElem = editor.$textContainerElem;\n    var $toolbarElem = editor.$toolbarElem;\n    var $iconElem = $toolbarElem.find(\"i.\" + iconFullScreenText);\n    var config = editor.config;\n    $iconElem.removeClass(iconFullScreenText);\n    $iconElem.addClass(iconExitFullScreenText);\n    $editorParent.addClass(classfullScreenEditor);\n    $editorParent.css('z-index', config.zIndexFullScreen);\n    $textContainerElem.css('height', '100%');\n};\n/**\n * 取消全屏\n * @param editor 编辑器实例\n */\nexports.setUnFullScreen = function (editor) {\n    var $editorParent = dom_core_1.default(editor.toolbarSelector);\n    var $textContainerElem = editor.$textContainerElem;\n    var $toolbarElem = editor.$toolbarElem;\n    var $iconElem = $toolbarElem.find(\"i.\" + iconExitFullScreenText);\n    var config = editor.config;\n    $iconElem.removeClass(iconExitFullScreenText);\n    $iconElem.addClass(iconFullScreenText);\n    $editorParent.removeClass(classfullScreenEditor);\n    $editorParent.css('z-index', 'auto');\n    $textContainerElem.css('height', config.height + 'px');\n};\n/**\n * 初始化全屏功能\n * @param editor 编辑器实例\n */\nvar initFullScreen = function (editor) {\n    // 当textSelector有值的时候，也就是编辑器是工具栏和编辑区域分离的情况， 则不生成全屏功能按钮\n    if (editor.textSelector)\n        return;\n    if (!editor.config.showFullScreen)\n        return;\n    var $toolbarElem = editor.$toolbarElem;\n    var $elem = dom_core_1.default(\"<div class=\\\"w-e-menu\\\">\\n            <i class=\\\"\" + iconFullScreenText + \"\\\"></i>\\n        </div>\");\n    $elem.on('click', function (e) {\n        var $elemIcon = dom_core_1.default(e.currentTarget).find('i');\n        if ($elemIcon.hasClass(iconFullScreenText)) {\n            exports.setFullScreen(editor);\n        }\n        else {\n            exports.setUnFullScreen(editor);\n        }\n    });\n    $toolbarElem.append($elem);\n};\nexports.default = initFullScreen;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./full-screen.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-full-screen-editor {\\n  position: fixed;\\n  width: 100%!important;\\n  height: 100%!important;\\n  left: 0;\\n  top: 0;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar style_1 = __importDefault(require(\"../../config/style\"));\nvar ZIndex = /** @class */ (function () {\n    function ZIndex() {\n        // 层级参数\n        this.tier = {\n            menu: 2,\n            panel: 2,\n            toolbar: 1,\n            tooltip: 1,\n            textContainer: 1,\n        };\n        // 默认值\n        this.baseZIndex = style_1.default.zIndex;\n    }\n    // 获取 tierName 对应的 z-index 的值。如果 tierName 未定义则返回默认的 z-index 值\n    ZIndex.prototype.get = function (tierName) {\n        if (tierName && this.tier[tierName]) {\n            return this.baseZIndex + this.tier[tierName];\n        }\n        return this.baseZIndex;\n    };\n    // 初始化\n    ZIndex.prototype.init = function (editor) {\n        if (this.baseZIndex == style_1.default.zIndex) {\n            this.baseZIndex = editor.config.zIndex;\n        }\n    };\n    return ZIndex;\n}());\nexports.default = ZIndex;\n","\"use strict\";\n/**\n * @description 编辑器 change 事件\n * @author fangzhicong\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mutation_1 = __importDefault(require(\"../../utils/observer/mutation\"));\nvar util_1 = require(\"../../utils/util\");\nvar const_1 = require(\"../../utils/const\");\n/**\n * 剔除编辑区容器的 attribute 变化中的非 contenteditable 变化\n * @param mutations MutationRecord[]\n * @param tar 编辑区容器的 DOM 节点\n */\nfunction mutationsFilter(mutations, tar) {\n    // 剔除编辑区容器的 attribute 变化中的非 contenteditable 变化\n    return mutations.filter(function (_a) {\n        var type = _a.type, target = _a.target, attributeName = _a.attributeName;\n        return (type != 'attributes' ||\n            (type == 'attributes' && (attributeName == 'contenteditable' || target != tar)));\n    });\n}\n/**\n * Change 实现\n */\nvar Change = /** @class */ (function (_super) {\n    __extends(Change, _super);\n    function Change(editor) {\n        var _this = _super.call(this, function (mutations, observer) {\n            var _a;\n            // 数据过滤\n            mutations = mutationsFilter(mutations, observer.target);\n            // 存储数据\n            (_a = _this.data).push.apply(_a, mutations);\n            // 标准模式下\n            if (!editor.isCompatibleMode) {\n                // 在非中文输入状态下时才保存数据\n                if (!editor.isComposing) {\n                    return _this.asyncSave();\n                }\n            }\n            // 兼容模式下\n            else {\n                _this.asyncSave();\n            }\n        }) || this;\n        _this.editor = editor;\n        /**\n         * 变化的数据集合\n         */\n        _this.data = [];\n        /**\n         * 异步保存数据\n         */\n        _this.asyncSave = const_1.EMPTY_FN;\n        return _this;\n    }\n    /**\n     * 保存变化的数据并发布 change event\n     */\n    Change.prototype.save = function () {\n        // 有数据\n        if (this.data.length) {\n            // 保存变化数据\n            this.editor.history.save(this.data);\n            // 清除缓存\n            this.data.length = 0;\n            this.emit();\n        }\n    };\n    /**\n     * 发布 change event\n     */\n    Change.prototype.emit = function () {\n        // 执行 onchange 回调\n        this.editor.txt.eventHooks.changeEvents.forEach(function (fn) { return fn(); });\n    };\n    // 重写 observe\n    Change.prototype.observe = function () {\n        var _this = this;\n        _super.prototype.observe.call(this, this.editor.$textElem.elems[0]);\n        var timeout = this.editor.config.onchangeTimeout;\n        this.asyncSave = util_1.debounce(function () {\n            _this.save();\n        }, timeout);\n        if (!this.editor.isCompatibleMode) {\n            this.editor.$textElem.on('compositionend', function () {\n                _this.asyncSave();\n            });\n        }\n    };\n    return Change;\n}(mutation_1.default));\nexports.default = Change;\n","\"use strict\";\n/**\n * @description 封装 MutationObserver\n * @author fangzhicong\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 封装 MutationObserver，抽离成公共类\n */\nvar Mutation = /** @class */ (function () {\n    /**\n     * 构造器\n     * @param fn 发生变化时执行的回调函数\n     * @param options 自定义配置项\n     */\n    function Mutation(fn, options) {\n        var _this = this;\n        /**\n         * 默认的 MutationObserverInit 配置\n         */\n        this.options = {\n            subtree: true,\n            childList: true,\n            attributes: true,\n            attributeOldValue: true,\n            characterData: true,\n            characterDataOldValue: true,\n        };\n        this.callback = function (mutations) {\n            fn(mutations, _this);\n        };\n        this.observer = new MutationObserver(this.callback);\n        options && (this.options = options);\n    }\n    Object.defineProperty(Mutation.prototype, \"target\", {\n        get: function () {\n            return this.node;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * 绑定监听节点（初次绑定有效）\n     * @param node 需要被监听的节点\n     */\n    Mutation.prototype.observe = function (node) {\n        if (!(this.node instanceof Node)) {\n            this.node = node;\n            this.connect();\n        }\n    };\n    /**\n     * 连接监听器（开始观察）\n     */\n    Mutation.prototype.connect = function () {\n        if (this.node) {\n            this.observer.observe(this.node, this.options);\n            return this;\n        }\n        throw new Error('还未初始化绑定，请您先绑定有效的 Node 节点');\n    };\n    /**\n     * 断开监听器（停止观察）\n     */\n    Mutation.prototype.disconnect = function () {\n        var list = this.observer.takeRecords();\n        list.length && this.callback(list);\n        this.observer.disconnect();\n    };\n    return Mutation;\n}());\nexports.default = Mutation;\n","\"use strict\";\n/**\n * @description 历史记录\n * @author fangzhicong\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar content_1 = __importDefault(require(\"./data/content\"));\nvar scroll_1 = __importDefault(require(\"./data/scroll\"));\nvar range_1 = __importDefault(require(\"./data/range\"));\n/**\n * 历史记录（撤销、恢复）\n */\nvar History = /** @class */ (function () {\n    function History(editor) {\n        this.editor = editor;\n        this.content = new content_1.default(editor);\n        this.scroll = new scroll_1.default(editor);\n        this.range = new range_1.default(editor);\n    }\n    Object.defineProperty(History.prototype, \"size\", {\n        /**\n         *  获取缓存中的数据长度。格式为：[正常的数据的条数，被撤销的数据的条数]\n         */\n        get: function () {\n            return this.scroll.size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * 初始化绑定。在 editor.create() 结尾时调用\n     */\n    History.prototype.observe = function () {\n        this.content.observe();\n        this.scroll.observe();\n        // 标准模式下才进行初始化绑定\n        !this.editor.isCompatibleMode && this.range.observe();\n    };\n    /**\n     * 保存数据\n     */\n    History.prototype.save = function (mutations) {\n        if (mutations.length) {\n            this.content.save(mutations);\n            this.scroll.save();\n            // 标准模式下才进行缓存\n            !this.editor.isCompatibleMode && this.range.save();\n        }\n    };\n    /**\n     * 撤销\n     */\n    History.prototype.revoke = function () {\n        this.editor.change.disconnect();\n        var res = this.content.revoke();\n        if (res) {\n            this.scroll.revoke();\n            // 标准模式下才执行\n            if (!this.editor.isCompatibleMode) {\n                this.range.revoke();\n                this.editor.$textElem.focus();\n            }\n        }\n        this.editor.change.connect();\n        // 如果用户在 onchange 中修改了内容（DOM），那么缓存中的节点数据可能不连贯了，不连贯的数据必将导致恢复失败，所以必须将用户的 onchange 处于监控状态中\n        res && this.editor.change.emit();\n    };\n    /**\n     * 恢复\n     */\n    History.prototype.restore = function () {\n        this.editor.change.disconnect();\n        var res = this.content.restore();\n        if (res) {\n            this.scroll.restore();\n            // 标准模式下才执行\n            if (!this.editor.isCompatibleMode) {\n                this.range.restore();\n                this.editor.$textElem.focus();\n            }\n        }\n        this.editor.change.connect();\n        // 与 revoke 同理\n        res && this.editor.change.emit();\n    };\n    return History;\n}());\nexports.default = History;\n","\"use strict\";\n/**\n * @description 整合差异备份和内容备份，进行统一管理\n * @author fangzhicong\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar node_1 = __importDefault(require(\"./node\"));\nvar html_1 = __importDefault(require(\"./html\"));\nvar ContentCache = /** @class */ (function () {\n    function ContentCache(editor) {\n        this.editor = editor;\n    }\n    /**\n     * 初始化绑定\n     */\n    ContentCache.prototype.observe = function () {\n        if (this.editor.isCompatibleMode) {\n            // 兼容模式（内容备份）\n            this.cache = new html_1.default(this.editor);\n        }\n        else {\n            // 标准模式（差异备份/节点备份）\n            this.cache = new node_1.default(this.editor);\n        }\n        this.cache.observe();\n    };\n    /**\n     * 保存\n     */\n    ContentCache.prototype.save = function (mutations) {\n        if (this.editor.isCompatibleMode) {\n            ;\n            this.cache.save();\n        }\n        else {\n            ;\n            this.cache.compile(mutations);\n        }\n    };\n    /**\n     * 撤销\n     */\n    ContentCache.prototype.revoke = function () {\n        var _a;\n        return (_a = this.cache) === null || _a === void 0 ? void 0 : _a.revoke();\n    };\n    /**\n     * 恢复\n     */\n    ContentCache.prototype.restore = function () {\n        var _a;\n        return (_a = this.cache) === null || _a === void 0 ? void 0 : _a.restore();\n    };\n    return ContentCache;\n}());\nexports.default = ContentCache;\n","\"use strict\";\n/**\n * @description 差异备份\n * @author fangzhicong\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cache_1 = __importDefault(require(\"../../../../utils/data-structure/cache\"));\nvar compile_1 = __importDefault(require(\"./compile\"));\nvar decompilation_1 = require(\"./decompilation\");\nvar NodeCache = /** @class */ (function (_super) {\n    __extends(NodeCache, _super);\n    function NodeCache(editor) {\n        var _this = _super.call(this, editor.config.historyMaxSize) || this;\n        _this.editor = editor;\n        return _this;\n    }\n    NodeCache.prototype.observe = function () {\n        this.resetMaxSize(this.editor.config.historyMaxSize);\n    };\n    /**\n     * 编译并保存数据\n     */\n    NodeCache.prototype.compile = function (data) {\n        this.save(compile_1.default(data));\n        return this;\n    };\n    /**\n     * 撤销\n     */\n    NodeCache.prototype.revoke = function () {\n        return _super.prototype.revoke.call(this, function (data) {\n            decompilation_1.revoke(data);\n        });\n    };\n    /**\n     * 恢复\n     */\n    NodeCache.prototype.restore = function () {\n        return _super.prototype.restore.call(this, function (data) {\n            decompilation_1.restore(data);\n        });\n    };\n    return NodeCache;\n}(cache_1.default));\nexports.default = NodeCache;\n","\"use strict\";\n/**\n * @description 数据结构 - 栈\n * @author fangzhicong\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CeilStack = void 0;\n/**\n * 栈（限制最大数据条数，栈满后可以继续入栈，而先入栈的数据将失效）\n */\n// 取名灵感来自 Math.ceil，向上取有效值\nvar CeilStack = /** @class */ (function () {\n    function CeilStack(max) {\n        if (max === void 0) { max = 0; }\n        /**\n         * 数据缓存\n         */\n        this.data = [];\n        /**\n         * 栈的最大长度。为零则长度不限\n         */\n        this.max = 0;\n        /**\n         * 标识是否重设过 max 值\n         */\n        this.reset = false;\n        max = Math.abs(max);\n        max && (this.max = max);\n    }\n    /**\n     * 允许用户重设一次 max 值\n     */\n    CeilStack.prototype.resetMax = function (maxSize) {\n        maxSize = Math.abs(maxSize);\n        if (!this.reset && !isNaN(maxSize)) {\n            this.max = maxSize;\n            this.reset = true;\n        }\n    };\n    Object.defineProperty(CeilStack.prototype, \"size\", {\n        /**\n         * 当前栈中的数据条数\n         */\n        get: function () {\n            return this.data.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * 入栈\n     * @param data 入栈的数据\n     */\n    CeilStack.prototype.instack = function (data) {\n        this.data.unshift(data);\n        if (this.max && this.size > this.max) {\n            this.data.length = this.max;\n        }\n        return this;\n    };\n    /**\n     * 出栈\n     */\n    CeilStack.prototype.outstack = function () {\n        return this.data.shift();\n    };\n    /**\n     * 清空栈\n     */\n    CeilStack.prototype.clear = function () {\n        this.data.length = 0;\n        return this;\n    };\n    return CeilStack;\n}());\nexports.CeilStack = CeilStack;\n","\"use strict\";\n/**\n * @description 数据整理\n * @author fangzhicong\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../../../../utils/util\");\n/**\n * 数据类型\n */\nfunction compileType(data) {\n    switch (data) {\n        case 'childList':\n            return 'node';\n        case 'attributes':\n            return 'attr';\n        default:\n            return 'text';\n    }\n}\n/**\n * 获取当前的文本内容\n */\nfunction compileValue(data) {\n    switch (data.type) {\n        case 'attributes':\n            return data.target.getAttribute(data.attributeName) || '';\n        case 'characterData':\n            return data.target.textContent;\n        default:\n            return '';\n    }\n}\n/**\n * addedNodes/removedNodes\n */\nfunction complieNodes(data) {\n    var temp = {};\n    if (data.addedNodes.length) {\n        temp.add = util_1.toArray(data.addedNodes);\n    }\n    if (data.removedNodes.length) {\n        temp.remove = util_1.toArray(data.removedNodes);\n    }\n    return temp;\n}\n/**\n * addedNodes/removedNodes 的相对位置\n */\nfunction compliePosition(data) {\n    var temp;\n    if (data.previousSibling) {\n        temp = {\n            type: 'before',\n            target: data.previousSibling,\n        };\n    }\n    else if (data.nextSibling) {\n        temp = {\n            type: 'after',\n            target: data.nextSibling,\n        };\n    }\n    else {\n        temp = {\n            type: 'parent',\n            target: data.target,\n        };\n    }\n    return temp;\n}\n/**\n * 补全 Firefox 数据的特殊标签\n */\nvar tag = ['UL', 'OL', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n/**\n * 将 MutationRecord 转换成自定义格式的数据\n */\nfunction compile(data) {\n    var temp = [];\n    // 以下两个变量是兼容 Firefox 时使用到的\n    // 前一次操作为删除元素节点\n    var removeNode = false;\n    // 连续的节点删除记录\n    var removeCache = [];\n    data.forEach(function (record, index) {\n        var item = {\n            type: compileType(record.type),\n            target: record.target,\n            attr: record.attributeName || '',\n            value: compileValue(record) || '',\n            oldValue: record.oldValue || '',\n            nodes: complieNodes(record),\n            position: compliePosition(record),\n        };\n        temp.push(item);\n        // 兼容 Firefox，补全数据（这几十行代码写得吐血，跟 IE 有得一拼）\n        if (!util_1.UA.isFirefox) {\n            return;\n        }\n        // 正常的数据：缩进、行高、超链接、对齐方式、引用、插入表情、插入图片、分割线、表格、插入代码\n        // 普通的数据补全：标题（纯文本内容）、加粗、斜体、删除线、下划线、颜色、背景色、字体、字号、列表（纯文本内容）\n        // 特殊的数据补全：标题（包含 HTMLElement）、列表（包含 HTMLElement 或 ul -> ol 或 ol -> ul 或 Enter）\n        if (removeNode && record.addedNodes.length && record.addedNodes[0].nodeType == 1) {\n            // 需要被全数据的目标节点\n            var replenishNode = record.addedNodes[0];\n            var replenishData = {\n                type: 'node',\n                target: replenishNode,\n                attr: '',\n                value: '',\n                oldValue: '',\n                nodes: {\n                    add: [removeNode],\n                },\n                position: {\n                    type: 'parent',\n                    target: replenishNode,\n                },\n            };\n            // 特殊的标签：['UL', 'OL', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6']\n            if (tag.indexOf(replenishNode.nodeName) != -1) {\n                replenishData.nodes.add = util_1.toArray(replenishNode.childNodes);\n                temp.push(replenishData);\n            }\n            // 上一个删除元素是文本节点\n            else if (removeNode.nodeType == 3) {\n                if (contains(replenishNode, removeCache)) {\n                    replenishData.nodes.add = util_1.toArray(replenishNode.childNodes);\n                }\n                temp.push(replenishData);\n            }\n            // 上一个删除元素是 Element && 由近到远的删除元素至少有一个是需要补全数据节点的子节点\n            else if (tag.indexOf(record.target.nodeName) == -1 &&\n                contains(replenishNode, removeCache)) {\n                replenishData.nodes.add = util_1.toArray(replenishNode.childNodes);\n                temp.push(replenishData);\n            }\n        }\n        // 记录本次的节点信息\n        if (item.type == 'node' && record.removedNodes.length == 1) {\n            removeNode = record.removedNodes[0];\n            removeCache.push(removeNode);\n        }\n        else {\n            removeNode = false;\n            removeCache.length = 0;\n        }\n    });\n    return temp;\n}\nexports.default = compile;\n// 删除元素的历史记录中包含有多少个目标节点的子元素\nfunction contains(tar, childs) {\n    var count = 0;\n    for (var i = childs.length - 1; i > 0; i--) {\n        if (tar.contains(childs[i])) {\n            count++;\n        }\n        else {\n            break;\n        }\n    }\n    return count;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.restore = exports.revoke = void 0;\n/**\n * 将节点添加到 DOM 树中\n * @param data 数据项\n * @param list 节点集合（addedNodes 或 removedNodes）\n */\nfunction insertNode(data, list) {\n    var reference = data.position.target;\n    switch (data.position.type) {\n        // reference 在这些节点的前面\n        case 'before':\n            if (reference.nextSibling) {\n                reference = reference.nextSibling;\n                list.forEach(function (item) {\n                    data.target.insertBefore(item, reference);\n                });\n            }\n            else {\n                list.forEach(function (item) {\n                    data.target.appendChild(item);\n                });\n            }\n            break;\n        // reference 在这些节点的后面\n        case 'after':\n            list.forEach(function (item) {\n                data.target.insertBefore(item, reference);\n            });\n            break;\n        // parent\n        // reference 是这些节点的父节点\n        default:\n            list.forEach(function (item) {\n                reference.appendChild(item);\n            });\n            break;\n    }\n}\n/* ------------------------------------------------------------------ 撤销逻辑 ------------------------------------------------------------------ */\nfunction revokeNode(data) {\n    for (var _i = 0, _a = Object.entries(data.nodes); _i < _a.length; _i++) {\n        var _b = _a[_i], relative = _b[0], list = _b[1];\n        switch (relative) {\n            // 反向操作，将这些节点从 DOM 中移除\n            case 'add':\n                list.forEach(function (item) {\n                    data.target.removeChild(item);\n                });\n                break;\n            // remove（反向操作，将这些节点添加到 DOM 中）\n            default: {\n                insertNode(data, list);\n                break;\n            }\n        }\n    }\n}\n/**\n * 撤销 attribute\n */\nfunction revokeAttr(data) {\n    var target = data.target;\n    if (data.oldValue == null) {\n        target.removeAttribute(data.attr);\n    }\n    else {\n        target.setAttribute(data.attr, data.oldValue);\n    }\n}\n/**\n * 撤销文本内容\n */\nfunction revokeText(data) {\n    data.target.textContent = data.oldValue;\n}\nvar revokeFns = {\n    node: revokeNode,\n    text: revokeText,\n    attr: revokeAttr,\n};\n// 撤销 - 对外暴露的接口\nfunction revoke(data) {\n    for (var i = data.length - 1; i > -1; i--) {\n        var item = data[i];\n        revokeFns[item.type](item);\n    }\n}\nexports.revoke = revoke;\n/* ------------------------------------------------------------------ 恢复逻辑 ------------------------------------------------------------------ */\nfunction restoreNode(data) {\n    for (var _i = 0, _a = Object.entries(data.nodes); _i < _a.length; _i++) {\n        var _b = _a[_i], relative = _b[0], list = _b[1];\n        switch (relative) {\n            case 'add': {\n                insertNode(data, list);\n                break;\n            }\n            // remove\n            default: {\n                list.forEach(function (item) {\n                    ;\n                    item.parentNode.removeChild(item);\n                });\n                break;\n            }\n        }\n    }\n}\nfunction restoreText(data) {\n    data.target.textContent = data.value;\n}\nfunction restoreAttr(data) {\n    ;\n    data.target.setAttribute(data.attr, data.value);\n}\nvar restoreFns = {\n    node: restoreNode,\n    text: restoreText,\n    attr: restoreAttr,\n};\n// 恢复 - 对外暴露的接口\nfunction restore(data) {\n    for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n        var item = data_1[_i];\n        restoreFns[item.type](item);\n    }\n}\nexports.restore = restore;\n","module.exports = require(\"core-js-pure/stable/object/entries\");","var parent = require('../../es/object/entries');\n\nmodule.exports = parent;\n","require('../../modules/es.object.entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.entries;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar chain_1 = require(\"../../../../utils/data-structure/chain\");\nvar HtmlCache = /** @class */ (function () {\n    function HtmlCache(editor) {\n        this.editor = editor;\n        this.data = new chain_1.TailChain();\n    }\n    /**\n     * 初始化绑定\n     */\n    HtmlCache.prototype.observe = function () {\n        this.data.resetMax(this.editor.config.historyMaxSize);\n        // 保存初始化值\n        this.data.insertLast(this.editor.$textElem.html());\n    };\n    /**\n     * 保存\n     */\n    HtmlCache.prototype.save = function () {\n        this.data.insertLast(this.editor.$textElem.html());\n        return this;\n    };\n    /**\n     * 撤销\n     */\n    HtmlCache.prototype.revoke = function () {\n        var data = this.data.prev();\n        if (data) {\n            this.editor.$textElem.html(data);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * 恢复\n     */\n    HtmlCache.prototype.restore = function () {\n        var data = this.data.next();\n        if (data) {\n            this.editor.$textElem.html(data);\n            return true;\n        }\n        return false;\n    };\n    return HtmlCache;\n}());\nexports.default = HtmlCache;\n","\"use strict\";\n/**\n * @description 数据结构 - 链表\n * @author fangzhicong\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TailChain = void 0;\n/**\n * 特殊链表（数据尾插入、插入前自动清理指针后边的数据、插入后指针永远定位于最后一位元素、可限制链表长度、指针双向移动）\n */\nvar TailChain = /** @class */ (function () {\n    function TailChain() {\n        /**\n         * 链表数据\n         */\n        this.data = [];\n        /**\n         * 链表最大长度，零表示长度不限\n         */\n        this.max = 0;\n        /**\n         * 指针\n         */\n        this.point = 0;\n        // 当前指针是否人为操作过\n        this.isRe = false;\n    }\n    /**\n     * 允许用户重设一次 max 值\n     */\n    TailChain.prototype.resetMax = function (maxSize) {\n        maxSize = Math.abs(maxSize);\n        maxSize && (this.max = maxSize);\n    };\n    Object.defineProperty(TailChain.prototype, \"size\", {\n        /**\n         * 当前链表的长度\n         */\n        get: function () {\n            return this.data.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * 尾插入\n     * @param data 插入的数据\n     */\n    TailChain.prototype.insertLast = function (data) {\n        // 人为操作过指针，清除指针后面的元素\n        if (this.isRe) {\n            this.data.splice(this.point + 1);\n            this.isRe = false;\n        }\n        this.data.push(data);\n        // 超出链表最大长度\n        while (this.max && this.size > this.max) {\n            this.data.shift();\n        }\n        // 从新定位指针到最后一个元素\n        this.point = this.size - 1;\n        return this;\n    };\n    /**\n     * 获取当前指针元素\n     */\n    TailChain.prototype.current = function () {\n        return this.data[this.point];\n    };\n    /**\n     * 获取上一指针元素\n     */\n    TailChain.prototype.prev = function () {\n        !this.isRe && (this.isRe = true);\n        this.point--;\n        if (this.point < 0) {\n            this.point = 0;\n            return undefined;\n        }\n        return this.current();\n    };\n    /**\n     * 下一指针元素\n     */\n    TailChain.prototype.next = function () {\n        !this.isRe && (this.isRe = true);\n        this.point++;\n        if (this.point >= this.size) {\n            this.point = this.size - 1;\n            return undefined;\n        }\n        return this.current();\n    };\n    return TailChain;\n}());\nexports.TailChain = TailChain;\n","\"use strict\";\n/**\n * @description 记录 scrollTop\n * @author fangzhicong\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cache_1 = __importDefault(require(\"../../../../utils/data-structure/cache\"));\nvar ScrollCache = /** @class */ (function (_super) {\n    __extends(ScrollCache, _super);\n    function ScrollCache(editor) {\n        var _this = _super.call(this, editor.config.historyMaxSize) || this;\n        _this.editor = editor;\n        /**\n         * 上一次的 scrollTop\n         */\n        _this.last = 0;\n        _this.target = editor.$textElem.elems[0];\n        return _this;\n    }\n    /**\n     * 给编辑区容器绑定 scroll 事件\n     */\n    ScrollCache.prototype.observe = function () {\n        var _this = this;\n        this.target = this.editor.$textElem.elems[0];\n        this.editor.$textElem.on('scroll', function () {\n            _this.last = _this.target.scrollTop;\n        });\n        this.resetMaxSize(this.editor.config.historyMaxSize);\n    };\n    /**\n     * 保存 scrollTop 值\n     */\n    ScrollCache.prototype.save = function () {\n        _super.prototype.save.call(this, [this.last, this.target.scrollTop]);\n        return this;\n    };\n    /**\n     * 撤销\n     */\n    ScrollCache.prototype.revoke = function () {\n        var _this = this;\n        return _super.prototype.revoke.call(this, function (data) {\n            _this.target.scrollTop = data[0];\n        });\n    };\n    /**\n     * 恢复\n     */\n    ScrollCache.prototype.restore = function () {\n        var _this = this;\n        return _super.prototype.restore.call(this, function (data) {\n            _this.target.scrollTop = data[1];\n        });\n    };\n    return ScrollCache;\n}(cache_1.default));\nexports.default = ScrollCache;\n","\"use strict\";\n/**\n * @description 记录 range 变化\n * @author fangzhicong\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cache_1 = __importDefault(require(\"../../../../utils/data-structure/cache\"));\nvar dom_core_1 = __importDefault(require(\"../../../../utils/dom-core\"));\nvar util_1 = require(\"../../../../utils/util\");\n/**\n * 把 Range 对象转换成缓存对象\n * @param range Range 对象\n */\nfunction rangeToObject(range) {\n    return {\n        start: [range.startContainer, range.startOffset],\n        end: [range.endContainer, range.endOffset],\n        root: range.commonAncestorContainer,\n        collapsed: range.collapsed,\n    };\n}\n/**\n * 编辑区 range 缓存管理器\n */\nvar RangeCache = /** @class */ (function (_super) {\n    __extends(RangeCache, _super);\n    function RangeCache(editor) {\n        var _this = _super.call(this, editor.config.historyMaxSize) || this;\n        _this.editor = editor;\n        _this.lastRange = rangeToObject(document.createRange());\n        _this.root = editor.$textElem.elems[0];\n        _this.updateLastRange = util_1.debounce(function () {\n            _this.lastRange = rangeToObject(_this.rangeHandle);\n        }, editor.config.onchangeTimeout);\n        return _this;\n    }\n    Object.defineProperty(RangeCache.prototype, \"rangeHandle\", {\n        /**\n         * 获取 Range 对象\n         */\n        get: function () {\n            var selection = document.getSelection();\n            return selection && selection.rangeCount ? selection.getRangeAt(0) : document.createRange();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * 初始化绑定\n     */\n    RangeCache.prototype.observe = function () {\n        var self = this;\n        // 同步节点数据\n        this.root = this.editor.$textElem.elems[0];\n        this.resetMaxSize(this.editor.config.historyMaxSize);\n        // selection change 回调函数\n        function selectionchange() {\n            var handle = self.rangeHandle;\n            if (self.root === handle.commonAncestorContainer ||\n                self.root.contains(handle.commonAncestorContainer)) {\n                // 非中文输入状态下才进行记录\n                if (!self.editor.isComposing) {\n                    self.updateLastRange();\n                }\n            }\n        }\n        // backspace 和 delete 手动更新 Range 缓存\n        function deletecallback(e) {\n            if (e.key == 'Backspace' || e.key == 'Delete') {\n                // self.lastRange = rangeToObject(self.rangeHandle)\n                self.updateLastRange();\n            }\n        }\n        // 绑定事件（必须绑定在 document 上，不能绑定在 window 上）\n        dom_core_1.default(document).on('selectionchange', selectionchange);\n        // 解除事件绑定\n        this.editor.beforeDestroy(function () {\n            dom_core_1.default(document).off('selectionchange', selectionchange);\n        });\n        // 删除文本时手动更新 range\n        self.editor.$textElem.on('keydown', deletecallback);\n    };\n    /**\n     * 保存 Range\n     */\n    RangeCache.prototype.save = function () {\n        var current = rangeToObject(this.rangeHandle);\n        _super.prototype.save.call(this, [this.lastRange, current]);\n        this.lastRange = current;\n        return this;\n    };\n    /**\n     * 设置 Range，在 撤销/恢复 中调用\n     * @param range 缓存的 Range 数据\n     */\n    RangeCache.prototype.set = function (range) {\n        if (range) {\n            var handle = this.rangeHandle;\n            handle.setStart.apply(handle, range.start);\n            handle.setEnd.apply(handle, range.end);\n            this.editor.menus.changeActive();\n            return true;\n        }\n        return false;\n    };\n    /**\n     * 撤销\n     */\n    RangeCache.prototype.revoke = function () {\n        var _this = this;\n        return _super.prototype.revoke.call(this, function (data) {\n            _this.set(data[0]);\n        });\n    };\n    /**\n     * 恢复\n     */\n    RangeCache.prototype.restore = function () {\n        var _this = this;\n        return _super.prototype.restore.call(this, function (data) {\n            _this.set(data[1]);\n        });\n    };\n    return RangeCache;\n}(cache_1.default));\nexports.default = RangeCache;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_core_1 = __importDefault(require(\"../../utils/dom-core\"));\nrequire(\"../../assets/style/disable.less\");\nvar isCurtain = false; // 避免重复生成幕布\nvar $contentDom;\nvar $menuDom;\n// 创建幕布\nfunction disable(editor) {\n    if (isCurtain)\n        return;\n    // 隐藏编辑区域\n    editor.$textElem.hide();\n    // 生成div 渲染编辑内容\n    var textContainerZindexValue = editor.zIndex.get('textContainer');\n    var content = editor.txt.html();\n    $contentDom = dom_core_1.default(\"<div class=\\\"w-e-content-mantle\\\" style=\\\"z-index:\" + textContainerZindexValue + \"\\\">\\n                <div class=\\\"w-e-content-preview w-e-text\\\">\" + content + \"</div>\\n            </div>\");\n    editor.$textContainerElem.append($contentDom);\n    // 生成div 菜单膜布\n    var menuZindexValue = editor.zIndex.get('menu');\n    $menuDom = dom_core_1.default(\"<div class=\\\"w-e-menue-mantle\\\" style=\\\"z-index:\" + menuZindexValue + \"\\\"></div>\");\n    editor.$toolbarElem.append($menuDom);\n    isCurtain = true;\n}\n// 销毁幕布并显示可编辑区域\nfunction enable(editor) {\n    if (!isCurtain)\n        return;\n    $contentDom.remove();\n    $menuDom.remove();\n    editor.$textElem.show();\n    isCurtain = false;\n}\nexports.default = {\n    disable: disable,\n    enable: enable,\n};\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./disable.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-content-mantle {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  overflow-y: auto;\\n}\\n.w-e-content-mantle .w-e-content-preview {\\n  width: 100%;\\n  min-height: 100%;\\n  padding: 0 10px;\\n  line-height: 1.5;\\n}\\n.w-e-content-mantle .w-e-content-preview img {\\n  cursor: default;\\n}\\n.w-e-content-mantle .w-e-content-preview img:hover {\\n  box-shadow: none;\\n}\\n.w-e-menue-mantle {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n"],"sourceRoot":""}